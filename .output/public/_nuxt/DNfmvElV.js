import{a as Z,b as ee}from"./B_Svc4lW.js";import{_ as ae}from"./jI7Y9ipp.js";import{E as le,a as te}from"./4_XzfzWY.js";import{E as se}from"./z8NNEHSl.js";import{_ as re}from"./Duq0IMC5.js";import{_ as oe}from"./Ca9HpryN.js";import"./DVvrfKR8.js";import"./lzM0axUW.js";import{u as de}from"./CwFcZstm.js";import{q as ne,t as ie,v as ce,x as ue,y as B}from"./BWZBFZhk.js";import{d as pe,a as x,r as A,c as b,aC as fe,F as c,I as u,J as d,a1 as w,a2 as y,R as t,H as o,L as k,u as r,N as M,G as O,_ as E}from"./CCRDBSiD.js";import"./BxtoV3vY.js";import"./ChQoo9XU.js";import"./CQxnt44T.js";import"./BS6D38iF.js";import"./CFrsTQMq.js";import"./HEVJa2N9.js";import"./CYDTDHpu.js";import"./DEPnQl9_.js";import"./D33S9czM.js";import"./BG4-zxbS.js";const me={class:"mt-12"},_e=d("div",{class:"font-medium text-2xl PPHattonMedium"},"Key Awards / Accomplishment",-1),be={class:"space-y-16 mt-12"},ve={class:"space-x-3"},we=["onClick"],ye=["onClick"],he={class:"flex items-end space-x-8"},ge={class:"w-full space-y-1"},xe=d("div",{class:"w-full font-normal text-lg PolySansNeutral"},[E("Award Organizer"),d("span",{class:"text-#ffffff"}," *Email Starscollective if not listed")],-1),ke={class:"flex space-x-8"},Ve={class:"flex space-x-8"},Ae=["onClick"],Oe=d("div",null,"update",-1),Ee=[Oe],Se={class:"flex space-x-6"},Ue=d("span",{class:"font-normal text-sm PolySansNeutral uppercase"},"ADD MORE FILM AWARD",-1),Ce=[Ue],Ne=d("span",{class:"font-normal text-sm PolySansNeutral uppercase"},"ADD MORE ART AWARD",-1),Fe=[Ne],aa=pe({__name:"Awards",async setup(Pe){let S,U;const C=x({}),h=x(),q=de(),N=x(),F=x(),p=A({title:"",describe:""}),I=b(()=>e=>e===h.value),$=e=>{e||(h.value="")},g=A({sampleList:[]}),z=A({award_id:[{required:!0,message:"Please select the organizer",trigger:"change"}],year:[{required:!0,message:"Please select the year",trigger:"change"}],film:[{required:!0,message:"Please enter the title",trigger:"blur"}],film_year:[{required:!0,message:"Please select the year",trigger:"change"}],result:[{required:!0,message:"Please select the result ",trigger:"change"}]}),W=[{value:"Winner",label:"Winner"},{value:"Shortlist",label:"Shortlist"},{value:"Nominated",label:"Nominated"}],P=b(()=>{const e=new Date().getFullYear(),s=e-49,i=[];for(let n=e;n>=s;n--)i.push({value:String(n),label:String(n)});return i}),D=b(()=>e=>e==="film"?"Film":"Artwork"),f=b(()=>e=>e.id&&!e.isEdit),H=b(()=>e=>e.id&&!e.isEdit||e.award_id!==13&&e.award_id!==14),J=b(()=>e=>e==="film"?N.value:F.value),Y=e=>s=>{C.value[e]=s},T=async(e,s)=>{const i=C.value[e];if(!i)return;await i.validate();const n=JSON.parse(JSON.stringify(s));if(n.award_id=n.award_id.toString(),s.id){const m=await ne({...n});p.title="Change Updated!",p.describe=m.msg}else{const m=await ie({...n});p.title="Added!",p.describe=m.msg}h.value="OkBox",V()},G=async(e,s)=>{if(s.id){const i=await ce(s.id);p.title="Deleted!",p.describe=i.msg,h.value="OkBox",V()}else g.sampleList.splice(e,1)},L=async e=>{g.sampleList.push({type:e,award_id:"",year:"",film:"",film_year:"",result:"",remark:""})},V=async()=>{const{user_id:e}=q.getUserInfo,s=await ue(e);g.sampleList=s.data},K=async()=>{const e=await B("film"),s=await B("art");N.value=e.data,F.value=s.data};return[S,U]=fe(()=>K()),await S,U(),V(),(e,s)=>{const i=Z,n=ee,m=ae,_=le,R=se,j=te,Q=re,X=oe;return c(),u("div",me,[_e,d("div",be,[(c(!0),u(w,null,y(r(g).sampleList,(a,v)=>(c(),u("div",{key:v,class:"border-b border-#474747 pb-16 space-y-8"},[t(j,{ref_for:!0,ref:Y(v),class:"space-y-8",model:a,rules:r(z),"require-asterisk-position":"right","label-position":"top"},{default:o(()=>[d("div",ve,[d("span",null,k(a.type)+" Award "+k(v+1),1),d("span",{class:"text-#ffffff underline underline-offset-2 cursor-pointer",onClick:l=>G(v,a)},"REMOVE",8,we),r(f)(a)?(c(),u("span",{key:0,class:"text-#ffffff underline underline-offset-2 cursor-pointer",onClick:l=>a.isEdit=!0},"EDIT",8,ye)):M("",!0)]),d("div",he,[t(_,{label:"",prop:"award_id",class:"flex-1"},{default:o(()=>[d("div",ge,[xe,t(m,null,{default:o(()=>[t(n,{modelValue:a.award_id,"onUpdate:modelValue":l=>a.award_id=l,"value-key":"id",placeholder:"Select",class:"w-full",disabled:r(f)(a)},{default:o(()=>[(c(!0),u(w,null,y(r(J)(a.type),l=>(c(),O(i,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)])]),_:2},1024),t(_,{label:"Award year",prop:"year",class:"w-40"},{default:o(()=>[t(n,{modelValue:a.year,"onUpdate:modelValue":l=>a.year=l,placeholder:"",disabled:r(f)(a)},{default:o(()=>[(c(!0),u(w,null,y(r(P),l=>(c(),O(i,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)]),d("div",ke,[t(_,{label:r(D)(a.type)+" Title",prop:"film",class:"flex-1"},{default:o(()=>[t(R,{modelValue:a.film,"onUpdate:modelValue":l=>a.film=l,modelModifiers:{trim:!0},placeholder:"",clearable:"",disabled:r(f)(a)},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["label"]),t(_,{label:r(D)(a.type)+" year",prop:"film_year",class:"w-40"},{default:o(()=>[t(m,null,{default:o(()=>[t(n,{modelValue:a.film_year,"onUpdate:modelValue":l=>a.film_year=l,placeholder:"",disabled:r(f)(a)},{default:o(()=>[(c(!0),u(w,null,y(r(P),l=>(c(),O(i,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)]),_:2},1032,["label"])]),d("div",Ve,[t(_,{label:"Result",prop:"result",class:"w-40"},{default:o(()=>[t(m,null,{default:o(()=>[t(n,{modelValue:a.result,"onUpdate:modelValue":l=>a.result=l,placeholder:"Select",disabled:r(f)(a)},{default:o(()=>[(c(),u(w,null,y(W,l=>t(i,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)]),_:2},1024),t(_,{label:"If you selected 'Other' in Award Organizer, please specify",class:"flex-1"},{default:o(()=>[t(R,{modelValue:a.remark,"onUpdate:modelValue":l=>a.remark=l,modelModifiers:{trim:!0},placeholder:"",clearable:"",disabled:r(H)(a)},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)]),r(f)(a)?M("",!0):(c(),u("div",{key:0,class:"btn gradient-btn mt-14",onClick:l=>T(v,a)},Ee,8,Ae))]),_:2},1032,["model","rules"])]))),128)),d("div",Se,[d("div",{class:"w-fit flex items-center border border-#747474 py-2 px-4 space-x-16 cursor-pointer",onClick:s[0]||(s[0]=a=>L("film"))},Ce),d("div",{class:"w-fit flex items-center border border-#747474 py-2 px-4 space-x-16 cursor-pointer",onClick:s[1]||(s[1]=a=>L("art"))},Fe)])]),t(X,{"model-value":r(I)("OkBox")},{default:o(()=>[t(Q,{"onUpdate:modelValue":$},{title:o(()=>[E(k(r(p).title),1)]),describe:o(()=>[E(k(r(p).describe),1)]),_:1})]),_:1},8,["model-value"])])}}});export{aa as default};
