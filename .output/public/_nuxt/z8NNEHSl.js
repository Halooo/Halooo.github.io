import{c as p,g as re,a as I,s as Q,w as O,al as qe,i as M,u as a,D as Ne,t as Ve,ae as Je,E as oe,d as Te,at as Qe,aa as Ze,n as N,F as m,I as S,N as h,a1 as ne,Q as b,M as Y,J as V,G as z,H as A,X as q,O as se,R as Ge,a3 as et,a9 as tt,L as J,a4 as at,ao as Ee}from"./CCRDBSiD.js";import{a as ot,i as ze,V as nt,u as st}from"./BxtoV3vY.js";import{q as lt,b as it,f as le,m as rt,v as ut,s as dt,E as H,t as ct,_ as pt,w as ft}from"./DVvrfKR8.js";import{i as Re,l as vt,f as Ce,e as Fe,H as mt}from"./CwFcZstm.js";import{g as ht,e as yt,b as gt}from"./CQxnt44T.js";import{f as ue,a as Le,u as bt,d as Pe}from"./ChQoo9XU.js";import{U as ie}from"./HEVJa2N9.js";const xt=()=>Re&&/firefox/i.test(window.navigator.userAgent),wt=o=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(o),St=["class","style"],It=/^on[A-Z]/,Et=(o={})=>{const{excludeListeners:n=!1,excludeKeys:s}=o,t=p(()=>((s==null?void 0:s.value)||[]).concat(St)),l=re();return l?p(()=>{var i;return lt(Object.entries((i=l.proxy)==null?void 0:i.$attrs).filter(([d])=>!t.value.includes(d)&&!(n&&It.test(d))))}):p(()=>({}))},Be=o=>{const n=re();return p(()=>{var s,t;return(t=(s=n==null?void 0:n.proxy)==null?void 0:s.$props)==null?void 0:t[o]})};function zt(o){const n=I();function s(){if(o.value==null)return;const{selectionStart:l,selectionEnd:i,value:d}=o.value;if(l==null||i==null)return;const v=d.slice(0,Math.max(0,l)),f=d.slice(Math.max(0,i));n.value={selectionStart:l,selectionEnd:i,value:d,beforeTxt:v,afterTxt:f}}function t(){if(o.value==null||n.value==null)return;const{value:l}=o.value,{beforeTxt:i,afterTxt:d,selectionStart:v}=n.value;if(i==null||d==null||v==null)return;let f=l.length;if(l.endsWith(d))f=l.length-d.length;else if(l.startsWith(i))f=i.length;else{const g=i[v-1],w=l.indexOf(g,v-1);w!==-1&&(f=w+1)}o.value.setSelectionRange(f,f)}return[s,t]}function Ct(o,{afterFocus:n,beforeBlur:s,afterBlur:t}={}){const l=re(),{emit:i}=l,d=Q(),v=I(!1),f=c=>{v.value||(v.value=!0,i("focus",c),n==null||n())},g=c=>{var T;qe(s)&&s(c)||c.relatedTarget&&((T=d.value)!=null&&T.contains(c.relatedTarget))||(v.value=!1,i("blur",c),t==null||t())},w=()=>{var c;(c=o.value)==null||c.focus()};return O(d,c=>{c&&c.setAttribute("tabindex","-1")}),ot(d,"click",w),{wrapperRef:d,isFocused:v,handleFocus:f,handleBlur:g}}const Ft=(o,n={})=>{const s=I(void 0),t=n.prop?s:Be("size"),l=n.global?s:ht(),i=n.form?{size:void 0}:M(ue,void 0),d=n.formItem?{size:void 0}:M(Le,void 0);return p(()=>t.value||a(o)||(d==null?void 0:d.size)||(i==null?void 0:i.size)||l.value||"")},Pt=o=>{const n=Be("disabled"),s=M(ue,void 0);return p(()=>n.value||a(o)||(s==null?void 0:s.disabled)||!1)},kt=()=>{const o=M(ue,void 0),n=M(Le,void 0);return{form:o,formItem:n}},Nt=(o,{formItemContext:n,disableIdGeneration:s,disableIdManagement:t})=>{s||(s=I(!1)),t||(t=I(!1));const l=I();let i;const d=p(()=>{var v;return!!(!(o.label||o.ariaLabel)&&n&&n.inputIds&&((v=n.inputIds)==null?void 0:v.length)<=1)});return Ne(()=>{i=O([Ve(o,"id"),s],([v,f])=>{const g=v??(f?void 0:vt().value);g!==l.value&&(n!=null&&n.removeInputId&&(l.value&&n.removeInputId(l.value),!(t!=null&&t.value)&&!f&&g&&n.addInputId(g)),l.value=g)},{immediate:!0})}),Je(()=>{i&&i(),n!=null&&n.removeInputId&&l.value&&n.removeInputId(l.value)}),{isLabeledByFormItem:d,inputId:l}};let x;const Vt=`
  height:0 !important;
  visibility:hidden !important;
  ${xt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Tt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Rt(o){const n=window.getComputedStyle(o),s=n.getPropertyValue("box-sizing"),t=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),l=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:Tt.map(d=>`${d}:${n.getPropertyValue(d)}`).join(";"),paddingSize:t,borderSize:l,boxSizing:s}}function ke(o,n=1,s){var t;x||(x=document.createElement("textarea"),document.body.appendChild(x));const{paddingSize:l,borderSize:i,boxSizing:d,contextStyle:v}=Rt(o);x.setAttribute("style",`${v};${Vt}`),x.value=o.value||o.placeholder||"";let f=x.scrollHeight;const g={};d==="border-box"?f=f+i:d==="content-box"&&(f=f-l),x.value="";const w=x.scrollHeight-l;if(Ce(n)){let c=w*n;d==="border-box"&&(c=c+l+i),f=Math.max(c,f),g.minHeight=`${c}px`}if(Ce(s)){let c=w*s;d==="border-box"&&(c=c+l+i),f=Math.min(c,f)}return g.height=`${f}px`,(t=x.parentNode)==null||t.removeChild(x),x=void 0,g}const Lt=it({id:{type:String,default:void 0},size:yt,disabled:Boolean,modelValue:{type:le([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ze},prefixIcon:{type:ze},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:le([Object,Array,String]),default:()=>rt({})},autofocus:{type:Boolean,default:!1},...bt(["ariaLabel"])}),Bt={[ie]:o=>oe(o),input:o=>oe(o),change:o=>oe(o),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},$t=["role"],At=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Ht=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Ot=Te({name:"ElInput",inheritAttrs:!1}),Mt=Te({...Ot,props:Lt,emits:Bt,setup(o,{expose:n,emit:s}){const t=o,l=Qe(),i=Ze(),d=p(()=>{const e={};return t.containerRole==="combobox"&&(e["aria-haspopup"]=l["aria-haspopup"],e["aria-owns"]=l["aria-owns"],e["aria-expanded"]=l["aria-expanded"]),e}),v=p(()=>[t.type==="textarea"?ce.b():u.b(),u.m(de.value),u.is("disabled",F.value),u.is("exceed",Oe.value),{[u.b("group")]:i.prepend||i.append,[u.bm("group","append")]:i.append,[u.bm("group","prepend")]:i.prepend,[u.m("prefix")]:i.prefix||t.prefixIcon,[u.m("suffix")]:i.suffix||t.suffixIcon||t.clearable||t.showPassword,[u.bm("suffix","password-clear")]:W.value&&ee.value,[u.b("hidden")]:t.type==="hidden"},l.class]),f=p(()=>[u.e("wrapper"),u.is("focus",G.value)]),g=Et({excludeKeys:p(()=>Object.keys(d.value))}),{form:w,formItem:c}=kt(),{inputId:T}=Nt(t,{formItemContext:c}),de=Ft(),F=Pt(),u=Fe("input"),ce=Fe("textarea"),D=Q(),E=Q(),Z=I(!1),R=I(!1),K=I(!1),pe=I(),j=Q(t.inputStyle),P=p(()=>D.value||E.value),{wrapperRef:$e,isFocused:G,handleFocus:U,handleBlur:_}=Ct(P,{afterBlur(){var e;t.validateEvent&&((e=c==null?void 0:c.validate)==null||e.call(c,"blur").catch(r=>Pe()))}}),fe=p(()=>{var e;return(e=w==null?void 0:w.statusIcon)!=null?e:!1}),L=p(()=>(c==null?void 0:c.validateState)||""),ve=p(()=>L.value&&nt[L.value]),Ae=p(()=>K.value?ut:dt),He=p(()=>[l.style]),me=p(()=>[t.inputStyle,j.value,{resize:t.resize}]),C=p(()=>mt(t.modelValue)?"":String(t.modelValue)),W=p(()=>t.clearable&&!F.value&&!t.readonly&&!!C.value&&(G.value||Z.value)),ee=p(()=>t.showPassword&&!F.value&&!t.readonly&&!!C.value&&(!!C.value||G.value)),k=p(()=>t.showWordLimit&&!!t.maxlength&&(t.type==="text"||t.type==="textarea")&&!F.value&&!t.readonly&&!t.showPassword),te=p(()=>C.value.length),Oe=p(()=>!!k.value&&te.value>Number(t.maxlength)),Me=p(()=>!!i.suffix||!!t.suffixIcon||W.value||t.showPassword||k.value||!!L.value&&fe.value),[De,Ke]=zt(D);st(E,e=>{if(je(),!k.value||t.resize!=="both")return;const r=e[0],{width:y}=r.contentRect;pe.value={right:`calc(100% - ${y+15+6}px)`}});const B=()=>{const{type:e,autosize:r}=t;if(!(!Re||e!=="textarea"||!E.value))if(r){const y=Ee(r)?r.minRows:void 0,X=Ee(r)?r.maxRows:void 0,Ie=ke(E.value,y,X);j.value={overflowY:"hidden",...Ie},N(()=>{E.value.offsetHeight,j.value=Ie})}else j.value={minHeight:ke(E.value).minHeight}},je=(e=>{let r=!1;return()=>{var y;if(r||!t.autosize)return;((y=E.value)==null?void 0:y.offsetParent)===null||(e(),r=!0)}})(B),$=()=>{const e=P.value,r=t.formatter?t.formatter(C.value):C.value;!e||e.value===r||(e.value=r)},ae=async e=>{De();let{value:r}=e.target;if(t.formatter&&(r=t.parser?t.parser(r):r),!R.value){if(r===C.value){$();return}s(ie,r),s("input",r),await N(),$(),Ke()}},he=e=>{s("change",e.target.value)},ye=e=>{s("compositionstart",e),R.value=!0},ge=e=>{var r;s("compositionupdate",e);const y=(r=e.target)==null?void 0:r.value,X=y[y.length-1]||"";R.value=!wt(X)},be=e=>{s("compositionend",e),R.value&&(R.value=!1,ae(e))},Ue=()=>{K.value=!K.value,xe()},xe=async()=>{var e;await N(),(e=P.value)==null||e.focus()},_e=()=>{var e;return(e=P.value)==null?void 0:e.blur()},We=e=>{Z.value=!1,s("mouseleave",e)},Xe=e=>{Z.value=!0,s("mouseenter",e)},we=e=>{s("keydown",e)},Ye=()=>{var e;(e=P.value)==null||e.select()},Se=()=>{s(ie,""),s("change",""),s("clear"),s("input","")};return O(()=>t.modelValue,()=>{var e;N(()=>B()),t.validateEvent&&((e=c==null?void 0:c.validate)==null||e.call(c,"change").catch(r=>Pe()))}),O(C,()=>$()),O(()=>t.type,async()=>{await N(),$(),B()}),Ne(()=>{!t.formatter&&t.parser,$(),N(B)}),gt({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},p(()=>!!t.label)),n({input:D,textarea:E,ref:P,textareaStyle:me,autosize:Ve(t,"autosize"),focus:xe,blur:_e,select:Ye,clear:Se,resizeTextarea:B}),(e,r)=>(m(),S("div",se(a(d),{class:a(v),style:a(He),role:e.containerRole,onMouseenter:Xe,onMouseleave:We}),[h(" input "),e.type!=="textarea"?(m(),S(ne,{key:0},[h(" prepend slot "),e.$slots.prepend?(m(),S("div",{key:0,class:b(a(u).be("group","prepend"))},[Y(e.$slots,"prepend")],2)):h("v-if",!0),V("div",{ref_key:"wrapperRef",ref:$e,class:b(a(f))},[h(" prefix slot "),e.$slots.prefix||e.prefixIcon?(m(),S("span",{key:0,class:b(a(u).e("prefix"))},[V("span",{class:b(a(u).e("prefix-inner"))},[Y(e.$slots,"prefix"),e.prefixIcon?(m(),z(a(H),{key:0,class:b(a(u).e("icon"))},{default:A(()=>[(m(),z(q(e.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),V("input",se({id:a(T),ref_key:"input",ref:D,class:a(u).e("inner")},a(g),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?K.value?"text":"password":e.type,disabled:a(F),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label||e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,onCompositionstart:ye,onCompositionupdate:ge,onCompositionend:be,onInput:ae,onFocus:r[0]||(r[0]=(...y)=>a(U)&&a(U)(...y)),onBlur:r[1]||(r[1]=(...y)=>a(_)&&a(_)(...y)),onChange:he,onKeydown:we}),null,16,At),h(" suffix slot "),a(Me)?(m(),S("span",{key:1,class:b(a(u).e("suffix"))},[V("span",{class:b(a(u).e("suffix-inner"))},[!a(W)||!a(ee)||!a(k)?(m(),S(ne,{key:0},[Y(e.$slots,"suffix"),e.suffixIcon?(m(),z(a(H),{key:0,class:b(a(u).e("icon"))},{default:A(()=>[(m(),z(q(e.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),a(W)?(m(),z(a(H),{key:1,class:b([a(u).e("icon"),a(u).e("clear")]),onMousedown:et(a(tt),["prevent"]),onClick:Se},{default:A(()=>[Ge(a(ct))]),_:1},8,["class","onMousedown"])):h("v-if",!0),a(ee)?(m(),z(a(H),{key:2,class:b([a(u).e("icon"),a(u).e("password")]),onClick:Ue},{default:A(()=>[(m(),z(q(a(Ae))))]),_:1},8,["class"])):h("v-if",!0),a(k)?(m(),S("span",{key:3,class:b(a(u).e("count"))},[V("span",{class:b(a(u).e("count-inner"))},J(a(te))+" / "+J(e.maxlength),3)],2)):h("v-if",!0),a(L)&&a(ve)&&a(fe)?(m(),z(a(H),{key:4,class:b([a(u).e("icon"),a(u).e("validateIcon"),a(u).is("loading",a(L)==="validating")])},{default:A(()=>[(m(),z(q(a(ve))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),e.$slots.append?(m(),S("div",{key:1,class:b(a(u).be("group","append"))},[Y(e.$slots,"append")],2)):h("v-if",!0)],64)):(m(),S(ne,{key:1},[h(" textarea "),V("textarea",se({id:a(T),ref_key:"textarea",ref:E,class:a(ce).e("inner")},a(g),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:a(F),readonly:e.readonly,autocomplete:e.autocomplete,style:a(me),"aria-label":e.label||e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,onCompositionstart:ye,onCompositionupdate:ge,onCompositionend:be,onInput:ae,onFocus:r[2]||(r[2]=(...y)=>a(U)&&a(U)(...y)),onBlur:r[3]||(r[3]=(...y)=>a(_)&&a(_)(...y)),onChange:he,onKeydown:we}),null,16,Ht),a(k)?(m(),S("span",{key:0,style:at(pe.value),class:b(a(u).e("count"))},J(a(te))+" / "+J(e.maxlength),7)):h("v-if",!0)],64))],16,$t))}});var Dt=pt(Mt,[["__file","input.vue"]]);const Jt=ft(Dt);export{Jt as E,Ft as a,Pt as b,Nt as c,Et as d,Ct as e,wt as i,kt as u};
