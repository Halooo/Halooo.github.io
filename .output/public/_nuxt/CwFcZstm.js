const __vite__fileDeps=["./DzmiSUAh.js","./z8NNEHSl.js","./CCRDBSiD.js","./swiper-vue.JG58ooqa.css","./BxtoV3vY.js","./DVvrfKR8.js","./base.BLbfKORI.css","./CQxnt44T.js","./request.DJhm0lbD.css","./ChQoo9XU.js","./HEVJa2N9.js","./el-input.BBHsZF-x.css","./4_XzfzWY.js","./DEPnQl9_.js","./D33S9czM.js","./CFrsTQMq.js","./el-form.xWw5OCe7.css","./BSQIj-Lg.js","./DqzbFe6Q.js","./BWZBFZhk.js","./BC9HHZ53.js","./N8ynluon.js","./Wwhvj2e7.js","./D__FQfop.js","./B9tbQC3l.js","./CPwt8FHk.js","./BQkc-AXV.js","./DlAUqK2U.js","./Icon.8lQfE3Ql.css","./Duq0IMC5.js","./Ca9HpryN.js","./Index.CouRq_bz.css","./B8TGnGC_.js","./carptzjG.js","./CgkpSk_o.js","./CA_83_2H.js","./BSuJJa-5.js","./63eL9P8Q.js","./step1.EtLpQwak.css","./CVS_1olq.js","./C2y_cNR4.js","./DUjPhIcG.js","./D_rkFCR0.js","./CuUKM155.js","./D1ZMWBna.js","./CYDTDHpu.js","./el-image-viewer.BHVceWjq.css","./B8zx-bW2.js","./B_Svc4lW.js","./lzM0axUW.js","./BG4-zxbS.js","./el-popper.D4uZ7bVu.css","./BS6D38iF.js","./el-select.D5HjiSAn.css","./el-pagination.Dv7_frj5.css","./BBGjIsc9.js","./Bozs4bGn.js","./event.CSpy6pF2.css","./C_YwyoxF.js","./festivals.BoX6e6hR.css","./BVM4zXAs.js","./footage.C9d4L-C_.css","./D92nbnvB.js","./gala.Tv2k_98L.css","./DZ-e0JrV.js","./DyskBgIl.js","./Index.-zq8IB2a.css","./x_rD_Ya3.js","./grant.6oXiDiHi.css","./DzgnnfKG.js","./q0_6oCrt.js","./Crp7Q-jv.js","./C0ku3fsb.js","./BAUZi-RQ.js","./Menus.D42r1k5y.css","./Header.BYyWdwob.css","./CVrsTBzS.js","./CCYnbmxF.js","./eE2tiywY.js","./Dk93-rZw.js","./index.B5lk-oxi.css","./C_FMLjD-.js","./CMbFdO57.js","./masterClass.B7rDDvqX.css","./DM5xH44a.js","./hmHarVOq.js","./medium.CKwTUOh-.css","./DklwihnA.js","./mentors.Bi74_Sow.css","./2g7oPZrP.js","./merch.DZQZHcYJ.css","./Cfdzg4-L.js","./metaverse.B9QYApTh.css","./p3Gm1ezq.js","./CILZtIb1.js","./nuxtWelcome.DXWGcheF.css","./tRrlsypE.js","./philanthropy.MNvzpxRM.css","./BljJ91Rz.js","./DwYlMbVW.js","./Jp-PdjmT.js","./CvdPIZw_.js","./BEa8FyQu.js","./Index.D9-DJu1n.css","./BBKA5SLa.js","./BrVIp9b3.js","./jI7Y9ipp.js","./index.tlP1m1uQ.css","./CXuhZvl5.js","./starsMovies.DqJ5TT95.css","./D-iAxapy.js","./DPQaGKxQ.js","./DIGTeyru.js","./el-collapse.49iVlY31.css","./DQLbfB8X.js","./C52qeF-W.js","./D3UAkyN0.js","./Dp4MThHG.js","./DZ965u3p.js","./DByEY-Ay.js","./BBpo_XpR.js","./C-iXL3P1.js","./CST6dbDj.js","./B-djiCx9.js","./user.DTR5NSuE.css","./Bj-WkIys.js","./BTNCCQ4k.js","./message.DnY4yL85.css","./C6plJaM2.js","./notificatSet.Db9MM12o.css","./CzXP1RDQ.js","./profilePage.CR8LHNp-.css","./BV0hF_Ur.js","./proposal.hDV2xbQD.css","./CPqojXbA.js","./0wTm2jvP.js","./Nv8xuGmf.js","./BVLeiRnK.js","./BrDnybj_.js","./CYQ6tR30.js","./CLTs8bsa.js","./IconCSS.Z2BAHt_z.css","./DclduwXO.js","./C8VYDkEB.js","./BjL10g1j.js","./DyNFTHBA.js","./CMb2dCDj.js","./error-404.C9l8SaQ8.css","./WF4RdjBm.js","./error-500.CbowB0ry.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as Zd,r as ln,h as ef,g as Vn,i as ht,t as nx,n as Nr,v as ax,u as ge,s as Qr,a as Je,b as hu,d as Br,c as Fe,f as Mt,p as Yi,w as Jr,K as sx,j as ox,m as Sv,k as Ao,l as xv,o as Ev,q as pu,x as mu,y as ux,z as lx,A as Ei,B as cx,C as tf,D as Cv,E as dx,S as rf,T as nf,F as mr,G as Kr,H as af,I as wv,J as Gr,L as Dp,M as fx,N as Vc,O as hx,P as px,Q as ul,R as kp,U as mx,V as gx,W as vx,X as _x,Y as yx,Z as Tx}from"./CCRDBSiD.js";const bx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Sx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,xx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Ex(n,e){if(n==="__proto__"||n==="constructor"&&e&&typeof e=="object"&&"prototype"in e){return}return e}function Qa(n,e={}){if(typeof n!="string")return n;const r=n.trim();if(n[0]==='"'&&n.endsWith('"')&&!n.includes("\\"))return r.slice(1,-1);if(r.length<=9){const i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!xx.test(n)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return n}try{if(bx.test(n)||Sx.test(n)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(n,Ex)}return JSON.parse(n)}catch(i){if(e.strict)throw i;return n}}const Cx=/#/g,wx=/&/g,Ax=/\//g,Dx=/=/g,sf=/\+/g,kx=/%5e/gi,Px=/%60/gi,Ix=/%7c/gi,Ox=/%20/gi;function Lx(n){return encodeURI(""+n).replace(Ix,"|")}function Hc(n){return Lx(typeof n=="string"?n:JSON.stringify(n)).replace(sf,"%2B").replace(Ox,"+").replace(Cx,"%23").replace(wx,"%26").replace(Px,"`").replace(kx,"^").replace(Ax,"%2F")}function ll(n){return Hc(n).replace(Dx,"%3D")}function Do(n=""){try{return decodeURIComponent(""+n)}catch{return""+n}}function Rx(n){return Do(n.replace(sf," "))}function Mx(n){return Do(n.replace(sf," "))}function Fx(n=""){const e={};n[0]==="?"&&(n=n.slice(1));for(const r of n.split("&")){const i=r.match(/([^=]+)=?(.*)/)||[];if(i.length<2)continue;const t=Rx(i[1]);if(t==="__proto__"||t==="constructor")continue;const a=Mx(i[2]||"");e[t]===void 0?e[t]=a:Array.isArray(e[t])?e[t].push(a):e[t]=[e[t],a]}return e}function Nx(n,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(r=>`${ll(n)}=${Hc(r)}`).join("&"):`${ll(n)}=${Hc(e)}`:ll(n)}function Bx(n){return Object.keys(n).filter(e=>n[e]!==void 0).map(e=>Nx(e,n[e])).filter(Boolean).join("&")}const Ux=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,jx=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Vx=/^([/\\]\s*){2,}[^/\\]/,Hx=/^[\s\0]*(blob|data|javascript|vbscript):$/i,qx=/\/$|\/\?|\/#/,Wx=/^\.?\//;function cn(n,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Ux.test(n):jx.test(n)||(e.acceptRelative?Vx.test(n):!1)}function zx(n){return!!n&&Hx.test(n)}function qc(n="",e){return e?qx.test(n):n.endsWith("/")}function of(n="",e){if(!e)return(qc(n)?n.slice(0,-1):n)||"/";if(!qc(n,!0))return n||"/";let r=n,i="";const t=n.indexOf("#");t>=0&&(r=n.slice(0,t),i=n.slice(t));const[a,...s]=r.split("?");return((a.endsWith("/")?a.slice(0,-1):a)||"/")+(s.length>0?`?${s.join("?")}`:"")+i}function Wc(n="",e){if(!e)return n.endsWith("/")?n:n+"/";if(qc(n,!0))return n||"/";let r=n,i="";const t=n.indexOf("#");if(t>=0&&(r=n.slice(0,t),i=n.slice(t),!r))return i;const[a,...s]=r.split("?");return a+"/"+(s.length>0?`?${s.join("?")}`:"")+i}function Gx(n=""){return n.startsWith("/")}function Pp(n=""){return Gx(n)?n:"/"+n}function $x(n,e){if(Dv(e)||cn(n))return n;const r=of(e);return n.startsWith(r)?n:uf(r,n)}function Ip(n,e){if(Dv(e))return n;const r=of(e);if(!n.startsWith(r))return n;const i=n.slice(r.length);return i[0]==="/"?i:"/"+i}function Av(n,e){const r=gu(n),i={...Fx(r.search),...e};return r.search=Bx(i),Yx(r)}function Dv(n){return!n||n==="/"}function Kx(n){return n&&n!=="/"}function uf(n,...e){let r=n||"";for(const i of e.filter(t=>Kx(t)))if(r){const t=i.replace(Wx,"");r=Wc(r)+t}else r=i;return r}function kv(...n){var s,o,u,l;const e=/\/(?!\/)/,r=n.filter(Boolean),i=[];let t=0;for(const c of r)if(!(!c||c==="/")){for(const[d,f]of c.split(e).entries())if(!(!f||f===".")){if(f===".."){if(i.length===1&&cn(i[0]))continue;i.pop(),t--;continue}if(d===1&&((s=i[i.length-1])!=null&&s.endsWith(":/"))){i[i.length-1]+="/"+f;continue}i.push(f),t++}}let a=i.join("/");return t>=0?(o=r[0])!=null&&o.startsWith("/")&&!a.startsWith("/")?a="/"+a:(u=r[0])!=null&&u.startsWith("./")&&!a.startsWith("./")&&(a="./"+a):a="../".repeat(-1*t)+a,(l=r[r.length-1])!=null&&l.endsWith("/")&&!a.endsWith("/")&&(a+="/"),a}function Xx(n,e,r={}){return r.trailingSlash||(n=Wc(n),e=Wc(e)),r.leadingSlash||(n=Pp(n),e=Pp(e)),r.encoding||(n=Do(n),e=Do(e)),n===e}const Pv=Symbol.for("ufo:protocolRelative");function gu(n="",e){const r=n.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,d,f=""]=r;return{protocol:d.toLowerCase(),pathname:f,href:d+f,auth:"",host:"",search:"",hash:""}}if(!cn(n,{acceptRelative:!0}))return e?gu(e+n):Op(n);const[,i="",t,a=""]=n.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,s="",o=""]=a.match(/([^#/?]*)(.*)?/)||[],{pathname:u,search:l,hash:c}=Op(o.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:i.toLowerCase(),auth:t?t.slice(0,Math.max(0,t.length-1)):"",host:s,pathname:u,search:l,hash:c,[Pv]:!i}}function Op(n=""){const[e="",r="",i=""]=(n.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:i}}function Yx(n){const e=n.pathname||"",r=n.search?(n.search.startsWith("?")?"":"?")+n.search:"",i=n.hash||"",t=n.auth?n.auth+"@":"",a=n.host||"";return(n.protocol||n[Pv]?(n.protocol||"")+"//":"")+t+a+e+r+i}class Qx extends Error{constructor(e,r){super(e,r),this.name="FetchError",r!=null&&r.cause&&!this.cause&&(this.cause=r.cause)}}function Jx(n){var u,l,c,d,f;const e=((u=n.error)==null?void 0:u.message)||((l=n.error)==null?void 0:l.toString())||"",r=((c=n.request)==null?void 0:c.method)||((d=n.options)==null?void 0:d.method)||"GET",i=((f=n.request)==null?void 0:f.url)||String(n.request)||"/",t=`[${r}] ${JSON.stringify(i)}`,a=n.response?`${n.response.status} ${n.response.statusText}`:"<no response>",s=`${t}: ${a}${e?` ${e}`:""}`,o=new Qx(s,n.error?{cause:n.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(o,p,{get(){return n[p]}});for(const[p,y]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,p,{get(){return n.response&&n.response[y]}});return o}const Zx=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Lp(n="GET"){return Zx.has(n.toUpperCase())}function eE(n){if(n===void 0)return!1;const e=typeof n;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(n)?!0:n.buffer?!1:n.constructor&&n.constructor.name==="Object"||typeof n.toJSON=="function"}const tE=new Set(["image/svg","application/xml","application/xhtml","application/html"]),rE=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function iE(n=""){if(!n)return"json";const e=n.split(";").shift()||"";return rE.test(e)?"json":tE.has(e)||e.startsWith("text/")?"text":"blob"}function nE(n,e,r=globalThis.Headers){const i={...e,...n};if(e!=null&&e.params&&(n!=null&&n.params)&&(i.params={...e==null?void 0:e.params,...n==null?void 0:n.params}),e!=null&&e.query&&(n!=null&&n.query)&&(i.query={...e==null?void 0:e.query,...n==null?void 0:n.query}),e!=null&&e.headers&&(n!=null&&n.headers)){i.headers=new r((e==null?void 0:e.headers)||{});for(const[t,a]of new r((n==null?void 0:n.headers)||{}))i.headers.set(t,a)}return i}const aE=new Set([408,409,425,429,500,502,503,504]),sE=new Set([101,204,205,304]);function Iv(n={}){const{fetch:e=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:i=globalThis.AbortController}=n;async function t(o){const u=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!u){let c;typeof o.options.retry=="number"?c=o.options.retry:c=Lp(o.options.method)?0:1;const d=o.response&&o.response.status||500;if(c>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(d):aE.has(d))){const f=o.options.retryDelay||0;return f>0&&await new Promise(p=>setTimeout(p,f)),a(o.request,{...o.options,retry:c-1})}}const l=Jx(o);throw Error.captureStackTrace&&Error.captureStackTrace(l,a),l}const a=async function(u,l={}){var p;const c={request:u,options:nE(l,n.defaults,r),response:void 0,error:void 0};c.options.method=(p=c.options.method)==null?void 0:p.toUpperCase(),c.options.onRequest&&await c.options.onRequest(c),typeof c.request=="string"&&(c.options.baseURL&&(c.request=$x(c.request,c.options.baseURL)),(c.options.query||c.options.params)&&(c.request=Av(c.request,{...c.options.params,...c.options.query}))),c.options.body&&Lp(c.options.method)&&(eE(c.options.body)?(c.options.body=typeof c.options.body=="string"?c.options.body:JSON.stringify(c.options.body),c.options.headers=new r(c.options.headers||{}),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json")):("pipeTo"in c.options.body&&typeof c.options.body.pipeTo=="function"||typeof c.options.body.pipe=="function")&&("duplex"in c.options||(c.options.duplex="half")));let d;if(!c.options.signal&&c.options.timeout){const y=new i;d=setTimeout(()=>y.abort(),c.options.timeout),c.options.signal=y.signal}try{c.response=await e(c.request,c.options)}catch(y){return c.error=y,c.options.onRequestError&&await c.options.onRequestError(c),await t(c)}finally{d&&clearTimeout(d)}if(c.response.body&&!sE.has(c.response.status)&&c.options.method!=="HEAD"){const y=(c.options.parseResponse?"json":c.options.responseType)||iE(c.response.headers.get("content-type")||"");switch(y){case"json":{const _=await c.response.text(),T=c.options.parseResponse||Qa;c.response._data=T(_);break}case"stream":{c.response._data=c.response.body;break}default:c.response._data=await c.response[y]()}}return c.options.onResponse&&await c.options.onResponse(c),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600?(c.options.onResponseError&&await c.options.onResponseError(c),await t(c)):c.response},s=async function(u,l){return(await a(u,l))._data};return s.raw=a,s.native=(...o)=>e(...o),s.create=(o={})=>Iv({...n,defaults:{...n.defaults,...o}}),s}const lf=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),oE=lf.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),uE=lf.Headers,lE=lf.AbortController,cE=Iv({fetch:oE,Headers:uE,AbortController:lE}),dE=cE,fE=()=>{var n;return((n=window==null?void 0:window.__NUXT__)==null?void 0:n.config)||{}},ko=fE().app,hE=()=>ko.baseURL,pE=()=>ko.buildAssetsDir,cf=(...n)=>kv(Ov(),pE(),...n),Ov=(...n)=>{const e=ko.cdnURL||ko.baseURL;return n.length?kv(e,...n):e};globalThis.__buildAssetsURL=cf,globalThis.__publicAssetsURL=Ov;globalThis.$fetch||(globalThis.$fetch=dE.create({baseURL:hE()}));function zc(n,e={},r){for(const i in n){const t=n[i],a=r?`${r}:${i}`:i;typeof t=="object"&&t!==null?zc(t,e,a):typeof t=="function"&&(e[a]=t)}return e}const mE={run:n=>n()},gE=()=>mE,Lv=typeof console.createTask<"u"?console.createTask:gE;function vE(n,e){const r=e.shift(),i=Lv(r);return n.reduce((t,a)=>t.then(()=>i.run(()=>a(...e))),Promise.resolve())}function _E(n,e){const r=e.shift(),i=Lv(r);return Promise.all(n.map(t=>i.run(()=>t(...e))))}function cl(n,e){for(const r of[...n])r(e)}class yE{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,r,i={}){if(!e||typeof r!="function")return()=>{};const t=e;let a;for(;this._deprecatedHooks[e];)a=this._deprecatedHooks[e],e=a.to;if(a&&!i.allowDeprecated){let s=a.message;s||(s=`${t} hook has been deprecated`+(a.to?`, please use ${a.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(s)||this._deprecatedMessages.add(s)}if(!r.name)try{Object.defineProperty(r,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(r),()=>{r&&(this.removeHook(e,r),r=void 0)}}hookOnce(e,r){let i,t=(...a)=>(typeof i=="function"&&i(),i=void 0,t=void 0,r(...a));return i=this.hook(e,t),i}removeHook(e,r){if(this._hooks[e]){const i=this._hooks[e].indexOf(r);i!==-1&&this._hooks[e].splice(i,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,r){this._deprecatedHooks[e]=typeof r=="string"?{to:r}:r;const i=this._hooks[e]||[];delete this._hooks[e];for(const t of i)this.hook(e,t)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const r in e)this.deprecateHook(r,e[r])}addHooks(e){const r=zc(e),i=Object.keys(r).map(t=>this.hook(t,r[t]));return()=>{for(const t of i.splice(0,i.length))t()}}removeHooks(e){const r=zc(e);for(const i in r)this.removeHook(i,r[i])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...r){return r.unshift(e),this.callHookWith(vE,e,...r)}callHookParallel(e,...r){return r.unshift(e),this.callHookWith(_E,e,...r)}callHookWith(e,r,...i){const t=this._before||this._after?{name:r,args:i,context:{}}:void 0;this._before&&cl(this._before,t);const a=e(r in this._hooks?[...this._hooks[r]]:[],i);return a instanceof Promise?a.finally(()=>{this._after&&t&&cl(this._after,t)}):(this._after&&t&&cl(this._after,t),a)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const r=this._before.indexOf(e);r!==-1&&this._before.splice(r,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const r=this._after.indexOf(e);r!==-1&&this._after.splice(r,1)}}}}function Rv(){return new yE}function TE(n={}){let e,r=!1;const i=s=>{if(e&&e!==s)throw new Error("Context conflict")};let t;if(n.asyncContext){const s=n.AsyncLocalStorage||globalThis.AsyncLocalStorage;s&&(t=new s)}const a=()=>{if(t&&e===void 0){const s=t.getStore();if(s!==void 0)return s}return e};return{use:()=>{const s=a();if(s===void 0)throw new Error("Context is not available");return s},tryUse:()=>a(),set:(s,o)=>{o||i(s),e=s,r=!0},unset:()=>{e=void 0,r=!1},call:(s,o)=>{i(s),e=s;try{return t?t.run(s,o):o()}finally{r||(e=void 0)}},async callAsync(s,o){e=s;const u=()=>{e=s},l=()=>e===s?u:void 0;Gc.add(l);try{const c=t?t.run(s,o):o();return r||(e=void 0),await c}finally{Gc.delete(l)}}}}function bE(n={}){const e={};return{get(r,i={}){return e[r]||(e[r]=TE({...n,...i})),e[r],e[r]}}}const Po=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Rp="__unctx__",SE=Po[Rp]||(Po[Rp]=bE()),xE=(n,e={})=>SE.get(n,e),Mp="__unctx_async_handlers__",Gc=Po[Mp]||(Po[Mp]=new Set);function Ja(n){const e=[];for(const t of Gc){const a=t();a&&e.push(a)}const r=()=>{for(const t of e)t()};let i=n();return i&&typeof i=="object"&&"catch"in i&&(i=i.catch(t=>{throw r(),t})),[i,r]}const Mv=xE("nuxt-app",{asyncContext:!1}),EE="__nuxt_plugin";function CE(n){let e=0;const r={_scope:Zd(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.11.2"},get vue(){return r.vueApp.version}},payload:ln({data:{},state:{},once:new Set,_errors:{},...window.__NUXT__??{}}),static:{data:{}},runWithContext:t=>r._scope.run(()=>DE(r,t)),isHydrating:!0,deferHydration(){if(!r.isHydrating)return()=>{};e++;let t=!1;return()=>{if(!t&&(t=!0,e--,e===0))return r.isHydrating=!1,r.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...n};r.hooks=Rv(),r.hook=r.hooks.hook,r.callHook=r.hooks.callHook,r.provide=(t,a)=>{const s="$"+t;eo(r,s,a),eo(r.vueApp.config.globalProperties,s,a)},eo(r.vueApp,"$nuxt",r),eo(r.vueApp.config.globalProperties,"$nuxt",r);{window.addEventListener("nuxt.preloadError",a=>{r.callHook("app:chunkError",{error:a.payload})}),window.useNuxtApp=window.useNuxtApp||ke;const t=r.hook("app:error",(...a)=>{});r.hook("app:mounted",t)}const i=r.payload.config;return r.provide("config",i),r}async function wE(n,e){if(e.hooks&&n.hooks.addHooks(e.hooks),typeof e=="function"){const{provide:r}=await n.runWithContext(()=>e(n))||{};if(r&&typeof r=="object")for(const i in r)n.provide(i,r[i])}}async function AE(n,e){const r=[],i=[],t=[],a=[];let s=0;async function o(u){var c;const l=((c=u.dependsOn)==null?void 0:c.filter(d=>e.some(f=>f._name===d)&&!r.includes(d)))??[];if(l.length>0)i.push([new Set(l),u]);else{const d=wE(n,u).then(async()=>{u._name&&(r.push(u._name),await Promise.all(i.map(async([f,p])=>{f.has(u._name)&&(f.delete(u._name),f.size===0&&(s++,await o(p)))})))});u.parallel?t.push(d.catch(f=>a.push(f))):await d}}for(const u of e)await o(u);if(await Promise.all(t),s)for(let u=0;u<s;u++)await Promise.all(t);if(a.length)throw a[0]}function It(n){if(typeof n=="function")return n;const e=n._name||n.name;return delete n.name,Object.assign(n.setup||(()=>{}),n,{[EE]:!0,_name:e})}function DE(n,e,r){const i=()=>e();return Mv.set(n),n.vueApp.runWithContext(i)}function kE(){var e;let n;return ef()&&(n=(e=Vn())==null?void 0:e.appContext.app.$nuxt),n=n||Mv.tryUse(),n||null}function ke(){const n=kE();if(!n)throw new Error("[nuxt] instance unavailable");return n}function vu(n){return ke().$config}function eo(n,e,r){Object.defineProperty(n,e,{get:()=>r})}const to=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function PE(n,e){if(typeof n!="string")throw new TypeError("argument str must be a string");const r={},t=(e||{}).decode||LE;let a=0;for(;a<n.length;){const s=n.indexOf("=",a);if(s===-1)break;let o=n.indexOf(";",a);if(o===-1)o=n.length;else if(o<s){a=n.lastIndexOf(";",s-1)+1;continue}const u=n.slice(a,s).trim();if(r[u]===void 0){let l=n.slice(s+1,o).trim();l.codePointAt(0)===34&&(l=l.slice(1,-1)),r[u]=OE(l,t)}a=o+1}return r}function Fp(n,e,r){const i=r||{},t=i.encode||RE;if(typeof t!="function")throw new TypeError("option encode is invalid");if(!to.test(n))throw new TypeError("argument name is invalid");const a=t(e);if(a&&!to.test(a))throw new TypeError("argument val is invalid");let s=n+"="+a;if(i.maxAge!==void 0&&i.maxAge!==null){const o=i.maxAge-0;if(Number.isNaN(o)||!Number.isFinite(o))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(o)}if(i.domain){if(!to.test(i.domain))throw new TypeError("option domain is invalid");s+="; Domain="+i.domain}if(i.path){if(!to.test(i.path))throw new TypeError("option path is invalid");s+="; Path="+i.path}if(i.expires){if(!IE(i.expires)||Number.isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(s+="; HttpOnly"),i.secure&&(s+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":{s+="; Priority=Low";break}case"medium":{s+="; Priority=Medium";break}case"high":{s+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:{s+="; SameSite=Strict";break}case"lax":{s+="; SameSite=Lax";break}case"strict":{s+="; SameSite=Strict";break}case"none":{s+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(s+="; Partitioned"),s}function IE(n){return Object.prototype.toString.call(n)==="[object Date]"||n instanceof Date}function OE(n,e){try{return e(n)}catch{return n}}function LE(n){return n.includes("%")?decodeURIComponent(n):n}function RE(n){return encodeURIComponent(n)}const Np=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function $c(n,e){e?e={...Np,...e}:e=Np;const r=Fv(e);return r.dispatch(n),r.toString()}const ME=Object.freeze(["prototype","__proto__","constructor"]);function Fv(n){let e="",r=new Map;const i=t=>{e+=t};return{toString(){return e},getContext(){return r},dispatch(t){return n.replacer&&(t=n.replacer(t)),this[t===null?"null":typeof t](t)},object(t){if(t&&typeof t.toJSON=="function")return this.object(t.toJSON());const a=Object.prototype.toString.call(t);let s="";const o=a.length;o<10?s="unknown:["+a+"]":s=a.slice(8,o-1),s=s.toLowerCase();let u=null;if((u=r.get(t))===void 0)r.set(t,r.size);else return this.dispatch("[CIRCULAR:"+u+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(t))return i("buffer:"),i(t.toString("utf8"));if(s!=="object"&&s!=="function"&&s!=="asyncfunction")this[s]?this[s](t):n.ignoreUnknown||this.unkown(t,s);else{let l=Object.keys(t);n.unorderedObjects&&(l=l.sort());let c=[];n.respectType!==!1&&!Bp(t)&&(c=ME),n.excludeKeys&&(l=l.filter(f=>!n.excludeKeys(f)),c=c.filter(f=>!n.excludeKeys(f))),i("object:"+(l.length+c.length)+":");const d=f=>{this.dispatch(f),i(":"),n.excludeValues||this.dispatch(t[f]),i(",")};for(const f of l)d(f);for(const f of c)d(f)}},array(t,a){if(a=a===void 0?n.unorderedArrays!==!1:a,i("array:"+t.length+":"),!a||t.length<=1){for(const u of t)this.dispatch(u);return}const s=new Map,o=t.map(u=>{const l=Fv(n);l.dispatch(u);for(const[c,d]of l.getContext())s.set(c,d);return l.toString()});return r=s,o.sort(),this.array(o,!1)},date(t){return i("date:"+t.toJSON())},symbol(t){return i("symbol:"+t.toString())},unkown(t,a){if(i(a),!!t&&(i(":"),t&&typeof t.entries=="function"))return this.array(Array.from(t.entries()),!0)},error(t){return i("error:"+t.toString())},boolean(t){return i("bool:"+t)},string(t){i("string:"+t.length+":"),i(t)},function(t){i("fn:"),Bp(t)?this.dispatch("[native]"):this.dispatch(t.toString()),n.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),n.respectFunctionProperties&&this.object(t)},number(t){return i("number:"+t)},xml(t){return i("xml:"+t.toString())},null(){return i("Null")},undefined(){return i("Undefined")},regexp(t){return i("regex:"+t.toString())},uint8array(t){return i("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},uint8clampedarray(t){return i("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},int8array(t){return i("int8array:"),this.dispatch(Array.prototype.slice.call(t))},uint16array(t){return i("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},int16array(t){return i("int16array:"),this.dispatch(Array.prototype.slice.call(t))},uint32array(t){return i("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},int32array(t){return i("int32array:"),this.dispatch(Array.prototype.slice.call(t))},float32array(t){return i("float32array:"),this.dispatch(Array.prototype.slice.call(t))},float64array(t){return i("float64array:"),this.dispatch(Array.prototype.slice.call(t))},arraybuffer(t){return i("arraybuffer:"),this.dispatch(new Uint8Array(t))},url(t){return i("url:"+t.toString())},map(t){i("map:");const a=[...t];return this.array(a,n.unorderedSets!==!1)},set(t){i("set:");const a=[...t];return this.array(a,n.unorderedSets!==!1)},file(t){return i("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},blob(){if(n.ignoreUnknown)return i("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return i("domwindow")},bigint(t){return i("bigint:"+t.toString())},process(){return i("process")},timer(){return i("timer")},pipe(){return i("pipe")},tcp(){return i("tcp")},udp(){return i("udp")},tty(){return i("tty")},statwatcher(){return i("statwatcher")},securecontext(){return i("securecontext")},connection(){return i("connection")},zlib(){return i("zlib")},context(){return i("context")},nodescript(){return i("nodescript")},httpparser(){return i("httpparser")},dataview(){return i("dataview")},signal(){return i("signal")},fsevent(){return i("fsevent")},tlswrap(){return i("tlswrap")}}}const Nv="[native code] }",FE=Nv.length;function Bp(n){return typeof n!="function"?!1:Function.prototype.toString.call(n).slice(-FE)===Nv}class bi{constructor(e,r){e=this.words=e||[],this.sigBytes=r===void 0?e.length*4:r}toString(e){return(e||NE).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let r=0;r<e.sigBytes;r++){const i=e.words[r>>>2]>>>24-r%4*8&255;this.words[this.sigBytes+r>>>2]|=i<<24-(this.sigBytes+r)%4*8}else for(let r=0;r<e.sigBytes;r+=4)this.words[this.sigBytes+r>>>2]=e.words[r>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new bi([...this.words])}}const NE={stringify(n){const e=[];for(let r=0;r<n.sigBytes;r++){const i=n.words[r>>>2]>>>24-r%4*8&255;e.push((i>>>4).toString(16),(i&15).toString(16))}return e.join("")}},BE={stringify(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[];for(let i=0;i<n.sigBytes;i+=3){const t=n.words[i>>>2]>>>24-i%4*8&255,a=n.words[i+1>>>2]>>>24-(i+1)%4*8&255,s=n.words[i+2>>>2]>>>24-(i+2)%4*8&255,o=t<<16|a<<8|s;for(let u=0;u<4&&i*8+u*6<n.sigBytes*8;u++)r.push(e.charAt(o>>>6*(3-u)&63))}return r.join("")}},UE={parse(n){const e=n.length,r=[];for(let i=0;i<e;i++)r[i>>>2]|=(n.charCodeAt(i)&255)<<24-i%4*8;return new bi(r,e)}},jE={parse(n){return UE.parse(unescape(encodeURIComponent(n)))}};class VE{constructor(){this._data=new bi,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new bi,this._nDataBytes=0}_append(e){typeof e=="string"&&(e=jE.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,r){}_process(e){let r,i=this._data.sigBytes/(this.blockSize*4);e?i=Math.ceil(i):i=Math.max((i|0)-this._minBufferSize,0);const t=i*this.blockSize,a=Math.min(t*4,this._data.sigBytes);if(t){for(let s=0;s<t;s+=this.blockSize)this._doProcessBlock(this._data.words,s);r=this._data.words.splice(0,t),this._data.sigBytes-=a}return new bi(r,a)}}class HE extends VE{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}}const Up=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],qE=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ui=[];class WE extends HE{constructor(){super(...arguments),this._hash=new bi([...Up])}reset(){super.reset(),this._hash=new bi([...Up])}_doProcessBlock(e,r){const i=this._hash.words;let t=i[0],a=i[1],s=i[2],o=i[3],u=i[4],l=i[5],c=i[6],d=i[7];for(let f=0;f<64;f++){if(f<16)Ui[f]=e[r+f]|0;else{const I=Ui[f-15],k=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,D=Ui[f-2],N=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;Ui[f]=k+Ui[f-7]+N+Ui[f-16]}const p=u&l^~u&c,y=t&a^t&s^a&s,_=(t<<30|t>>>2)^(t<<19|t>>>13)^(t<<10|t>>>22),T=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),E=d+T+p+qE[f]+Ui[f],C=_+y;d=c,c=l,l=u,u=o+E|0,o=s,s=a,a=t,t=E+C|0}i[0]=i[0]+t|0,i[1]=i[1]+a|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+u|0,i[5]=i[5]+l|0,i[6]=i[6]+c|0,i[7]=i[7]+d|0}finalize(e){super.finalize(e);const r=this._nDataBytes*8,i=this._data.sigBytes*8;return this._data.words[i>>>5]|=128<<24-i%32,this._data.words[(i+64>>>9<<4)+14]=Math.floor(r/4294967296),this._data.words[(i+64>>>9<<4)+15]=r,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function zE(n){return new WE().finalize(n).toString(BE)}function DM(n,e={}){const r=typeof n=="string"?n:$c(n,e);return zE(r).slice(0,10)}function GE(n,e,r={}){return n===e||$c(n,r)===$c(e,r)}function $E(n,e){return{ctx:{table:n},matchAll:r=>Uv(r,n)}}function Bv(n){const e={};for(const r in n)e[r]=r==="dynamic"?new Map(Object.entries(n[r]).map(([i,t])=>[i,Bv(t)])):new Map(Object.entries(n[r]));return e}function KE(n){return $E(Bv(n))}function Uv(n,e,r){n.endsWith("/")&&(n=n.slice(0,-1)||"/");const i=[];for(const[a,s]of jp(e.wildcard))(n===a||n.startsWith(a+"/"))&&i.push(s);for(const[a,s]of jp(e.dynamic))if(n.startsWith(a+"/")){const o="/"+n.slice(a.length).split("/").splice(2).join("/");i.push(...Uv(o,s))}const t=e.static.get(n);return t&&i.push(t),i.filter(Boolean)}function jp(n){return[...n.entries()].sort((e,r)=>e[0].length-r[0].length)}function dl(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in n?!1:Symbol.toStringTag in n?Object.prototype.toString.call(n)==="[object Module]":!0}function Kc(n,e,r=".",i){if(!dl(e))return Kc(n,{},r,i);const t=Object.assign({},e);for(const a in n){if(a==="__proto__"||a==="constructor")continue;const s=n[a];s!=null&&(i&&i(t,a,s,r)||(Array.isArray(s)&&Array.isArray(t[a])?t[a]=[...s,...t[a]]:dl(s)&&dl(t[a])?t[a]=Kc(s,t[a],(r?`${r}.`:"")+a.toString(),i):t[a]=s))}return t}function jv(n){return(...e)=>e.reduce((r,i)=>Kc(r,i,"",n),{})}const Vv=jv(),XE=jv((n,e,r)=>{if(n[e]!==void 0&&typeof r=="function")return n[e]=r(n[e]),!0});function YE(n,e){try{return e in n}catch{return!1}}var QE=Object.defineProperty,JE=(n,e,r)=>e in n?QE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,Wi=(n,e,r)=>(JE(n,typeof e!="symbol"?e+"":e,r),r);class Xc extends Error{constructor(e,r={}){super(e,r),Wi(this,"statusCode",500),Wi(this,"fatal",!1),Wi(this,"unhandled",!1),Wi(this,"statusMessage"),Wi(this,"data"),Wi(this,"cause"),r.cause&&!this.cause&&(this.cause=r.cause)}toJSON(){const e={message:this.message,statusCode:Qc(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=Hv(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}Wi(Xc,"__h3_error__",!0);function Yc(n){if(typeof n=="string")return new Xc(n);if(ZE(n))return n;const e=new Xc(n.message??n.statusMessage??"",{cause:n.cause||n});if(YE(n,"stack"))try{Object.defineProperty(e,"stack",{get(){return n.stack}})}catch{try{e.stack=n.stack}catch{}}if(n.data&&(e.data=n.data),n.statusCode?e.statusCode=Qc(n.statusCode,e.statusCode):n.status&&(e.statusCode=Qc(n.status,e.statusCode)),n.statusMessage?e.statusMessage=n.statusMessage:n.statusText&&(e.statusMessage=n.statusText),e.statusMessage){const r=e.statusMessage,i=Hv(e.statusMessage)}return n.fatal!==void 0&&(e.fatal=n.fatal),n.unhandled!==void 0&&(e.unhandled=n.unhandled),e}function ZE(n){var e;return((e=n==null?void 0:n.constructor)==null?void 0:e.__h3_error__)===!0}const e2=/[^\u0009\u0020-\u007E]/g;function Hv(n=""){return n.replace(e2,"")}function Qc(n,e=200){return!n||(typeof n=="string"&&(n=Number.parseInt(n,10)),n<100||n>999)?e:n}const qv=Symbol("layout-meta"),ys=Symbol("route"),Ur=()=>{var n;return(n=ke())==null?void 0:n.$router},df=()=>ef()?ht(ys,ke()._route):ke()._route;function kM(n){return n}const t2=()=>{try{if(ke()._processingMiddleware)return!0}catch{return!1}return!1},r2=(n,e)=>{n||(n="/");const r=typeof n=="string"?n:Av(n.path||"/",n.query||{})+(n.hash||"");if(e!=null&&e.open){const{target:o="_blank",windowFeatures:u={}}=e.open,l=Object.entries(u).filter(([c,d])=>d!==void 0).map(([c,d])=>`${c.toLowerCase()}=${d}`).join(", ");return open(r,o,l),Promise.resolve()}const i=(e==null?void 0:e.external)||cn(r,{acceptRelative:!0});if(i){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const o=gu(r).protocol;if(o&&zx(o))throw new Error(`Cannot navigate to a URL with '${o}' protocol.`)}const t=t2();if(!i&&t)return n;const a=Ur(),s=ke();return i?(s._scope.stop(),e!=null&&e.replace?location.replace(r):location.href=r,t?s.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?a.replace(n):a.push(n)},Wv="__nuxt_error",_u=()=>nx(ke().payload,"error"),Dn=n=>{const e=yu(n);try{const r=ke(),i=_u();r.hooks.callHook("app:error",e),i.value=i.value||e}catch{throw e}return e},i2=async(n={})=>{const e=ke(),r=_u();e.callHook("app:error:cleared",n),n.redirect&&await Ur().replace(n.redirect),r.value=null},n2=n=>!!n&&typeof n=="object"&&Wv in n,yu=n=>{const e=Yc(n);return Object.defineProperty(e,Wv,{value:!0,configurable:!1,writable:!1}),e},a2=-1,s2=-2,o2=-3,u2=-4,l2=-5,c2=-6;function d2(n,e){return f2(JSON.parse(n),e)}function f2(n,e){if(typeof n=="number")return t(n,!0);if(!Array.isArray(n)||n.length===0)throw new Error("Invalid input");const r=n,i=Array(r.length);function t(a,s=!1){if(a===a2)return;if(a===o2)return NaN;if(a===u2)return 1/0;if(a===l2)return-1/0;if(a===c2)return-0;if(s)throw new Error("Invalid input");if(a in i)return i[a];const o=r[a];if(!o||typeof o!="object")i[a]=o;else if(Array.isArray(o))if(typeof o[0]=="string"){const u=o[0],l=e==null?void 0:e[u];if(l)return i[a]=l(t(o[1]));switch(u){case"Date":i[a]=new Date(o[1]);break;case"Set":const c=new Set;i[a]=c;for(let p=1;p<o.length;p+=1)c.add(t(o[p]));break;case"Map":const d=new Map;i[a]=d;for(let p=1;p<o.length;p+=2)d.set(t(o[p]),t(o[p+1]));break;case"RegExp":i[a]=new RegExp(o[1],o[2]);break;case"Object":i[a]=Object(o[1]);break;case"BigInt":i[a]=BigInt(o[1]);break;case"null":const f=Object.create(null);i[a]=f;for(let p=1;p<o.length;p+=2)f[o[p]]=t(o[p+1]);break;default:throw new Error(`Unknown type ${u}`)}}else{const u=new Array(o.length);i[a]=u;for(let l=0;l<o.length;l+=1){const c=o[l];c!==s2&&(u[l]=t(c))}}else{const u={};i[a]=u;for(const l in o){const c=o[l];u[l]=t(c)}}return i[a]}return t(0)}function h2(n){return Array.isArray(n)?n:[n]}const p2=["title","titleTemplate","script","style","noscript"],go=["base","meta","link","style","script","noscript"],m2=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],g2=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],zv=["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"],v2=typeof window<"u";function ff(n){let e=9;for(let r=0;r<n.length;)e=Math.imul(e^n.charCodeAt(r++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Vp(n){return n._h||ff(n._d?n._d:`${n.tag}:${n.textContent||n.innerHTML||""}:${Object.entries(n.props).map(([e,r])=>`${e}:${String(r)}`).join(",")}`)}function Gv(n,e){const{props:r,tag:i}=n;if(g2.includes(i))return i;if(i==="link"&&r.rel==="canonical")return"canonical";if(r.charset)return"charset";const t=["id"];i==="meta"&&t.push("name","property","http-equiv");for(const a of t)if(typeof r[a]<"u"){const s=String(r[a]);return`${i}:${a}:${s}`}return!1}function Hp(n,e){return n==null?e||null:typeof n=="function"?n(e):n}async function _2(n,e,r){const i={tag:n,props:await $v(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[["script","noscript","style"].includes(n)?"innerHTML":"textContent"]:e},["templateParams","titleTemplate"].includes(n))};return zv.forEach(t=>{const a=typeof i.props[t]<"u"?i.props[t]:r[t];typeof a<"u"&&((!["innerHTML","textContent","children"].includes(t)||p2.includes(i.tag))&&(i[t==="children"?"innerHTML":t]=a),delete i.props[t])}),i.props.body&&(i.tagPosition="bodyClose",delete i.props.body),i.tag==="script"&&typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),Array.isArray(i.props.content)?i.props.content.map(t=>({...i,props:{...i.props,content:t}})):i}function y2(n,e){var i;const r=n==="class"?" ":";";return typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,t])=>t).map(([t,a])=>n==="style"?`${t}:${a}`:t)),(i=Array.isArray(e)?e.join(r):e)==null?void 0:i.split(r).filter(t=>t.trim()).filter(Boolean).join(r)}async function $v(n,e){for(const r of Object.keys(n)){if(["class","style"].includes(r)){n[r]=y2(r,n[r]);continue}if(n[r]instanceof Promise&&(n[r]=await n[r]),!e&&!zv.includes(r)){const i=String(n[r]),t=r.startsWith("data-");i==="true"||i===""?n[r]=t?"true":!0:n[r]||(t&&i==="false"?n[r]="false":delete n[r])}}return n}const T2=10;async function b2(n){const e=[];return Object.entries(n.resolvedInput).filter(([r,i])=>typeof i<"u"&&m2.includes(r)).forEach(([r,i])=>{const t=h2(i);e.push(...t.map(a=>_2(r,a,n)).flat())}),(await Promise.all(e)).flat().filter(Boolean).map((r,i)=>(r._e=n._i,n.mode&&(r._m=n.mode),r._p=(n._i<<T2)+i,r))}const qp={base:-10,title:10},Wp={critical:-80,high:-10,low:20};function Io(n){let e=100;const r=n.tagPriority;return typeof r=="number"?r:(n.tag==="meta"?(n.props["http-equiv"]==="content-security-policy"&&(e=-30),n.props.charset&&(e=-20),n.props.name==="viewport"&&(e=-15)):n.tag==="link"&&n.props.rel==="preconnect"?e=20:n.tag in qp&&(e=qp[n.tag]),typeof r=="string"&&r in Wp?e+Wp[r]:e)}const S2=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],zp=["onload","onerror","onabort","onprogress","onloadstart"],hi="%separator";function vo(n,e,r){if(typeof n!="string"||!n.includes("%"))return n;function i(s){let o;return["s","pageTitle"].includes(s)?o=e.pageTitle:s.includes(".")?o=s.split(".").reduce((u,l)=>u&&u[l]||void 0,e):o=e[s],typeof o<"u"?(o||"").replace(/"/g,'\\"'):!1}let t=n;try{t=decodeURI(n)}catch{}return(t.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(s=>{const o=i(s.slice(1));typeof o=="string"&&(n=n.replace(new RegExp(`\\${s}(\\W|$)`,"g"),(u,l)=>`${o}${l}`).trim())}),n.includes(hi)&&(n.endsWith(hi)&&(n=n.slice(0,-hi.length).trim()),n.startsWith(hi)&&(n=n.slice(hi.length).trim()),n=n.replace(new RegExp(`\\${hi}\\s*\\${hi}`,"g"),hi),n=vo(n,{separator:r},r)),n}async function Kv(n,e={}){var c;const r=e.document||n.resolvedOptions.document;if(!r||!n.dirty)return;const i={shouldRender:!0,tags:[]};if(await n.hooks.callHook("dom:beforeRender",i),!i.shouldRender)return;const t=(await n.resolveTags()).map(d=>({tag:d,id:go.includes(d.tag)?Vp(d):d.tag,shouldRender:!0}));let a=n._dom;if(!a){a={elMap:{htmlAttrs:r.documentElement,bodyAttrs:r.body}};for(const d of["body","head"]){const f=(c=r[d])==null?void 0:c.children,p=[];for(const y of[...f].filter(_=>go.includes(_.tagName.toLowerCase()))){const _={tag:y.tagName.toLowerCase(),props:await $v(y.getAttributeNames().reduce((C,I)=>({...C,[I]:y.getAttribute(I)}),{})),innerHTML:y.innerHTML};let T=1,E=Gv(_);for(;E&&p.find(C=>C._d===E);)E=`${E}:${T++}`;_._d=E||void 0,p.push(_),a.elMap[y.getAttribute("data-hid")||Vp(_)]=y}}}a.pendingSideEffects={...a.sideEffects||{}},a.sideEffects={};function s(d,f,p){const y=`${d}:${f}`;a.sideEffects[y]=p,delete a.pendingSideEffects[y]}function o({id:d,$el:f,tag:p}){const y=p.tag.endsWith("Attrs");a.elMap[d]=f,y||(["textContent","innerHTML"].forEach(_=>{p[_]&&p[_]!==f[_]&&(f[_]=p[_])}),s(d,"el",()=>{var _;(_=a.elMap[d])==null||_.remove(),delete a.elMap[d]}));for(const[_,T]of Object.entries(p._eventHandlers||{}))f.getAttribute(`data-${_}`)!==""&&((p.tag==="bodyAttrs"?r.defaultView:f).addEventListener(_.replace("on",""),T.bind(f)),f.setAttribute(`data-${_}`,""));Object.entries(p.props).forEach(([_,T])=>{const E=`attr:${_}`;if(_==="class")for(const C of(T||"").split(" ").filter(Boolean))y&&s(d,`${E}:${C}`,()=>f.classList.remove(C)),!f.classList.contains(C)&&f.classList.add(C);else if(_==="style")for(const C of(T||"").split(";").filter(Boolean)){const[I,...k]=C.split(":").map(D=>D.trim());s(d,`${E}:${C}:${I}`,()=>{f.style.removeProperty(I)}),f.style.setProperty(I,k.join(":"))}else f.getAttribute(_)!==T&&f.setAttribute(_,T===!0?"":String(T)),y&&s(d,E,()=>f.removeAttribute(_))})}const u=[],l={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const d of t){const{tag:f,shouldRender:p,id:y}=d;if(p){if(f.tag==="title"){r.title=f.textContent;continue}d.$el=d.$el||a.elMap[y],d.$el?o(d):go.includes(f.tag)&&u.push(d)}}for(const d of u){const f=d.tag.tagPosition||"head";d.$el=r.createElement(d.tag.tag),o(d),l[f]=l[f]||r.createDocumentFragment(),l[f].appendChild(d.$el)}for(const d of t)await n.hooks.callHook("dom:renderTag",d,r,s);l.head&&r.head.appendChild(l.head),l.bodyOpen&&r.body.insertBefore(l.bodyOpen,r.body.firstChild),l.bodyClose&&r.body.appendChild(l.bodyClose),Object.values(a.pendingSideEffects).forEach(d=>d()),n._dom=a,n.dirty=!1,await n.hooks.callHook("dom:rendered",{renders:t})}async function x2(n,e={}){const r=e.delayFn||(i=>setTimeout(i,10));return n._domUpdatePromise=n._domUpdatePromise||new Promise(i=>r(async()=>{await Kv(n,e),delete n._domUpdatePromise,i()}))}function E2(n){return e=>{var i,t;const r=((t=(i=e.resolvedOptions.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:t.innerHTML)||!1;return r&&e.push(JSON.parse(r)),{mode:"client",hooks:{"entries:updated":function(a){x2(a,n)}}}}}const C2=["templateParams","htmlAttrs","bodyAttrs"],w2={hooks:{"tag:normalise":function({tag:n}){["hid","vmid","key"].forEach(i=>{n.props[i]&&(n.key=n.props[i],delete n.props[i])});const r=Gv(n)||(n.key?`${n.tag}:${n.key}`:!1);r&&(n._d=r)},"tags:resolve":function(n){const e={};n.tags.forEach(i=>{const t=(i.key?`${i.tag}:${i.key}`:i._d)||i._p,a=e[t];if(a){let o=i==null?void 0:i.tagDuplicateStrategy;if(!o&&C2.includes(i.tag)&&(o="merge"),o==="merge"){const u=a.props;["class","style"].forEach(l=>{u[l]&&(i.props[l]?(l==="style"&&!u[l].endsWith(";")&&(u[l]+=";"),i.props[l]=`${u[l]} ${i.props[l]}`):i.props[l]=u[l])}),e[t].props={...u,...i.props};return}else if(i._e===a._e){a._duped=a._duped||[],i._d=`${a._d}:${a._duped.length+1}`,a._duped.push(i);return}else if(Io(i)>Io(a))return}const s=Object.keys(i.props).length+(i.innerHTML?1:0)+(i.textContent?1:0);if(go.includes(i.tag)&&s===0){delete e[t];return}e[t]=i});const r=[];Object.values(e).forEach(i=>{const t=i._duped;delete i._duped,r.push(i),t&&r.push(...t)}),n.tags=r,n.tags=n.tags.filter(i=>!(i.tag==="meta"&&(i.props.name||i.props.property)&&!i.props.content))}}},A2={mode:"server",hooks:{"tags:resolve":function(n){const e={};n.tags.filter(r=>["titleTemplate","templateParams","title"].includes(r.tag)&&r._m==="server").forEach(r=>{e[r.tag]=r.tag.startsWith("title")?r.textContent:r.props}),Object.keys(e).length&&n.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},D2=["script","link","bodyAttrs"],k2=n=>({hooks:{"tags:resolve":function(e){for(const r of e.tags.filter(i=>D2.includes(i.tag)))Object.entries(r.props).forEach(([i,t])=>{i.startsWith("on")&&typeof t=="function"&&(n.ssr&&zp.includes(i)?r.props[i]=`this.dataset.${i}fired = true`:delete r.props[i],r._eventHandlers=r._eventHandlers||{},r._eventHandlers[i]=t)}),n.ssr&&r._eventHandlers&&(r.props.src||r.props.href)&&(r.key=r.key||ff(r.props.src||r.props.href))},"dom:renderTag":function({$el:e,tag:r}){var i,t;for(const a of Object.keys((e==null?void 0:e.dataset)||{}).filter(s=>zp.some(o=>`${o}fired`===s))){const s=a.replace("fired","");(t=(i=r._eventHandlers)==null?void 0:i[s])==null||t.call(e,new Event(s.replace("on","")))}}}}),P2=["link","style","script","noscript"],I2={hooks:{"tag:normalise":({tag:n})=>{n.key&&P2.includes(n.tag)&&(n.props["data-hid"]=n._h=ff(n.key))}}},O2={hooks:{"tags:resolve":n=>{const e=r=>{var i;return(i=n.tags.find(t=>t._d===r))==null?void 0:i._p};for(const{prefix:r,offset:i}of S2)for(const t of n.tags.filter(a=>typeof a.tagPriority=="string"&&a.tagPriority.startsWith(r))){const a=e(t.tagPriority.replace(r,""));typeof a<"u"&&(t._p=a+i)}n.tags.sort((r,i)=>r._p-i._p).sort((r,i)=>Io(r)-Io(i))}}},L2={meta:"content",link:"href",htmlAttrs:"lang"},R2=n=>({hooks:{"tags:resolve":e=>{var o;const{tags:r}=e,i=(o=r.find(u=>u.tag==="title"))==null?void 0:o.textContent,t=r.findIndex(u=>u.tag==="templateParams"),a=t!==-1?r[t].props:{},s=a.separator||"|";delete a.separator,a.pageTitle=vo(a.pageTitle||i||"",a,s);for(const u of r.filter(l=>l.processTemplateParams!==!1)){const l=L2[u.tag];l&&typeof u.props[l]=="string"?u.props[l]=vo(u.props[l],a,s):(u.processTemplateParams===!0||["titleTemplate","title"].includes(u.tag))&&["innerHTML","textContent"].forEach(c=>{typeof u[c]=="string"&&(u[c]=vo(u[c],a,s))})}n._templateParams=a,n._separator=s,e.tags=r.filter(u=>u.tag!=="templateParams")}}}),M2={hooks:{"tags:resolve":n=>{const{tags:e}=n;let r=e.findIndex(t=>t.tag==="titleTemplate");const i=e.findIndex(t=>t.tag==="title");if(i!==-1&&r!==-1){const t=Hp(e[r].textContent,e[i].textContent);t!==null?e[i].textContent=t||e[i].textContent:delete e[i]}else if(r!==-1){const t=Hp(e[r].textContent);t!==null&&(e[r].textContent=t,e[r].tag="title",r=-1)}r!==-1&&delete e[r],n.tags=e.filter(Boolean)}}},F2={hooks:{"tags:afterResolve":function(n){for(const e of n.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&["application/ld+json","application/json"].includes(e.props.type)?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let Xv;function N2(n={}){const e=B2(n);return e.use(E2()),Xv=e}function Gp(n,e){return!n||n==="server"&&e||n==="client"&&!e}function B2(n={}){const e=Rv();e.addHooks(n.hooks||{}),n.document=n.document||(v2?document:void 0);const r=!n.document,i=()=>{o.dirty=!0,e.callHook("entries:updated",o)};let t=0,a=[];const s=[],o={plugins:s,dirty:!1,resolvedOptions:n,hooks:e,headEntries(){return a},use(u){const l=typeof u=="function"?u(o):u;(!l.key||!s.some(c=>c.key===l.key))&&(s.push(l),Gp(l.mode,r)&&e.addHooks(l.hooks||{}))},push(u,l){l==null||delete l.head;const c={_i:t++,input:u,...l};return Gp(c.mode,r)&&(a.push(c),i()),{dispose(){a=a.filter(d=>d._i!==c._i),e.callHook("entries:updated",o),i()},patch(d){a=a.map(f=>(f._i===c._i&&(f.input=c.input=d),f)),i()}}},async resolveTags(){const u={tags:[],entries:[...a]};await e.callHook("entries:resolve",u);for(const l of u.entries){const c=l.resolvedInput||l.input;if(l.resolvedInput=await(l.transform?l.transform(c):c),l.resolvedInput)for(const d of await b2(l)){const f={tag:d,entry:l,resolvedOptions:o.resolvedOptions};await e.callHook("tag:normalise",f),u.tags.push(f.tag)}}return await e.callHook("tags:beforeResolve",u),await e.callHook("tags:resolve",u),await e.callHook("tags:afterResolve",u),u.tags},ssr:r};return[w2,A2,k2,I2,O2,R2,M2,F2,...(n==null?void 0:n.plugins)||[]].forEach(u=>o.use(u)),o.hooks.callHook("init",o),o}function U2(){return Xv}const j2=ax.startsWith("3");function V2(n){return typeof n=="function"?n():ge(n)}function Jc(n,e=""){if(n instanceof Promise)return n;const r=V2(n);return!n||!r?r:Array.isArray(r)?r.map(i=>Jc(i,e)):typeof r=="object"?Object.fromEntries(Object.entries(r).map(([i,t])=>i==="titleTemplate"||i.startsWith("on")?[i,ge(t)]:[i,Jc(t,i)])):r}const H2={hooks:{"entries:resolve":function(n){for(const e of n.entries)e.resolvedInput=Jc(e.input)}}},Yv="usehead";function q2(n){return{install(r){j2&&(r.config.globalProperties.$unhead=n,r.config.globalProperties.$head=n,r.provide(Yv,n))}}.install}function W2(n={}){n.domDelayFn=n.domDelayFn||(r=>Nr(()=>setTimeout(()=>r(),0)));const e=N2(n);return e.use(H2),e.install=q2(e),e}const Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ed="__unhead_injection_handler__";function z2(n){Zc[ed]=n}function PM(){if(ed in Zc)return Zc[ed]();const n=ht(Yv);return n||U2()}function Sr(n){if(typeof n!="object")return n;var e,r,i=Object.prototype.toString.call(n);if(i==="[object Object]"){if(n.constructor!==Object&&typeof n.constructor=="function"){r=new n.constructor;for(e in n)n.hasOwnProperty(e)&&r[e]!==n[e]&&(r[e]=Sr(n[e]))}else{r={};for(e in n)e==="__proto__"?Object.defineProperty(r,e,{value:Sr(n[e]),configurable:!0,enumerable:!0,writable:!0}):r[e]=Sr(n[e])}return r}if(i==="[object Array]"){for(e=n.length,r=Array(e);e--;)r[e]=Sr(n[e]);return r}return i==="[object Set]"?(r=new Set,n.forEach(function(t){r.add(Sr(t))}),r):i==="[object Map]"?(r=new Map,n.forEach(function(t,a){r.set(Sr(a),Sr(t))}),r):i==="[object Date]"?new Date(+n):i==="[object RegExp]"?(r=new RegExp(n.source,n.flags),r.lastIndex=n.lastIndex,r):i==="[object DataView]"?new n.constructor(Sr(n.buffer)):i==="[object ArrayBuffer]"?n.slice(0):i.slice(-6)==="Array]"?new n.constructor(n):n}const G2={},$2={nuxt:{buildId:"afd8b314-88b8-4735-906f-41b046e61816"}},K2=XE(G2,$2);function Qv(){const n=ke();return n._appConfig||(n._appConfig=ln(K2)),n._appConfig}const td={name:"fade-leave",mode:"out-in"},X2=!1,Y2=!1,IM={componentName:"NuxtLink"},OM={deep:!0},LM={},Q2="#__nuxt";let _o,Jv;function J2(){var e;const n=(e=Qv().nuxt)==null?void 0:e.buildId;return _o=$fetch(cf(`builds/meta/${n}.json`)),_o.then(r=>{Jv=KE(r.matcher)}),_o}function Tu(){return _o||J2()}async function hf(n){return await Tu(),Vv({},...Jv.matchAll(n).reverse())}function $p(n,e={}){const r=e1(n,e),i=ke(),t=i._payloadCache=i._payloadCache||{};return r in t||(t[r]=t1(n).then(a=>a?Zv(r).then(s=>s||(delete t[r],null)):(t[r]=null,null))),t[r]}const Z2="_payload.json";function e1(n,e={}){var t;const r=new URL(n,"http://localhost");if(r.host!=="localhost"||cn(r.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+n);const i=e.hash||(e.fresh?Date.now():(t=Qv().nuxt)==null?void 0:t.buildId);return uf(vu().app.baseURL,r.pathname,Z2+(i?`?${i}`:""))}async function Zv(n){const e=fetch(n).then(r=>r.text().then(e0));try{return await e}catch{}return null}async function t1(n=df().path){if(n=of(n),(await Tu()).prerendered.includes(n))return!0;const r=await hf(n);return!!r.prerender&&!r.redirect}let ro=null;async function r1(){if(ro)return ro;const n=document.getElementById("__NUXT_DATA__");if(!n)return{};const e=await e0(n.textContent||""),r=n.dataset.src?await Zv(n.dataset.src):void 0;return ro={...e,...r,...window.__NUXT__},ro}async function e0(n){return await d2(n,ke()._payloadRevivers)}function i1(n,e){ke()._payloadRevivers[n]=e}const Kp={NuxtError:n=>yu(n),EmptyShallowRef:n=>Qr(n==="_"?void 0:n==="0n"?BigInt(0):Qa(n)),EmptyRef:n=>Je(n==="_"?void 0:n==="0n"?BigInt(0):Qa(n)),ShallowRef:n=>Qr(n),ShallowReactive:n=>hu(n),Ref:n=>Je(n),Reactive:n=>ln(n)},n1=It({name:"nuxt:revive-payload:client",order:-30,async setup(n){let e,r;for(const i in Kp)i1(i,Kp[i]);Object.assign(n.payload,([e,r]=Ja(()=>n.runWithContext(r1)),e=await e,r(),e)),window.__NUXT__=n.payload}}),a1=[],s1=It({name:"nuxt:head",enforce:"pre",setup(n){const e=W2({plugins:a1});z2(()=>ke().vueApp._context.provides.usehead),n.vueApp.use(e);{let r=!0;const i=async()=>{r=!1,await Kv(e)};e.hooks.hook("dom:beforeRender",t=>{t.shouldRender=!r}),n.hooks.hook("page:start",()=>{r=!0}),n.hooks.hook("page:finish",()=>{n.isHydrating||i()}),n.hooks.hook("app:error",i),n.hooks.hook("app:suspense:resolve",i)}}});/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const An=typeof document<"u";function o1(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const xe=Object.assign;function fl(n,e){const r={};for(const i in e){const t=e[i];r[i]=_r(t)?t.map(n):n(t)}return r}const ja=()=>{},_r=Array.isArray,t0=/#/g,u1=/&/g,l1=/\//g,c1=/=/g,d1=/\?/g,r0=/\+/g,f1=/%5B/g,h1=/%5D/g,i0=/%5E/g,p1=/%60/g,n0=/%7B/g,m1=/%7C/g,a0=/%7D/g,g1=/%20/g;function pf(n){return encodeURI(""+n).replace(m1,"|").replace(f1,"[").replace(h1,"]")}function v1(n){return pf(n).replace(n0,"{").replace(a0,"}").replace(i0,"^")}function rd(n){return pf(n).replace(r0,"%2B").replace(g1,"+").replace(t0,"%23").replace(u1,"%26").replace(p1,"`").replace(n0,"{").replace(a0,"}").replace(i0,"^")}function _1(n){return rd(n).replace(c1,"%3D")}function y1(n){return pf(n).replace(t0,"%23").replace(d1,"%3F")}function T1(n){return n==null?"":y1(n).replace(l1,"%2F")}function Za(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const b1=/\/$/,S1=n=>n.replace(b1,"");function hl(n,e,r="/"){let i,t={},a="",s="";const o=e.indexOf("#");let u=e.indexOf("?");return o<u&&o>=0&&(u=-1),u>-1&&(i=e.slice(0,u),a=e.slice(u+1,o>-1?o:e.length),t=n(a)),o>-1&&(i=i||e.slice(0,o),s=e.slice(o,e.length)),i=w1(i??e,r),{fullPath:i+(a&&"?")+a+s,path:i,query:t,hash:Za(s)}}function x1(n,e){const r=e.query?n(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Xp(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function E1(n,e,r){const i=e.matched.length-1,t=r.matched.length-1;return i>-1&&i===t&&Hn(e.matched[i],r.matched[t])&&s0(e.params,r.params)&&n(e.query)===n(r.query)&&e.hash===r.hash}function Hn(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function s0(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(!C1(n[r],e[r]))return!1;return!0}function C1(n,e){return _r(n)?Yp(n,e):_r(e)?Yp(e,n):n===e}function Yp(n,e){return _r(e)?n.length===e.length&&n.every((r,i)=>r===e[i]):n.length===1&&n[0]===e}function w1(n,e){if(n.startsWith("/"))return n;if(!n)return e;const r=e.split("/"),i=n.split("/"),t=i[i.length-1];(t===".."||t===".")&&i.push("");let a=r.length-1,s,o;for(s=0;s<i.length;s++)if(o=i[s],o!==".")if(o==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+i.slice(s).join("/")}var es;(function(n){n.pop="pop",n.push="push"})(es||(es={}));var Va;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Va||(Va={}));function A1(n){if(!n)if(An){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),S1(n)}const D1=/^[^#]+#/;function k1(n,e){return n.replace(D1,"#")+e}function P1(n,e){const r=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-r.left-(e.left||0),top:i.top-r.top-(e.top||0)}}const bu=()=>({left:window.scrollX,top:window.scrollY});function I1(n){let e;if("el"in n){const r=n.el,i=typeof r=="string"&&r.startsWith("#"),t=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!t)return;e=P1(t,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Qp(n,e){return(history.state?history.state.position-e:-1)+n}const id=new Map;function O1(n,e){id.set(n,e)}function L1(n){const e=id.get(n);return id.delete(n),e}let R1=()=>location.protocol+"//"+location.host;function o0(n,e){const{pathname:r,search:i,hash:t}=e,a=n.indexOf("#");if(a>-1){let o=t.includes(n.slice(a))?n.slice(a).length:1,u=t.slice(o);return u[0]!=="/"&&(u="/"+u),Xp(u,"")}return Xp(r,n)+i+t}function M1(n,e,r,i){let t=[],a=[],s=null;const o=({state:f})=>{const p=o0(n,location),y=r.value,_=e.value;let T=0;if(f){if(r.value=p,e.value=f,s&&s===y){s=null;return}T=_?f.position-_.position:0}else i(p);t.forEach(E=>{E(r.value,y,{delta:T,type:es.pop,direction:T?T>0?Va.forward:Va.back:Va.unknown})})};function u(){s=r.value}function l(f){t.push(f);const p=()=>{const y=t.indexOf(f);y>-1&&t.splice(y,1)};return a.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(xe({},f.state,{scroll:bu()}),"")}function d(){for(const f of a)f();a=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:d}}function Jp(n,e,r,i=!1,t=!1){return{back:n,current:e,forward:r,replaced:i,position:window.history.length,scroll:t?bu():null}}function F1(n){const{history:e,location:r}=window,i={value:o0(n,r)},t={value:e.state};t.value||a(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(u,l,c){const d=n.indexOf("#"),f=d>-1?(r.host&&document.querySelector("base")?n:n.slice(d))+u:R1()+n+u;try{e[c?"replaceState":"pushState"](l,"",f),t.value=l}catch{r[c?"replace":"assign"](f)}}function s(u,l){const c=xe({},e.state,Jp(t.value.back,u,t.value.forward,!0),l,{position:t.value.position});a(u,c,!0),i.value=u}function o(u,l){const c=xe({},t.value,e.state,{forward:u,scroll:bu()});a(c.current,c,!0);const d=xe({},Jp(i.value,u,null),{position:c.position+1},l);a(u,d,!1),i.value=u}return{location:i,state:t,push:o,replace:s}}function u0(n){n=A1(n);const e=F1(n),r=M1(n,e.state,e.location,e.replace);function i(a,s=!0){s||r.pauseListeners(),history.go(a)}const t=xe({location:"",base:n,go:i,createHref:k1.bind(null,n)},e,r);return Object.defineProperty(t,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(t,"state",{enumerable:!0,get:()=>e.state.value}),t}function N1(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),u0(n)}function B1(n){return typeof n=="string"||n&&typeof n=="object"}function l0(n){return typeof n=="string"||typeof n=="symbol"}const hr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},c0=Symbol("");var Zp;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Zp||(Zp={}));function qn(n,e){return xe(new Error,{type:n,[c0]:!0},e)}function Hr(n,e){return n instanceof Error&&c0 in n&&(e==null||!!(n.type&e))}const em="[^/]+?",U1={sensitive:!1,strict:!1,start:!0,end:!0},j1=/[.+*?^${}()[\]/\\]/g;function V1(n,e){const r=xe({},U1,e),i=[];let t=r.start?"^":"";const a=[];for(const l of n){const c=l.length?[]:[90];r.strict&&!l.length&&(t+="/");for(let d=0;d<l.length;d++){const f=l[d];let p=40+(r.sensitive?.25:0);if(f.type===0)d||(t+="/"),t+=f.value.replace(j1,"\\$&"),p+=40;else if(f.type===1){const{value:y,repeatable:_,optional:T,regexp:E}=f;a.push({name:y,repeatable:_,optional:T});const C=E||em;if(C!==em){p+=10;try{new RegExp(`(${C})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${y}" (${C}): `+k.message)}}let I=_?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;d||(I=T&&l.length<2?`(?:/${I})`:"/"+I),T&&(I+="?"),t+=I,p+=20,T&&(p+=-8),_&&(p+=-20),C===".*"&&(p+=-50)}c.push(p)}i.push(c)}if(r.strict&&r.end){const l=i.length-1;i[l][i[l].length-1]+=.7000000000000001}r.strict||(t+="/?"),r.end?t+="$":r.strict&&(t+="(?:/|$)");const s=new RegExp(t,r.sensitive?"":"i");function o(l){const c=l.match(s),d={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",y=a[f-1];d[y.name]=p&&y.repeatable?p.split("/"):p}return d}function u(l){let c="",d=!1;for(const f of n){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:y,repeatable:_,optional:T}=p,E=y in l?l[y]:"";if(_r(E)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const C=_r(E)?E.join("/"):E;if(!C)if(T)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);c+=C}}return c||"/"}return{re:s,score:i,keys:a,parse:o,stringify:u}}function H1(n,e){let r=0;for(;r<n.length&&r<e.length;){const i=e[r]-n[r];if(i)return i;r++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function q1(n,e){let r=0;const i=n.score,t=e.score;for(;r<i.length&&r<t.length;){const a=H1(i[r],t[r]);if(a)return a;r++}if(Math.abs(t.length-i.length)===1){if(tm(i))return 1;if(tm(t))return-1}return t.length-i.length}function tm(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const W1={type:0,value:""},z1=/[a-zA-Z0-9_]/;function G1(n){if(!n)return[[]];if(n==="/")return[[W1]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(p){throw new Error(`ERR (${r})/"${l}": ${p}`)}let r=0,i=r;const t=[];let a;function s(){a&&t.push(a),a=[]}let o=0,u,l="",c="";function d(){l&&(r===0?a.push({type:0,value:l}):r===1||r===2||r===3?(a.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=u}for(;o<n.length;){if(u=n[o++],u==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:u==="/"?(l&&d(),s()):u===":"?(d(),r=1):f();break;case 4:f(),r=i;break;case 1:u==="("?r=2:z1.test(u)?f():(d(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&o--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=3:c+=u;break;case 3:d(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&o--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),d(),s(),t}function $1(n,e,r){const i=V1(G1(n.path),r),t=xe(i,{record:n,parent:e,children:[],alias:[]});return e&&!t.record.aliasOf==!e.record.aliasOf&&e.children.push(t),t}function K1(n,e){const r=[],i=new Map;e=nm({strict:!1,end:!0,sensitive:!1},e);function t(c){return i.get(c)}function a(c,d,f){const p=!f,y=X1(c);y.aliasOf=f&&f.record;const _=nm(e,c),T=[y];if("alias"in c){const I=typeof c.alias=="string"?[c.alias]:c.alias;for(const k of I)T.push(xe({},y,{components:f?f.record.components:y.components,path:k,aliasOf:f?f.record:y}))}let E,C;for(const I of T){const{path:k}=I;if(d&&k[0]!=="/"){const D=d.record.path,N=D[D.length-1]==="/"?"":"/";I.path=d.record.path+(k&&N+k)}if(E=$1(I,d,_),f?f.alias.push(E):(C=C||E,C!==E&&C.alias.push(E),p&&c.name&&!im(E)&&s(c.name)),y.children){const D=y.children;for(let N=0;N<D.length;N++)a(D[N],E,f&&f.children[N])}f=f||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&u(E)}return C?()=>{s(C)}:ja}function s(c){if(l0(c)){const d=i.get(c);d&&(i.delete(c),r.splice(r.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=r.indexOf(c);d>-1&&(r.splice(d,1),c.record.name&&i.delete(c.record.name),c.children.forEach(s),c.alias.forEach(s))}}function o(){return r}function u(c){let d=0;for(;d<r.length&&q1(c,r[d])>=0&&(c.record.path!==r[d].record.path||!d0(c,r[d]));)d++;r.splice(d,0,c),c.record.name&&!im(c)&&i.set(c.record.name,c)}function l(c,d){let f,p={},y,_;if("name"in c&&c.name){if(f=i.get(c.name),!f)throw qn(1,{location:c});_=f.record.name,p=xe(rm(d.params,f.keys.filter(C=>!C.optional).concat(f.parent?f.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),c.params&&rm(c.params,f.keys.map(C=>C.name))),y=f.stringify(p)}else if(c.path!=null)y=c.path,f=r.find(C=>C.re.test(y)),f&&(p=f.parse(y),_=f.record.name);else{if(f=d.name?i.get(d.name):r.find(C=>C.re.test(d.path)),!f)throw qn(1,{location:c,currentLocation:d});_=f.record.name,p=xe({},d.params,c.params),y=f.stringify(p)}const T=[];let E=f;for(;E;)T.unshift(E.record),E=E.parent;return{name:_,path:y,params:p,matched:T,meta:Q1(T)}}return n.forEach(c=>a(c)),{addRoute:a,resolve:l,removeRoute:s,getRoutes:o,getRecordMatcher:t}}function rm(n,e){const r={};for(const i of e)i in n&&(r[i]=n[i]);return r}function X1(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:Y1(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function Y1(n){const e={},r=n.props||!1;if("component"in n)e.default=r;else for(const i in n.components)e[i]=typeof r=="object"?r[i]:r;return e}function im(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function Q1(n){return n.reduce((e,r)=>xe(e,r.meta),{})}function nm(n,e){const r={};for(const i in n)r[i]=i in e?e[i]:n[i];return r}function d0(n,e){return e.children.some(r=>r===n||d0(n,r))}function J1(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let t=0;t<i.length;++t){const a=i[t].replace(r0," "),s=a.indexOf("="),o=Za(s<0?a:a.slice(0,s)),u=s<0?null:Za(a.slice(s+1));if(o in e){let l=e[o];_r(l)||(l=e[o]=[l]),l.push(u)}else e[o]=u}return e}function am(n){let e="";for(let r in n){const i=n[r];if(r=_1(r),i==null){i!==void 0&&(e+=(e.length?"&":"")+r);continue}(_r(i)?i.map(a=>a&&rd(a)):[i&&rd(i)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+r,a!=null&&(e+="="+a))})}return e}function Z1(n){const e={};for(const r in n){const i=n[r];i!==void 0&&(e[r]=_r(i)?i.map(t=>t==null?null:""+t):i==null?i:""+i)}return e}const eC=Symbol(""),sm=Symbol(""),mf=Symbol(""),gf=Symbol(""),nd=Symbol("");function xa(){let n=[];function e(i){return n.push(i),()=>{const t=n.indexOf(i);t>-1&&n.splice(t,1)}}function r(){n=[]}return{add:e,list:()=>n.slice(),reset:r}}function gi(n,e,r,i,t,a=s=>s()){const s=i&&(i.enterCallbacks[t]=i.enterCallbacks[t]||[]);return()=>new Promise((o,u)=>{const l=f=>{f===!1?u(qn(4,{from:r,to:e})):f instanceof Error?u(f):B1(f)?u(qn(2,{from:e,to:f})):(s&&i.enterCallbacks[t]===s&&typeof f=="function"&&s.push(f),o())},c=a(()=>n.call(i&&i.instances[t],e,r,l));let d=Promise.resolve(c);n.length<3&&(d=d.then(l)),d.catch(f=>u(f))})}function pl(n,e,r,i,t=a=>a()){const a=[];for(const s of n)for(const o in s.components){let u=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(tC(u)){const c=(u.__vccOpts||u)[e];c&&a.push(gi(c,r,i,s,o,t))}else{let l=u();a.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const d=o1(c)?c.default:c;s.components[o]=d;const p=(d.__vccOpts||d)[e];return p&&gi(p,r,i,s,o,t)()}))}}return a}function tC(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function om(n){const e=ht(mf),r=ht(gf),i=Fe(()=>{const u=ge(n.to);return e.resolve(u)}),t=Fe(()=>{const{matched:u}=i.value,{length:l}=u,c=u[l-1],d=r.matched;if(!c||!d.length)return-1;const f=d.findIndex(Hn.bind(null,c));if(f>-1)return f;const p=um(u[l-2]);return l>1&&um(c)===p&&d[d.length-1].path!==p?d.findIndex(Hn.bind(null,u[l-2])):f}),a=Fe(()=>t.value>-1&&aC(r.params,i.value.params)),s=Fe(()=>t.value>-1&&t.value===r.matched.length-1&&s0(r.params,i.value.params));function o(u={}){return nC(u)?e[ge(n.replace)?"replace":"push"](ge(n.to)).catch(ja):Promise.resolve()}return{route:i,href:Fe(()=>i.value.href),isActive:a,isExactActive:s,navigate:o}}const rC=Br({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:om,setup(n,{slots:e}){const r=ln(om(n)),{options:i}=ht(mf),t=Fe(()=>({[lm(n.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[lm(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&e.default(r);return n.custom?a:Mt("a",{"aria-current":r.isExactActive?n.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:t.value},a)}}}),iC=rC;function nC(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function aC(n,e){for(const r in e){const i=e[r],t=n[r];if(typeof i=="string"){if(i!==t)return!1}else if(!_r(t)||t.length!==i.length||i.some((a,s)=>a!==t[s]))return!1}return!0}function um(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const lm=(n,e,r)=>n??e??r,sC=Br({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:r}){const i=ht(nd),t=Fe(()=>n.route||i.value),a=ht(sm,0),s=Fe(()=>{let l=ge(a);const{matched:c}=t.value;let d;for(;(d=c[l])&&!d.components;)l++;return l}),o=Fe(()=>t.value.matched[s.value]);Yi(sm,Fe(()=>s.value+1)),Yi(eC,o),Yi(nd,t);const u=Je();return Jr(()=>[u.value,o.value,n.name],([l,c,d],[f,p,y])=>{c&&(c.instances[d]=l,p&&p!==c&&l&&l===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),l&&c&&(!p||!Hn(c,p)||!f)&&(c.enterCallbacks[d]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=t.value,c=n.name,d=o.value,f=d&&d.components[c];if(!f)return cm(r.default,{Component:f,route:l});const p=d.props[c],y=p?p===!0?l.params:typeof p=="function"?p(l):p:null,T=Mt(f,xe({},y,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[c]=null)},ref:u}));return cm(r.default,{Component:T,route:l})||T}}});function cm(n,e){if(!n)return null;const r=n(e);return r.length===1?r[0]:r}const f0=sC;function oC(n){const e=K1(n.routes,n),r=n.parseQuery||J1,i=n.stringifyQuery||am,t=n.history,a=xa(),s=xa(),o=xa(),u=Qr(hr);let l=hr;An&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=fl.bind(null,W=>""+W),d=fl.bind(null,T1),f=fl.bind(null,Za);function p(W,te){let J,se;return l0(W)?(J=e.getRecordMatcher(W),se=te):se=W,e.addRoute(se,J)}function y(W){const te=e.getRecordMatcher(W);te&&e.removeRoute(te)}function _(){return e.getRoutes().map(W=>W.record)}function T(W){return!!e.getRecordMatcher(W)}function E(W,te){if(te=xe({},te||u.value),typeof W=="string"){const fe=hl(r,W,te.path),Ge=e.resolve({path:fe.path},te),cr=t.createHref(fe.fullPath);return xe(fe,Ge,{params:f(Ge.params),hash:Za(fe.hash),redirectedFrom:void 0,href:cr})}let J;if(W.path!=null)J=xe({},W,{path:hl(r,W.path,te.path).path});else{const fe=xe({},W.params);for(const Ge in fe)fe[Ge]==null&&delete fe[Ge];J=xe({},W,{params:d(fe)}),te.params=d(te.params)}const se=e.resolve(J,te),Te=W.hash||"";se.params=c(f(se.params));const qe=x1(i,xe({},W,{hash:v1(Te),path:se.path})),me=t.createHref(qe);return xe({fullPath:qe,hash:Te,query:i===am?Z1(W.query):W.query||{}},se,{redirectedFrom:void 0,href:me})}function C(W){return typeof W=="string"?hl(r,W,u.value.path):xe({},W)}function I(W,te){if(l!==W)return qn(8,{from:te,to:W})}function k(W){return M(W)}function D(W){return k(xe(C(W),{replace:!0}))}function N(W){const te=W.matched[W.matched.length-1];if(te&&te.redirect){const{redirect:J}=te;let se=typeof J=="function"?J(W):J;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=C(se):{path:se},se.params={}),xe({query:W.query,hash:W.hash,params:se.path!=null?{}:W.params},se)}}function M(W,te){const J=l=E(W),se=u.value,Te=W.state,qe=W.force,me=W.replace===!0,fe=N(J);if(fe)return M(xe(C(fe),{state:typeof fe=="object"?xe({},Te,fe.state):Te,force:qe,replace:me}),te||J);const Ge=J;Ge.redirectedFrom=te;let cr;return!qe&&E1(i,se,J)&&(cr=qn(16,{to:Ge,from:se}),qt(se,se,!0,!1)),(cr?Promise.resolve(cr):j(Ge,se)).catch(Ue=>Hr(Ue)?Hr(Ue,2)?Ue:pe(Ue):de(Ue,Ge,se)).then(Ue=>{if(Ue){if(Hr(Ue,2))return M(xe({replace:me},C(Ue.to),{state:typeof Ue.to=="object"?xe({},Te,Ue.to.state):Te,force:qe}),te||Ge)}else Ue=H(Ge,se,!0,me,Te);return q(Ge,se,Ue),Ue})}function L(W,te){const J=I(W,te);return J?Promise.reject(J):Promise.resolve()}function O(W){const te=Be.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(W):W()}function j(W,te){let J;const[se,Te,qe]=uC(W,te);J=pl(se.reverse(),"beforeRouteLeave",W,te);for(const fe of se)fe.leaveGuards.forEach(Ge=>{J.push(gi(Ge,W,te))});const me=L.bind(null,W,te);return J.push(me),lt(J).then(()=>{J=[];for(const fe of a.list())J.push(gi(fe,W,te));return J.push(me),lt(J)}).then(()=>{J=pl(Te,"beforeRouteUpdate",W,te);for(const fe of Te)fe.updateGuards.forEach(Ge=>{J.push(gi(Ge,W,te))});return J.push(me),lt(J)}).then(()=>{J=[];for(const fe of qe)if(fe.beforeEnter)if(_r(fe.beforeEnter))for(const Ge of fe.beforeEnter)J.push(gi(Ge,W,te));else J.push(gi(fe.beforeEnter,W,te));return J.push(me),lt(J)}).then(()=>(W.matched.forEach(fe=>fe.enterCallbacks={}),J=pl(qe,"beforeRouteEnter",W,te,O),J.push(me),lt(J))).then(()=>{J=[];for(const fe of s.list())J.push(gi(fe,W,te));return J.push(me),lt(J)}).catch(fe=>Hr(fe,8)?fe:Promise.reject(fe))}function q(W,te,J){o.list().forEach(se=>O(()=>se(W,te,J)))}function H(W,te,J,se,Te){const qe=I(W,te);if(qe)return qe;const me=te===hr,fe=An?history.state:{};J&&(se||me?t.replace(W.fullPath,xe({scroll:me&&fe&&fe.scroll},Te)):t.push(W.fullPath,Te)),u.value=W,qt(W,te,J,me),pe()}let G;function re(){G||(G=t.listen((W,te,J)=>{if(!rt.listening)return;const se=E(W),Te=N(se);if(Te){M(xe(Te,{replace:!0}),se).catch(ja);return}l=se;const qe=u.value;An&&O1(Qp(qe.fullPath,J.delta),bu()),j(se,qe).catch(me=>Hr(me,12)?me:Hr(me,2)?(M(me.to,se).then(fe=>{Hr(fe,20)&&!J.delta&&J.type===es.pop&&t.go(-1,!1)}).catch(ja),Promise.reject()):(J.delta&&t.go(-J.delta,!1),de(me,se,qe))).then(me=>{me=me||H(se,qe,!1),me&&(J.delta&&!Hr(me,8)?t.go(-J.delta,!1):J.type===es.pop&&Hr(me,20)&&t.go(-1,!1)),q(se,qe,me)}).catch(ja)}))}let ie=xa(),X=xa(),ne;function de(W,te,J){pe(W);const se=X.list();return se.length&&se.forEach(Te=>Te(W,te,J)),Promise.reject(W)}function Ne(){return ne&&u.value!==hr?Promise.resolve():new Promise((W,te)=>{ie.add([W,te])})}function pe(W){return ne||(ne=!W,re(),ie.list().forEach(([te,J])=>W?J(W):te()),ie.reset()),W}function qt(W,te,J,se){const{scrollBehavior:Te}=n;if(!An||!Te)return Promise.resolve();const qe=!J&&L1(Qp(W.fullPath,0))||(se||!J)&&history.state&&history.state.scroll||null;return Nr().then(()=>Te(W,te,qe)).then(me=>me&&I1(me)).catch(me=>de(me,W,te))}const Le=W=>t.go(W);let pt;const Be=new Set,rt={currentRoute:u,listening:!0,addRoute:p,removeRoute:y,hasRoute:T,getRoutes:_,resolve:E,options:n,push:k,replace:D,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:a.add,beforeResolve:s.add,afterEach:o.add,onError:X.add,isReady:Ne,install(W){const te=this;W.component("RouterLink",iC),W.component("RouterView",f0),W.config.globalProperties.$router=te,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>ge(u)}),An&&!pt&&u.value===hr&&(pt=!0,k(t.location).catch(Te=>{}));const J={};for(const Te in hr)Object.defineProperty(J,Te,{get:()=>u.value[Te],enumerable:!0});W.provide(mf,te),W.provide(gf,hu(J)),W.provide(nd,u);const se=W.unmount;Be.add(W),W.unmount=function(){Be.delete(W),Be.size<1&&(l=hr,G&&G(),G=null,u.value=hr,pt=!1,ne=!1),se()}}};function lt(W){return W.reduce((te,J)=>te.then(()=>O(J)),Promise.resolve())}return rt}function uC(n,e){const r=[],i=[],t=[],a=Math.max(e.matched.length,n.matched.length);for(let s=0;s<a;s++){const o=e.matched[s];o&&(n.matched.find(l=>Hn(l,o))?i.push(o):r.push(o));const u=n.matched[s];u&&(e.matched.find(l=>Hn(l,u))||t.push(u))}return[r,i,t]}function lC(){return ht(gf)}const cC=(n,e)=>e.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,r=>{var i;return((i=n.params[r.slice(1)])==null?void 0:i.toString())||""}),ad=(n,e)=>{const r=n.route.matched.find(t=>{var a;return((a=t.components)==null?void 0:a.default)===n.Component.type}),i=e??(r==null?void 0:r.meta.key)??(r&&cC(n.route,r));return typeof i=="function"?i(n.route):i},dC=(n,e)=>({default:()=>n?Mt(sx,n===!0?{}:n,e):e});function vf(n){return Array.isArray(n)?n:[n]}const fC="modulepreload",hC=function(n,e){return n[0]==="."?new URL(n,e).href:n},dm={},pC=function(e,r,i){let t=Promise.resolve();if(r&&r.length>0){const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));t=Promise.all(r.map(u=>{if(u=hC(u,i),u in dm)return;dm[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!i)for(let p=a.length-1;p>=0;p--){const y=a[p];if(y.href===u&&(!l||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":fC,l||(f.as="script",f.crossOrigin=""),f.href=u,o&&f.setAttribute("nonce",o),document.head.appendChild(f),l)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}return t.then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},ae=(...n)=>pC(...n).catch(e=>{const r=new Event("nuxt.preloadError");throw r.payload=e,window.dispatchEvent(r),e}),ml=null,gl=null,vl=null,_l=null,zt={pageTransition:{name:"fade-leave",mode:"out-in"}},yl=null,Tl=null,bl=null,Gt={pageTransition:!1},Sl=null,xl=null,El=null,Cl=null,wl=null,Al=null,Dl=null,kl=null,Pl=null,Il=null,Ol=null,Ll=null,Rl=null,Ml=null,Fl=null,Nl=null,Bl=null,Ul=null,jl=null,Vl=null,Hl=null,ql=null,Wl=null,zl=null,Gl=null,$l=null,Kl=null,Xl=null,Yl=null,Ql=null,Jl=null,Zl=null,ec=null,tc=null,rc=null,ic=null,nc=null,fm=[{name:"account-forgotPassword",path:"/account/forgotPassword",meta:{},alias:[],redirect:ml==null?void 0:ml.redirect,component:()=>ae(()=>import("./DzmiSUAh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url).then(n=>n.default||n)},{name:"account-logIn",path:"/account/logIn",meta:{},alias:[],redirect:gl==null?void 0:gl.redirect,component:()=>ae(()=>import("./BC9HHZ53.js"),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,21]),import.meta.url).then(n=>n.default||n)},{name:"account-resetPwd",path:"/account/resetPwd",meta:{},alias:[],redirect:vl==null?void 0:vl.redirect,component:()=>ae(()=>import("./Wwhvj2e7.js"),__vite__mapDeps([22,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19]),import.meta.url).then(n=>n.default||n)},{name:"career",path:"/career",meta:{},alias:[],redirect:_l==null?void 0:_l.redirect,component:()=>ae(()=>import("./D__FQfop.js"),__vite__mapDeps([23,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33]),import.meta.url).then(n=>n.default||n)},{name:(zt==null?void 0:zt.name)??"collection-idx",path:(zt==null?void 0:zt.path)??"/collection/:idx()",meta:zt||{},alias:(zt==null?void 0:zt.alias)||[],redirect:zt==null?void 0:zt.redirect,component:()=>ae(()=>import("./CgkpSk_o.js"),__vite__mapDeps([34,35,7,5,2,3,6,4,8,36]),import.meta.url).then(n=>n.default||n)},{name:"collection-step1",path:"/collection/step1",meta:{},alias:[],redirect:yl==null?void 0:yl.redirect,component:()=>ae(()=>import("./63eL9P8Q.js"),__vite__mapDeps([37,2,3,27,38]),import.meta.url).then(n=>n.default||n)},{name:"collection-step2",path:"/collection/step2",meta:{},alias:[],redirect:Tl==null?void 0:Tl.redirect,component:()=>ae(()=>import("./CVS_1olq.js"),__vite__mapDeps([39,2,3,35,7,5,6,4,8,40]),import.meta.url).then(n=>n.default||n)},{name:(Gt==null?void 0:Gt.name)??"collection-step3",path:(Gt==null?void 0:Gt.path)??"/collection/step3",meta:Gt||{},alias:(Gt==null?void 0:Gt.alias)||[],redirect:Gt==null?void 0:Gt.redirect,component:()=>ae(()=>import("./DUjPhIcG.js"),__vite__mapDeps([41,2,3,35,7,5,6,4,8,40]),import.meta.url).then(n=>n.default||n),children:[{name:"collection-step3-idx",path:":idx()",meta:{},alias:[],redirect:bl==null?void 0:bl.redirect,component:()=>ae(()=>import("./D_rkFCR0.js"),__vite__mapDeps([42,40,2,3,35,7,5,6,4,8]),import.meta.url).then(n=>n.default||n)}]},{name:"event",path:"/event",meta:{},alias:[],redirect:Sl==null?void 0:Sl.redirect,component:()=>ae(()=>import("./CuUKM155.js"),__vite__mapDeps([43,44,4,2,3,5,6,7,8,45,1,9,10,11,46,47,48,49,50,51,52,15,13,53,54,24,25,26,27,28,29,30,31,32,33,36,55,56,57]),import.meta.url).then(n=>n.default||n)},{name:"festivals",path:"/festivals",meta:{},alias:[],redirect:xl==null?void 0:xl.redirect,component:()=>ae(()=>import("./C_YwyoxF.js"),__vite__mapDeps([58,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33,36,55,56,59]),import.meta.url).then(n=>n.default||n)},{name:"footage",path:"/footage",meta:{},alias:[],redirect:El==null?void 0:El.redirect,component:()=>ae(()=>import("./BVM4zXAs.js"),__vite__mapDeps([60,25,2,3,26,27,28,24,1,4,5,6,7,8,9,10,11,29,30,31,32,33,61]),import.meta.url).then(n=>n.default||n)},{name:"gala",path:"/gala",meta:{},alias:[],redirect:Cl==null?void 0:Cl.redirect,component:()=>ae(()=>import("./D92nbnvB.js"),__vite__mapDeps([62,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33,36,55,56,63]),import.meta.url).then(n=>n.default||n)},{name:"grant",path:"/grant",meta:{},alias:[],redirect:wl==null?void 0:wl.redirect,component:()=>ae(()=>import("./DZ-e0JrV.js"),__vite__mapDeps([64,25,2,3,26,27,28,65,66,36,67,24,1,4,5,6,7,8,9,10,11,29,30,31,32,33,68]),import.meta.url).then(n=>n.default||n)},{name:"index",path:"/",meta:{},alias:[],redirect:Al==null?void 0:Al.redirect,component:()=>ae(()=>import("./DzgnnfKG.js"),__vite__mapDeps([69,70,25,2,3,26,27,28,71,72,73,21,7,5,6,4,8,30,31,74,33,75,44,45,1,9,10,11,46,36,76,32,67,77,50,78,79,24,29,80]),import.meta.url).then(n=>n.default||n)},{name:"jobs-description",path:"/jobs/description",meta:{},alias:[],redirect:Dl==null?void 0:Dl.redirect,component:()=>ae(()=>import("./C_FMLjD-.js"),__vite__mapDeps([81,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33]),import.meta.url).then(n=>n.default||n)},{name:"masterClass",path:"/masterClass",meta:{},alias:[],redirect:kl==null?void 0:kl.redirect,component:()=>ae(()=>import("./CMbFdO57.js"),__vite__mapDeps([82,65,27,2,3,66,24,1,4,5,6,7,8,9,10,11,25,26,28,29,30,31,32,33,55,56,83]),import.meta.url).then(n=>n.default||n)},{name:"medium",path:"/medium",meta:{},alias:[],redirect:Pl==null?void 0:Pl.redirect,component:()=>ae(()=>import("./DM5xH44a.js"),__vite__mapDeps([84,85,2,3,24,1,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33,78,86]),import.meta.url).then(n=>n.default||n)},{name:"mentors",path:"/mentors",meta:{},alias:[],redirect:Il==null?void 0:Il.redirect,component:()=>ae(()=>import("./DklwihnA.js"),__vite__mapDeps([87,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33,36,88]),import.meta.url).then(n=>n.default||n)},{name:"merch",path:"/merch",meta:{},alias:[],redirect:Ol==null?void 0:Ol.redirect,component:()=>ae(()=>import("./2g7oPZrP.js"),__vite__mapDeps([89,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33,36,90]),import.meta.url).then(n=>n.default||n)},{name:"metaverse",path:"/metaverse",meta:{},alias:[],redirect:Ll==null?void 0:Ll.redirect,component:()=>ae(()=>import("./Cfdzg4-L.js"),__vite__mapDeps([91,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33,35,79,55,56,92]),import.meta.url).then(n=>n.default||n)},{name:"nuxtWelcome",path:"/nuxtWelcome",meta:{},alias:[],redirect:Rl==null?void 0:Rl.redirect,component:()=>ae(()=>import("./p3Gm1ezq.js"),__vite__mapDeps([93,94,2,3,27,95]),import.meta.url).then(n=>n.default||n)},{name:"philanthropy",path:"/philanthropy",meta:{},alias:[],redirect:Ml==null?void 0:Ml.redirect,component:()=>ae(()=>import("./tRrlsypE.js"),__vite__mapDeps([96,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33,36,55,56,97]),import.meta.url).then(n=>n.default||n)},{name:"press",path:"/press",meta:{},alias:[],redirect:Fl==null?void 0:Fl.redirect,component:()=>ae(()=>import("./BljJ91Rz.js"),__vite__mapDeps([98,25,2,3,26,27,28,47,5,6,4,7,8,48,1,9,10,11,49,50,51,52,15,45,13,53,54,24,29,30,31,32,33]),import.meta.url).then(n=>n.default||n)},{name:"scInema",path:"/scInema",meta:{},alias:[],redirect:Nl==null?void 0:Nl.redirect,component:()=>ae(()=>import("./DwYlMbVW.js"),__vite__mapDeps([99,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33]),import.meta.url).then(n=>n.default||n)},{name:"scMeta",path:"/scMeta",meta:{},alias:[],redirect:Bl==null?void 0:Bl.redirect,component:()=>ae(()=>import("./Jp-PdjmT.js"),__vite__mapDeps([100,25,2,3,26,27,28,24,1,4,5,6,7,8,9,10,11,29,30,31,32,33]),import.meta.url).then(n=>n.default||n)},{name:"starslist-sid",path:"/starslist/:sid()",meta:{},alias:[],redirect:Ul==null?void 0:Ul.redirect,component:()=>ae(()=>import("./CvdPIZw_.js"),__vite__mapDeps([101,25,2,3,26,27,28,44,4,5,6,7,8,45,1,9,10,11,46,24,29,30,31,32,33,102,14,15,52,103,19,36]),import.meta.url).then(n=>n.default||n)},{name:"starslist",path:"/starslist",meta:{},alias:[],redirect:jl==null?void 0:jl.redirect,component:()=>ae(()=>import("./BBKA5SLa.js"),__vite__mapDeps([104,25,2,3,26,27,28,7,5,6,4,8,9,10,1,11,52,15,49,50,51,48,45,13,53,105,106,44,46,47,54,24,29,30,31,32,33,36,107]),import.meta.url).then(n=>n.default||n)},{name:"starsMovies",path:"/starsMovies",meta:{},alias:[],redirect:Vl==null?void 0:Vl.redirect,component:()=>ae(()=>import("./CXuhZvl5.js"),__vite__mapDeps([108,44,4,2,3,5,6,7,8,45,1,9,10,11,46,77,25,26,27,28,85,24,29,30,31,32,33,36,78,56,109]),import.meta.url).then(n=>n.default||n)},{name:"start-applicaiton",path:"/start/applicaiton",meta:{},alias:[],redirect:Hl==null?void 0:Hl.redirect,component:()=>ae(()=>import("./D-iAxapy.js"),__vite__mapDeps([110,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,102,44,45,46,25,26,27,28,52,103,48,49,50,51,53,106,29,30,31,17,18]),import.meta.url).then(n=>n.default||n)},{name:"start-privacy",path:"/start/privacy",meta:{},alias:[],redirect:ql==null?void 0:ql.redirect,component:()=>ae(()=>import("./DPQaGKxQ.js"),__vite__mapDeps([111,25,2,3,26,27,28,112,5,6,10,13,113,106]),import.meta.url).then(n=>n.default||n)},{name:"start-terms",path:"/start/terms",meta:{},alias:[],redirect:Wl==null?void 0:Wl.redirect,component:()=>ae(()=>import("./DQLbfB8X.js"),__vite__mapDeps([114,25,2,3,26,27,28,112,5,6,10,13,113,106]),import.meta.url).then(n=>n.default||n)},{name:"useProposal",path:"/useProposal",meta:{},alias:[],redirect:Ql==null?void 0:Ql.redirect,component:()=>ae(()=>import("./C52qeF-W.js"),__vite__mapDeps([115,27,2,3]),import.meta.url).then(n=>n.default||n),children:[{name:"useProposal-art-idx",path:"art/:idx()",meta:{},alias:[],redirect:zl==null?void 0:zl.redirect,component:()=>ae(()=>import("./D3UAkyN0.js"),__vite__mapDeps([116,19,7,5,2,3,6,4,8]),import.meta.url).then(n=>n.default||n)},{name:"useProposal-art",path:"art",meta:{},alias:[],redirect:Gl==null?void 0:Gl.redirect,component:()=>ae(()=>import("./Dp4MThHG.js"),__vite__mapDeps([117,25,2,3,26,27,28,1,4,5,6,7,8,9,10,11,12,13,14,15,16,102,44,45,46,52,103,118,30,31,19]),import.meta.url).then(n=>n.default||n)},{name:"useProposal-art-preview",path:"art/preview",meta:{},alias:[],redirect:$l==null?void 0:$l.redirect,component:()=>ae(()=>import("./DByEY-Ay.js"),__vite__mapDeps([119,2,3]),import.meta.url).then(n=>n.default||n)},{name:"useProposal-film-idx",path:"film/:idx()",meta:{},alias:[],redirect:Kl==null?void 0:Kl.redirect,component:()=>ae(()=>import("./BBpo_XpR.js"),__vite__mapDeps([120,19,7,5,2,3,6,4,8]),import.meta.url).then(n=>n.default||n)},{name:"useProposal-film",path:"film",meta:{},alias:[],redirect:Xl==null?void 0:Xl.redirect,component:()=>ae(()=>import("./C-iXL3P1.js"),__vite__mapDeps([121,25,2,3,26,27,28,1,4,5,6,7,8,9,10,11,12,13,14,15,16,102,44,45,46,52,103,118,30,31,19]),import.meta.url).then(n=>n.default||n)},{name:"useProposal-film-preview",path:"film/preview",meta:{},alias:[],redirect:Yl==null?void 0:Yl.redirect,component:()=>ae(()=>import("./CST6dbDj.js"),__vite__mapDeps([122,2,3]),import.meta.url).then(n=>n.default||n)}]},{name:"user",path:"/user",meta:{},alias:[],redirect:ic==null?void 0:ic.redirect,component:()=>ae(()=>import("./B-djiCx9.js"),__vite__mapDeps([123,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33,19,124]),import.meta.url).then(n=>n.default||n),children:[{name:"user-account",path:"account",meta:{},alias:[],redirect:Jl==null?void 0:Jl.redirect,component:()=>ae(()=>import("./Bj-WkIys.js"),__vite__mapDeps([125,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,29,30,31,17,19]),import.meta.url).then(n=>n.default||n)},{name:"user-message",path:"message",meta:{},alias:[],redirect:Zl==null?void 0:Zl.redirect,component:()=>ae(()=>import("./BTNCCQ4k.js"),__vite__mapDeps([126,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,102,44,45,46,14,15,52,103,19,127]),import.meta.url).then(n=>n.default||n)},{name:"user-notificatSet",path:"notificatSet",meta:{},alias:[],redirect:ec==null?void 0:ec.redirect,component:()=>ae(()=>import("./C6plJaM2.js"),__vite__mapDeps([128,19,7,5,2,3,6,4,8,129]),import.meta.url).then(n=>n.default||n)},{name:"user-profilePage",path:"profilePage",meta:{},alias:[],redirect:tc==null?void 0:tc.redirect,component:()=>ae(()=>import("./CzXP1RDQ.js"),__vite__mapDeps([130,25,2,3,26,27,28,49,5,6,9,4,50,51,105,106,10,76,131]),import.meta.url).then(n=>n.default||n)},{name:"user-proposal",path:"proposal",meta:{},alias:[],redirect:rc==null?void 0:rc.redirect,component:()=>ae(()=>import("./BV0hF_Ur.js"),__vite__mapDeps([132,25,2,3,26,27,28,112,5,6,10,13,113,30,31,7,4,8,19,133]),import.meta.url).then(n=>n.default||n)}]},{name:"videoIframe",path:"/videoIframe",meta:{},alias:[],redirect:nc==null?void 0:nc.redirect,component:()=>ae(()=>import("./CPqojXbA.js"),__vite__mapDeps([134,24,1,2,3,4,5,6,7,8,9,10,11,25,26,27,28,29,30,31,32,33]),import.meta.url).then(n=>n.default||n)}],h0=(n,e,r)=>(e=e===!0?{}:e,{default:()=>{var i;return e?Mt(n,e,r):(i=r.default)==null?void 0:i.call(r)}});function hm(n){const e=(n==null?void 0:n.meta.key)??n.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,r=>{var i;return((i=n.params[r.slice(1)])==null?void 0:i.toString())||""});return typeof e=="function"?e(n):e}function mC(n,e){return n===e||e===hr?!1:hm(n)!==hm(e)?!0:!n.matched.every((i,t)=>{var a,s;return i.components&&i.components.default===((s=(a=e.matched[t])==null?void 0:a.components)==null?void 0:s.default)})}const gC={scrollBehavior(n,e,r){var l;const i=ke(),t=((l=Ur().options)==null?void 0:l.scrollBehaviorType)??"auto";let a=r||void 0;const s=typeof n.meta.scrollToTop=="function"?n.meta.scrollToTop(n,e):n.meta.scrollToTop;if(!a&&e&&n&&s!==!1&&mC(n,e)&&(a={left:0,top:0}),n.path===e.path)return e.hash&&!n.hash?{left:0,top:0}:n.hash?{el:n.hash,top:pm(n.hash),behavior:t}:!1;const o=c=>!!(c.meta.pageTransition??td),u=o(e)&&o(n)?"page:transition:finish":"page:finish";return new Promise(c=>{i.hooks.hookOnce(u,async()=>{await new Promise(d=>setTimeout(d,0)),n.hash&&(a={el:n.hash,top:pm(n.hash),behavior:t}),c(a)})})}};function pm(n){try{const e=document.querySelector(n);if(e)return parseFloat(getComputedStyle(e).scrollMarginTop)}catch{}return 0}const vC={hashMode:!1,scrollBehaviorType:"auto"},$t={...vC,...gC},_C=async n=>{var u;let e,r;if(!((u=n.meta)!=null&&u.validate))return;const i=ke(),t=Ur();if(([e,r]=Ja(()=>Promise.resolve(n.meta.validate(n))),e=await e,r(),e)===!0)return;const s=yu({statusCode:404,statusMessage:`Page Not Found: ${n.fullPath}`,data:{path:n.fullPath}}),o=t.beforeResolve(l=>{if(o(),l===n){const c=t.afterEach(async()=>{c(),await i.runWithContext(()=>Dn(s)),window.history.pushState({},"",n.fullPath)});return!1}})},yC=async n=>{let e,r;const i=([e,r]=Ja(()=>hf(n.path)),e=await e,r(),e);if(i.redirect)return cn(i.redirect,{acceptRelative:!0})?(window.location.href=i.redirect,!1):i.redirect},TC=[_C,yC],Ha={"router-login":()=>ae(()=>import("./0wTm2jvP.js"),__vite__mapDeps([135,2,3]),import.meta.url)};function bC(n,e,r){const{pathname:i,search:t,hash:a}=e,s=n.indexOf("#");if(s>-1){const l=a.includes(n.slice(s))?n.slice(s).length:1;let c=a.slice(l);return c[0]!=="/"&&(c="/"+c),Ip(c,"")}const o=Ip(i,n),u=!r||Xx(o,r,{trailingSlash:!0})?o:r;return u+(u.includes("?")?"":t)+a}const SC=It({name:"nuxt:router",enforce:"pre",async setup(n){var T,E;let e,r,i=vu().app.baseURL;$t.hashMode&&!i.includes("#")&&(i+="#");const t=((T=$t.history)==null?void 0:T.call($t,i))??($t.hashMode?N1(i):u0(i)),a=((E=$t.routes)==null?void 0:E.call($t,fm))??fm;let s;const o=oC({...$t,scrollBehavior:(C,I,k)=>{if(I===hr){s=k;return}if($t.scrollBehavior){if(o.options.scrollBehavior=$t.scrollBehavior,"scrollRestoration"in window.history){const D=o.beforeEach(()=>{D(),window.history.scrollRestoration="manual"})}return $t.scrollBehavior(C,hr,s||k)}},history:t,routes:a});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),n.vueApp.use(o);const u=Qr(o.currentRoute.value);o.afterEach((C,I)=>{u.value=I}),Object.defineProperty(n.vueApp.config.globalProperties,"previousRoute",{get:()=>u.value});const l=bC(i,window.location,n.payload.path),c=Qr(o.currentRoute.value),d=()=>{c.value=o.currentRoute.value};n.hook("page:finish",d),o.afterEach((C,I)=>{var k,D,N,M;((D=(k=C.matched[0])==null?void 0:k.components)==null?void 0:D.default)===((M=(N=I.matched[0])==null?void 0:N.components)==null?void 0:M.default)&&d()});const f={};for(const C in c.value)Object.defineProperty(f,C,{get:()=>c.value[C]});n._route=hu(f),n._middleware=n._middleware||{global:[],named:{}};try{[e,r]=Ja(()=>o.isReady()),await e,r()}catch(C){[e,r]=Ja(()=>n.runWithContext(()=>Dn(C))),await e,r()}const p=l!==o.currentRoute.value.fullPath?o.resolve(l):o.currentRoute.value;d();const y=n.payload.state._layout;o.beforeEach(async(C,I)=>{var k;await n.callHook("page:loading:start"),C.meta=ln(C.meta),n.isHydrating&&y&&!ox(C.meta.layout)&&(C.meta.layout=y),n._processingMiddleware=!0;{const D=new Set([...TC,...n._middleware.global]);for(const N of C.matched){const M=N.meta.middleware;if(M)for(const L of vf(M))D.add(L)}{const N=await n.runWithContext(()=>hf(C.path));if(N.appMiddleware)for(const M in N.appMiddleware)N.appMiddleware[M]?D.add(M):D.delete(M)}for(const N of D){const M=typeof N=="string"?n._middleware.named[N]||await((k=Ha[N])==null?void 0:k.call(Ha).then(O=>O.default||O)):N;if(!M)throw new Error(`Unknown route middleware: '${N}'.`);const L=await n.runWithContext(()=>M(C,I));if(!n.payload.serverRendered&&n.isHydrating&&(L===!1||L instanceof Error)){const O=L||Yc({statusCode:404,statusMessage:`Page Not Found: ${l}`});return await n.runWithContext(()=>Dn(O)),!1}if(L!==!0&&(L||L===!1))return L}}}),o.onError(async()=>{delete n._processingMiddleware,await n.callHook("page:loading:end")});const _=_u();return o.afterEach(async(C,I,k)=>{delete n._processingMiddleware,!n.isHydrating&&_.value&&await n.runWithContext(i2),k&&await n.callHook("page:loading:end"),C.matched.length===0&&await n.runWithContext(()=>Dn(Yc({statusCode:404,fatal:!1,statusMessage:`Page not found: ${C.fullPath}`,data:{path:C.fullPath}})))}),n.hooks.hookOnce("app:created",async()=>{try{"name"in p&&(p.name=void 0),await o.replace({...p,force:!0}),o.options.scrollBehavior=$t.scrollBehavior}catch(C){await n.runWithContext(()=>Dn(C))}}),{provide:{router:o}}}}),mm=globalThis.requestIdleCallback||(n=>{const e=Date.now(),r={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{n(r)},1)}),RM=globalThis.cancelIdleCallback||(n=>{clearTimeout(n)}),p0=n=>{const e=ke();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{mm(n)}):mm(n)},xC=It({name:"nuxt:payload",setup(n){Ur().beforeResolve(async(e,r)=>{if(e.path===r.path)return;const i=await $p(e.path);i&&Object.assign(n.static.data,i.data)}),p0(()=>{var e;n.hooks.hook("link:prefetch",async r=>{gu(r).protocol||await $p(r)}),((e=navigator.connection)==null?void 0:e.effectiveType)!=="slow-2g"&&setTimeout(Tu,1e3)})}}),EC=It(n=>{let e;async function r(){const i=await Tu();e&&clearTimeout(e),e=setTimeout(r,1e3*60*60);try{const t=await $fetch(cf("builds/latest.json")+`?${Date.now()}`);t.id!==i.id&&n.hooks.callHook("app:manifest:update",t)}catch{}}p0(()=>{e=setTimeout(r,1e3*60*60)})}),CC=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let m0;const Ts=n=>m0=n,g0=Symbol();function sd(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var qa;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(qa||(qa={}));function wC(){const n=Zd(!0),e=n.run(()=>Je({}));let r=[],i=[];const t=Sv({install(a){Ts(t),t._a=a,a.provide(g0,t),a.config.globalProperties.$pinia=t,i.forEach(s=>r.push(s)),i=[]},use(a){return!this._a&&!CC?i.push(a):r.push(a),this},_p:r,_a:null,_e:n,_s:new Map,state:e});return t}const v0=()=>{};function gm(n,e,r,i=v0){n.push(e);const t=()=>{const a=n.indexOf(e);a>-1&&(n.splice(a,1),i())};return!r&&pu()&&mu(t),t}function vn(n,...e){n.slice().forEach(r=>{r(...e)})}const AC=n=>n();function od(n,e){n instanceof Map&&e instanceof Map&&e.forEach((r,i)=>n.set(i,r)),n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],t=n[r];sd(t)&&sd(i)&&n.hasOwnProperty(r)&&!Ao(i)&&!xv(i)?n[r]=od(t,i):n[r]=i}return n}const DC=Symbol();function kC(n){return!sd(n)||!n.hasOwnProperty(DC)}const{assign:mi}=Object;function PC(n){return!!(Ao(n)&&n.effect)}function IC(n,e,r,i){const{state:t,actions:a,getters:s}=e,o=r.state.value[n];let u;function l(){o||(r.state.value[n]=t?t():{});const c=ux(r.state.value[n]);return mi(c,a,Object.keys(s||{}).reduce((d,f)=>(d[f]=Sv(Fe(()=>{Ts(r);const p=r._s.get(n);return s[f].call(p,p)})),d),{}))}return u=_0(n,l,e,r,i,!0),u}function _0(n,e,r={},i,t,a){let s;const o=mi({actions:{}},r),u={deep:!0};let l,c,d=[],f=[],p;const y=i.state.value[n];!a&&!y&&(i.state.value[n]={}),Je({});let _;function T(L){let O;l=c=!1,typeof L=="function"?(L(i.state.value[n]),O={type:qa.patchFunction,storeId:n,events:p}):(od(i.state.value[n],L),O={type:qa.patchObject,payload:L,storeId:n,events:p});const j=_=Symbol();Nr().then(()=>{_===j&&(l=!0)}),c=!0,vn(d,O,i.state.value[n])}const E=a?function(){const{state:O}=r,j=O?O():{};this.$patch(q=>{mi(q,j)})}:v0;function C(){s.stop(),d=[],f=[],i._s.delete(n)}function I(L,O){return function(){Ts(i);const j=Array.from(arguments),q=[],H=[];function G(X){q.push(X)}function re(X){H.push(X)}vn(f,{args:j,name:L,store:D,after:G,onError:re});let ie;try{ie=O.apply(this&&this.$id===n?this:D,j)}catch(X){throw vn(H,X),X}return ie instanceof Promise?ie.then(X=>(vn(q,X),X)).catch(X=>(vn(H,X),Promise.reject(X))):(vn(q,ie),ie)}}const k={_p:i,$id:n,$onAction:gm.bind(null,f),$patch:T,$reset:E,$subscribe(L,O={}){const j=gm(d,L,O.detached,()=>q()),q=s.run(()=>Jr(()=>i.state.value[n],H=>{(O.flush==="sync"?c:l)&&L({storeId:n,type:qa.direct,events:p},H)},mi({},u,O)));return j},$dispose:C},D=ln(k);i._s.set(n,D);const M=(i._a&&i._a.runWithContext||AC)(()=>i._e.run(()=>(s=Zd()).run(e)));for(const L in M){const O=M[L];if(Ao(O)&&!PC(O)||xv(O))a||(y&&kC(O)&&(Ao(O)?O.value=y[L]:od(O,y[L])),i.state.value[n][L]=O);else if(typeof O=="function"){const j=I(L,O);M[L]=j,o.actions[L]=O}}return mi(D,M),mi(Ev(D),M),Object.defineProperty(D,"$state",{get:()=>i.state.value[n],set:L=>{T(O=>{mi(O,L)})}}),i._p.forEach(L=>{mi(D,s.run(()=>L({store:D,app:i._a,pinia:i,options:o})))}),y&&a&&r.hydrate&&r.hydrate(D.$state,y),l=!0,c=!0,D}function y0(n,e,r){let i,t;const a=typeof e=="function";typeof n=="string"?(i=n,t=a?r:e):(t=n,i=n.id);function s(o,u){const l=ef();return o=o||(l?ht(g0,null):null),o&&Ts(o),o=m0,o._s.has(i)||(a?_0(i,e,t,o):IC(i,t,o)),o._s.get(i)}return s.$id=i,s}const OC={path:"/",watch:!0,decode:n=>Qa(decodeURIComponent(n)),encode:n=>encodeURIComponent(typeof n=="string"?n:JSON.stringify(n))},LC=void 0;function vm(n,e){var u;const r={...OC,...e},i=_m(r)||{};let t;r.maxAge!==void 0?t=r.maxAge*1e3:r.expires&&(t=r.expires.getTime()-Date.now());const a=t!==void 0&&t<=0,s=Sr(a?void 0:i[n]??((u=r.default)==null?void 0:u.call(r))),o=t&&!a?FC(s,t,r.watch&&r.watch!=="shallow"):Je(s);{let l=null;try{!LC&&typeof BroadcastChannel<"u"&&(l=new BroadcastChannel(`nuxt:cookies:${n}`))}catch{}const c=()=>{r.readonly||GE(o.value,i[n])||(MC(n,o.value,r),i[n]=Sr(o.value),l==null||l.postMessage({value:r.encode(o.value)}))},d=p=>{var _;const y=p.refresh?(_=_m(r))==null?void 0:_[n]:r.decode(p.value);f=!0,i[n]=o.value=y,Nr(()=>{f=!1})};let f=!1;pu()&&mu(()=>{f=!0,c(),l==null||l.close()}),l&&(l.onmessage=({data:p})=>d(p)),r.watch?Jr(o,()=>{f||c()},{deep:r.watch!=="shallow"}):c()}return o}function _m(n={}){return PE(document.cookie,n)}function RC(n,e,r={}){return e==null?Fp(n,e,{...r,maxAge:-1}):Fp(n,e,r)}function MC(n,e,r={}){document.cookie=RC(n,e,r)}const ym=2147483647;function FC(n,e,r){let i,t,a=0;const s=r?Je(n):{value:n};return pu()&&mu(()=>{t==null||t(),clearTimeout(i)}),lx((o,u)=>{r&&(t=Jr(s,u));function l(){clearTimeout(i);const c=e-a,d=c<ym?c:ym;i=setTimeout(()=>{if(a+=d,a<e)return l();s.value=void 0,u()},d)}return{get(){return o(),s.value},set(c){l(),s.value=c,u()}}})}function NC(n={}){const e=n.path||window.location.pathname;let r={};try{r=Qa(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(n.force||(r==null?void 0:r.path)!==e||(r==null?void 0:r.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(n.ttl??1e4)}))}catch{}if(n.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:ke().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const BC=It(n=>{const e=wC();return n.vueApp.use(e),Ts(e),n.payload&&n.payload.pinia&&(e.state.value=n.payload.pinia),{provide:{pinia:e}}}),UC=Ei(()=>ae(()=>import("./Nv8xuGmf.js"),__vite__mapDeps([136,27,2,3]),import.meta.url).then(n=>n.default||n.default||n)),jC=Ei(()=>ae(()=>import("./BVLeiRnK.js"),__vite__mapDeps([137,27,2,3]),import.meta.url).then(n=>n.default||n.default||n)),VC=Ei(()=>ae(()=>import("./BrDnybj_.js"),__vite__mapDeps([138,27,2,3]),import.meta.url).then(n=>n.default||n.default||n)),HC=Ei(()=>ae(()=>import("./CYQ6tR30.js"),__vite__mapDeps([139,27,2,3]),import.meta.url).then(n=>n.default||n.default||n)),qC=Ei(()=>ae(()=>import("./CPwt8FHk.js"),__vite__mapDeps([25,2,3,26,27,28]),import.meta.url).then(n=>n.default||n.default||n)),WC=Ei(()=>ae(()=>import("./CLTs8bsa.js"),__vite__mapDeps([140,2,3,26,27,141]),import.meta.url).then(n=>n.default||n.default||n)),zC=[["StartLogo",UC],["StartMallLogo",jC],["UnionPayCard",VC],["VisaCard",HC],["Icon",qC],["IconCSS",WC]],GC=It({name:"nuxt:global-components",setup(n){for(const[e,r]of zC)n.vueApp.component(e,r),n.vueApp.component("Lazy"+e,r)}}),vi={custom:()=>ae(()=>import("./DclduwXO.js"),__vite__mapDeps([142,70,25,2,3,26,27,28,71,72,73,21,7,5,6,4,8,30,31,74,33,75]),import.meta.url).then(n=>n.default||n),default:()=>ae(()=>import("./C8VYDkEB.js"),__vite__mapDeps([143,2,3]),import.meta.url).then(n=>n.default||n),home:()=>ae(()=>import("./BjL10g1j.js"),__vite__mapDeps([144,70,25,2,3,26,27,28,71,72,73,21,7,5,6,4,8,30,31,74,33,75]),import.meta.url).then(n=>n.default||n),user:()=>ae(()=>import("./DyNFTHBA.js"),__vite__mapDeps([145,70,25,2,3,26,27,28,71,72,73,21,7,5,6,4,8,30,31,74,33,75]),import.meta.url).then(n=>n.default||n)},$C=It({name:"nuxt:prefetch",setup(n){const e=Ur();n.hooks.hook("app:mounted",()=>{e.beforeEach(async r=>{var t;const i=(t=r==null?void 0:r.meta)==null?void 0:t.layout;i&&typeof vi[i]=="function"&&await vi[i]()})}),n.hooks.hook("link:prefetch",r=>{if(cn(r))return;const i=e.resolve(r);if(!i)return;const t=i.meta.layout;let a=vf(i.meta.middleware);a=a.filter(s=>typeof s=="string");for(const s of a)typeof Ha[s]=="function"&&Ha[s]();t&&typeof vi[t]=="function"&&vi[t]()})}}),KC=It(()=>{}),XC=It(n=>{n.hook("app:rendered",e=>{var r;(r=e.ssrContext)!=null&&r.teleports&&(e.ssrContext.teleports=YC(e.ssrContext.teleports))})});function YC(n){const e=Object.entries(n).reduce((r,[i,t])=>i.startsWith("#el-popper-container-")||[].includes(i)?`${r}<div id="${i.slice(1)}">${t}</div>`:r,n.body||"");return{...n,body:e}}var QC=Object.defineProperty,JC=Object.defineProperties,ZC=Object.getOwnPropertyDescriptors,Tm=Object.getOwnPropertySymbols,ew=Object.prototype.hasOwnProperty,tw=Object.prototype.propertyIsEnumerable,bm=(n,e,r)=>e in n?QC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,rw=(n,e)=>{for(var r in e||(e={}))ew.call(e,r)&&bm(n,r,e[r]);if(Tm)for(var r of Tm(e))tw.call(e,r)&&bm(n,r,e[r]);return n},iw=(n,e)=>JC(n,ZC(e));function MM(n,e){var r;const i=Qr();return cx(()=>{i.value=n()},iw(rw({},e),{flush:(r=void 0)!=null?r:"sync"})),tf(i)}var Sm;const _f=typeof window<"u",FM=n=>typeof n<"u",NM=n=>typeof n=="function",BM=n=>typeof n=="string",Oo=()=>{},UM=_f&&((Sm=window==null?void 0:window.navigator)==null?void 0:Sm.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Lo(n){return typeof n=="function"?n():ge(n)}function T0(n,e){function r(...i){return new Promise((t,a)=>{Promise.resolve(n(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(t).catch(a)})}return r}function nw(n,e={}){let r,i,t=Oo;const a=o=>{clearTimeout(o),t(),t=Oo};return o=>{const u=Lo(n),l=Lo(e.maxWait);return r&&a(r),u<=0||l!==void 0&&l<=0?(i&&(a(i),i=null),Promise.resolve(o())):new Promise((c,d)=>{t=e.rejectOnCancel?d:c,l&&!i&&(i=setTimeout(()=>{r&&a(r),i=null,c(o())},l)),r=setTimeout(()=>{i&&a(i),i=null,c(o())},u)})}}function aw(n,e=!0,r=!0,i=!1){let t=0,a,s=!0,o=Oo,u;const l=()=>{a&&(clearTimeout(a),a=void 0,o(),o=Oo)};return d=>{const f=Lo(n),p=Date.now()-t,y=()=>u=d();return l(),f<=0?(t=Date.now(),y()):(p>f&&(r||!s)?(t=Date.now(),y()):e&&(u=new Promise((_,T)=>{o=i?T:_,a=setTimeout(()=>{t=Date.now(),s=!0,_(y()),l()},Math.max(0,f-p))})),!r&&!a&&(a=setTimeout(()=>s=!0,f)),s=!1,u)}}function jM(n){return n}function sw(n){return pu()?(mu(n),!0):!1}function ow(n,e=200,r={}){return T0(nw(e,r),n)}function VM(n,e=200,r={}){const i=Je(n.value),t=ow(()=>{i.value=n.value},e,r);return Jr(n,()=>t()),i}function HM(n,e=200,r=!1,i=!0,t=!1){return T0(aw(e,r,i,t),n)}function qM(n,e=!0){Vn()?Cv(n):e?n():Nr(n)}function WM(n,e,r={}){const{immediate:i=!0}=r,t=Je(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function o(){t.value=!1,s()}function u(...l){s(),t.value=!0,a=setTimeout(()=>{t.value=!1,a=null,n(...l)},Lo(e))}return i&&(t.value=!0,_f&&u()),sw(o),{isPending:tf(t),start:u,stop:o}}var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function b0(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var t=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,t.get?t:{enumerable:!0,get:function(){return n[i]}})}),r}function uw(n){return n==null}const zM=n=>n===void 0,GM=n=>typeof n=="boolean",lw=n=>typeof n=="number",$M=n=>typeof Element>"u"?!1:n instanceof Element,KM=n=>uw(n),XM=n=>dx(n)?!Number.isNaN(Number(n)):!1,ac="el",cw="is-",ji=(n,e,r,i,t)=>{let a=`${n}-${e}`;return r&&(a+=`-${r}`),i&&(a+=`__${i}`),t&&(a+=`--${t}`),a},dw=Symbol("namespaceContextKey"),S0=n=>{const e=n||(Vn()?ht(dw,Je(ac)):Je(ac));return Fe(()=>ge(e)||ac)},YM=(n,e)=>{const r=S0(e);return{namespace:r,b:(_="")=>ji(r.value,n,_,"",""),e:_=>_?ji(r.value,n,"",_,""):"",m:_=>_?ji(r.value,n,"","",_):"",be:(_,T)=>_&&T?ji(r.value,n,_,T,""):"",em:(_,T)=>_&&T?ji(r.value,n,"",_,T):"",bm:(_,T)=>_&&T?ji(r.value,n,_,"",T):"",bem:(_,T,E)=>_&&T&&E?ji(r.value,n,_,T,E):"",is:(_,...T)=>{const E=T.length>=1?T[0]:!0;return _&&E?`${cw}${_}`:""},cssVar:_=>{const T={};for(const E in _)_[E]&&(T[`--${r.value}-${E}`]=_[E]);return T},cssVarName:_=>`--${r.value}-${_}`,cssVarBlock:_=>{const T={};for(const E in _)_[E]&&(T[`--${r.value}-${n}-${E}`]=_[E]);return T},cssVarBlockName:_=>`--${r.value}-${n}-${_}`}},xm={prefix:Math.floor(Math.random()*1e4),current:0},x0=Symbol("elIdInjection"),fw=()=>Vn()?ht(x0,xm):xm,QM=n=>{const e=fw(),r=S0();return Fe(()=>ge(n)||`${r.value}-id-${e.prefix}-${e.current++}`)},Em={current:0},Cm=Je(0),hw=2e3,ud=Symbol("elZIndexContextKey"),pw=Symbol("zIndexContextKey"),JM=n=>{const e=Vn()?ht(ud,Em):Em,r=n||(Vn()?ht(pw,void 0):void 0),i=Fe(()=>{const s=ge(r);return lw(s)?s:hw}),t=Fe(()=>i.value+Cm.value),a=()=>(e.current++,Cm.value=e.current,t.value);return!_f&&ht(ud),{initialZIndex:i,currentZIndex:t,nextZIndex:a}},mw=It(n=>{n.vueApp.provide(x0,{prefix:1024,current:0}).provide(ud,{current:0})}),gw=It({name:"nuxt:chunk-reload",setup(n){const e=Ur(),r=vu(),i=new Set;e.beforeEach(()=>{i.clear()}),n.hook("app:chunkError",({error:a})=>{i.add(a)});function t(a){const o="href"in a&&a.href[0]==="#"?r.app.baseURL+a.href:uf(r.app.baseURL,a.fullPath);NC({path:o,persistState:!0})}n.hook("app:manifest:update",()=>{e.beforeResolve(t)}),e.onError((a,s)=>{i.has(a)&&t(s)})}});function wm(n){return{getItem:e=>vm(e,{...n,encode:encodeURIComponent,decode:decodeURIComponent}).value,setItem:(e,r)=>{vm(e,{...n,encode:encodeURIComponent,decode:decodeURIComponent}).value=r}}}function vw(){return{getItem:n=>ke().ssrContext?null:localStorage.getItem(n),setItem:(n,e)=>{ke().ssrContext||localStorage.setItem(n,e)}}}function _w(){return{getItem:n=>ke().ssrContext?null:sessionStorage.getItem(n),setItem:(n,e)=>{ke().ssrContext||sessionStorage.setItem(n,e)}}}const Mo={localStorage:vw(),sessionStorage:_w(),cookies:wm(),cookiesWithOptions:wm};function yw(n){return typeof n=="object"&&n!==null}function Am(n,e){return n=yw(n)?n:Object.create(null),new Proxy(n,{get(r,i,t){return i==="key"?Reflect.get(r,i,t):Reflect.get(r,i,t)||Reflect.get(e,i,t)}})}function Tw(n,e){return e.reduce((r,i)=>r==null?void 0:r[i],n)}function bw(n,e,r){return e.slice(0,-1).reduce((i,t)=>/^(__proto__)$/.test(t)?{}:i[t]=i[t]||{},n)[e[e.length-1]]=r,n}function Sw(n,e){return e.reduce((r,i)=>{const t=i.split(".");return bw(r,t,Tw(n,t))},{})}function xw(n,e){return r=>{var i;try{const{storage:t=localStorage,beforeRestore:a=void 0,afterRestore:s=void 0,serializer:o={serialize:JSON.stringify,deserialize:JSON.parse},key:u=e.$id,paths:l=null,debug:c=!1}=r;return{storage:t,beforeRestore:a,afterRestore:s,serializer:o,key:((i=n.key)!=null?i:d=>d)(typeof u=="string"?u:u(e.$id)),paths:l,debug:c}}catch{return r.debug,null}}}function Dm(n,{storage:e,serializer:r,key:i,debug:t}){try{const a=e==null?void 0:e.getItem(i);a&&n.$patch(r==null?void 0:r.deserialize(a))}catch{}}function km(n,{storage:e,serializer:r,key:i,paths:t,debug:a}){try{const s=Array.isArray(t)?Sw(n,t):n;e.setItem(i,r.serialize(s))}catch{}}function Ew(n={}){return e=>{const{auto:r=!1}=n,{options:{persist:i=r},store:t,pinia:a}=e;if(!i)return;if(!(t.$id in a.state.value)){const o=a._s.get(t.$id.replace("__hot:",""));o&&Promise.resolve().then(()=>o.$persist());return}const s=(Array.isArray(i)?i.map(o=>Am(o,n)):[Am(i,n)]).map(xw(n,t)).filter(Boolean);t.$persist=()=>{s.forEach(o=>{km(t.$state,o)})},t.$hydrate=({runHooks:o=!0}={})=>{s.forEach(u=>{const{beforeRestore:l,afterRestore:c}=u;o&&(l==null||l(e)),Dm(t,u),o&&(c==null||c(e))})},s.forEach(o=>{const{beforeRestore:u,afterRestore:l}=o;u==null||u(e),Dm(t,o),l==null||l(e),t.$subscribe((c,d)=>{km(d,o)},{detached:!0})})}}const Cw=It(n=>{const{cookieOptions:e,debug:r,storage:i}=vu().public.persistedState;n.$pinia.use(Ew({storage:i==="cookies"?Mo.cookiesWithOptions(e):Mo[i],debug:r}))}),ww=It(n=>{}),Aw=It(n=>{n.vueApp.directive("copy",{created(e,r,i,t){},beforeMount(e,r,i,t){},mounted(e,r,i,t){e.$value=r.value,e.handler=()=>{if(!e.$value)return;const a=document.createElement("textarea");a.readOnly="readonly",a.style.position="fixed",a.style.left="-9999px",a.setAttribute("value",e.$value),a.value=e.$value,e.appendChild(a),a.select(),document.execCommand("Copy")&&alert("Copy link succeeded"),e.removeChild(a)},e.addEventListener("click",e.handler)},beforeUpdate(e,r,i,t){},updated(e,r,i,t){e.$value=r.value},beforeUnmount(e,r,i,t){e.removeEventListener("click",e.handler)},unmounted(e,r,i,t){},getSSRProps(e,r){return{}}})}),Dw=[n1,s1,SC,xC,EC,BC,GC,$C,KC,XC,mw,gw,Cw,ww,Aw],kw=Br({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(n){const e=n.renderKey,r=n.route,i={};for(const t in n.route)Object.defineProperty(i,t,{get:()=>e===n.renderKey?n.route[t]:r[t]});return Yi(ys,hu(i)),()=>Mt(n.vnode,{ref:n.vnodeRef})}}),Pw=Br({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(n,{attrs:e,expose:r}){const i=ke(),t=Je(),a=ht(ys,null);let s;r({pageRef:t});const o=ht(qv,null);let u;const l=i.deferHydration();if(i.isHydrating){const c=i.hooks.hookOnce("app:error",l);Ur().beforeEach(c)}return n.pageKey&&Jr(()=>n.pageKey,(c,d)=>{c!==d&&i.callHook("page:loading:start")}),()=>Mt(f0,{name:n.name,route:n.route,...e},{default:c=>{const d=Ow(a,c.route,c.Component),f=a&&a.matched.length===c.route.matched.length;if(!c.Component){if(u&&!f)return u;l();return}if(u&&o&&!o.isCurrent(c.route))return u;if(d&&a&&(!o||o!=null&&o.isCurrent(a)))return f?u:null;const p=ad(c,n.pageKey);!i.isHydrating&&!Lw(a,c.route,c.Component)&&s===p&&i.callHook("page:loading:end"),s=p;const y=!!(n.transition??c.route.meta.pageTransition??td),_=y&&Iw([n.transition,c.route.meta.pageTransition,td,{onAfterLeave:()=>{i.callHook("page:transition:finish",c.Component)}}].filter(Boolean)),T=n.keepalive??c.route.meta.keepalive??Y2;return u=h0(nf,y&&_,dC(T,Mt(rf,{suspensible:!0,onPending:()=>i.callHook("page:start",c.Component),onResolve:()=>{Nr(()=>i.callHook("page:finish",c.Component).then(()=>i.callHook("page:loading:end")).finally(l))}},{default:()=>{const E=Mt(kw,{key:p||void 0,vnode:c.Component,route:c.route,renderKey:p||void 0,trackRootNodes:y,vnodeRef:t});return T&&(E.type.name=c.Component.type.name||c.Component.type.__name||"RouteProvider"),E}}))).default(),u}})}});function Iw(n){const e=n.map(r=>({...r,onAfterLeave:r.onAfterLeave?vf(r.onAfterLeave):void 0}));return Vv(...e)}function Ow(n,e,r){if(!n)return!1;const i=e.matched.findIndex(t=>{var a;return((a=t.components)==null?void 0:a.default)===(r==null?void 0:r.type)});return!i||i===-1?!1:e.matched.slice(0,i).some((t,a)=>{var s,o,u;return((s=t.components)==null?void 0:s.default)!==((u=(o=n.matched[a])==null?void 0:o.components)==null?void 0:u.default)})||r&&ad({route:e,Component:r})!==ad({route:n,Component:r})}function Lw(n,e,r){return n?e.matched.findIndex(t=>{var a;return((a=t.components)==null?void 0:a.default)===(r==null?void 0:r.type)})<e.matched.length-1:!1}const E0=y0("modal",()=>{const n=Je(""),e=ln({title:"",message:"",icon:"",image:"",code:null}),r=Je(!1),i=Fe(()=>n.value),t=Fe(()=>e),a=Fe(()=>r.value);return{modalName:n,modelOption:e,pageLoading:r,getModalName:i,getModelOption:t,getPageLoading:a,setModalName:l=>{n.value=l},setModelOption:l=>{for(const c in e)e[c]=l[c]},setPageLoading:l=>{r.value=l}}},{persist:[{paths:["pageLoading"],storage:Mo.cookiesWithOptions()}]}),Rw=y0("user",()=>{const n=Je(""),e=Je(),r=Fe(()=>n.value),i=Fe(()=>e.value);return{token:n,userInfo:e,getToken:r,getUserInfo:i,setToken:o=>{n.value=o},setUserInfo:o=>{e.value=o},clearUserInfo:()=>{n.value="",e.value=""}}},{persist:[{paths:["token","userInfo"],storage:Mo.cookiesWithOptions({maxAge:604800})}]});function Wr(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function C0(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var er={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Wn={duration:.5,overwrite:!1,delay:0},yf,vt,Me,ar=1e8,De=1/ar,ld=Math.PI*2,Mw=ld/4,Fw=0,w0=Math.sqrt,Nw=Math.cos,Bw=Math.sin,st=function(e){return typeof e=="string"},ze=function(e){return typeof e=="function"},ri=function(e){return typeof e=="number"},Tf=function(e){return typeof e>"u"},Mr=function(e){return typeof e=="object"},Ft=function(e){return e!==!1},bf=function(){return typeof window<"u"},io=function(e){return ze(e)||st(e)},A0=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_t=Array.isArray,cd=/(?:-?\.?\d|\.)+/gi,D0=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,kn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,sc=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,k0=/[+-]=-?[.\d]+/,P0=/[^,'"\[\]\s]+/gi,Uw=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ve,xr,dd,Sf,tr={},Fo={},I0,O0=function(e){return(Fo=sn(e,tr))&&jt},xf=function(e,r){},ts=function(e,r){return!r&&void 0},L0=function(e,r){return e&&(tr[e]=r)&&Fo&&(Fo[e]=r)||tr},rs=function(){return 0},jw={suppressEvents:!0,isStart:!0,kill:!1},yo={suppressEvents:!0,kill:!1},Vw={suppressEvents:!0},Ef={},Si=[],fd={},R0,Yt={},oc={},Pm=30,To=[],Cf="",wf=function(e){var r=e[0],i,t;if(Mr(r)||ze(r)||(e=[e]),!(i=(r._gsap||{}).harness)){for(t=To.length;t--&&!To[t].targetTest(r););i=To[t]}for(t=e.length;t--;)e[t]&&(e[t]._gsap||(e[t]._gsap=new n_(e[t],i)))||e.splice(t,1);return e},Qi=function(e){return e._gsap||wf(sr(e))[0]._gsap},M0=function(e,r,i){return(i=e[r])&&ze(i)?e[r]():Tf(i)&&e.getAttribute&&e.getAttribute(r)||i},Nt=function(e,r){return(e=e.split(",")).forEach(r)||e},Ke=function(e){return Math.round(e*1e5)/1e5||0},nt=function(e){return Math.round(e*1e7)/1e7||0},Mn=function(e,r){var i=r.charAt(0),t=parseFloat(r.substr(2));return e=parseFloat(e),i==="+"?e+t:i==="-"?e-t:i==="*"?e*t:e/t},Hw=function(e,r){for(var i=r.length,t=0;e.indexOf(r[t])<0&&++t<i;);return t<i},No=function(){var e=Si.length,r=Si.slice(0),i,t;for(fd={},Si.length=0,i=0;i<e;i++)t=r[i],t&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},F0=function(e,r,i,t){Si.length&&!vt&&No(),e.render(r,i,vt&&r<0&&(e._initted||e._startAt)),Si.length&&!vt&&No()},N0=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(P0).length<2?r:st(e)?e.trim():e},B0=function(e){return e},ur=function(e,r){for(var i in r)i in e||(e[i]=r[i]);return e},qw=function(e){return function(r,i){for(var t in i)t in r||t==="duration"&&e||t==="ease"||(r[t]=i[t])}},sn=function(e,r){for(var i in r)e[i]=r[i];return e},Im=function n(e,r){for(var i in r)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Mr(r[i])?n(e[i]||(e[i]={}),r[i]):r[i]);return e},Bo=function(e,r){var i={},t;for(t in e)t in r||(i[t]=e[t]);return i},Wa=function(e){var r=e.parent||Ve,i=e.keyframes?qw(_t(e.keyframes)):ur;if(Ft(e.inherit))for(;r;)i(e,r.vars.defaults),r=r.parent||r._dp;return e},Ww=function(e,r){for(var i=e.length,t=i===r.length;t&&i--&&e[i]===r[i];);return i<0},U0=function(e,r,i,t,a){var s=e[t],o;if(a)for(o=r[a];s&&s[a]>o;)s=s._prev;return s?(r._next=s._next,s._next=r):(r._next=e[i],e[i]=r),r._next?r._next._prev=r:e[t]=r,r._prev=s,r.parent=r._dp=e,r},Su=function(e,r,i,t){i===void 0&&(i="_first"),t===void 0&&(t="_last");var a=r._prev,s=r._next;a?a._next=s:e[i]===r&&(e[i]=s),s?s._prev=a:e[t]===r&&(e[t]=a),r._next=r._prev=r.parent=null},Ci=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ji=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},zw=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},hd=function(e,r,i,t){return e._startAt&&(vt?e._startAt.revert(yo):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,t))},Gw=function n(e){return!e||e._ts&&n(e.parent)},Om=function(e){return e._repeat?zn(e._tTime,e=e.duration()+e._rDelay)*e:0},zn=function(e,r){var i=Math.floor(e/=r);return e&&i===e?i-1:i},Uo=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},xu=function(e){return e._end=nt(e._start+(e._tDur/Math.abs(e._ts||e._rts||De)||0))},Eu=function(e,r){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=nt(i._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),xu(e),i._dirty||Ji(i,e)),e},j0=function(e,r){var i;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(i=Uo(e.rawTime(),r),(!r._dur||bs(0,r.totalDuration(),i)-r._tTime>De)&&r.render(i,!0)),Ji(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-De}},wr=function(e,r,i,t){return r.parent&&Ci(r),r._start=nt((ri(i)?i:i||e!==Ve?nr(e,i,r):e._time)+r._delay),r._end=nt(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),U0(e,r,"_first","_last",e._sort?"_start":0),pd(r)||(e._recent=r),t||j0(e,r),e._ts<0&&Eu(e,e._tTime),e},V0=function(e,r){return(tr.ScrollTrigger||xf("scrollTrigger",r))&&tr.ScrollTrigger.create(r,e)},H0=function(e,r,i,t,a){if(Df(e,r,a),!e._initted)return 1;if(!i&&e._pt&&!vt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&R0!==Qt.frame)return Si.push(e),e._lazy=[a,t],1},$w=function n(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||n(r))},pd=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},Kw=function(e,r,i,t){var a=e.ratio,s=r<0||!r&&(!e._start&&$w(e)&&!(!e._initted&&pd(e))||(e._ts<0||e._dp._ts<0)&&!pd(e))?0:1,o=e._rDelay,u=0,l,c,d;if(o&&e._repeat&&(u=bs(0,e._tDur,r),c=zn(u,o),e._yoyo&&c&1&&(s=1-s),c!==zn(e._tTime,o)&&(a=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==a||vt||t||e._zTime===De||!r&&e._zTime){if(!e._initted&&H0(e,r,t,i,u))return;for(d=e._zTime,e._zTime=r||(i?De:0),i||(i=r&&!d),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=u,l=e._pt;l;)l.r(s,l.d),l=l._next;r<0&&hd(e,r,i,!0),e._onUpdate&&!i&&Zt(e,"onUpdate"),u&&e._repeat&&!i&&e.parent&&Zt(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===s&&(s&&Ci(e,1),!i&&!vt&&(Zt(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},Xw=function(e,r,i){var t;if(i>r)for(t=e._first;t&&t._start<=i;){if(t.data==="isPause"&&t._start>r)return t;t=t._next}else for(t=e._last;t&&t._start>=i;){if(t.data==="isPause"&&t._start<r)return t;t=t._prev}},Gn=function(e,r,i,t){var a=e._repeat,s=nt(r)||0,o=e._tTime/e._tDur;return o&&!t&&(e._time*=s/e._dur),e._dur=s,e._tDur=a?a<0?1e10:nt(s*(a+1)+e._rDelay*a):s,o>0&&!t&&Eu(e,e._tTime=e._tDur*o),e.parent&&xu(e),i||Ji(e.parent,e),e},Lm=function(e){return e instanceof Ct?Ji(e):Gn(e,e._dur)},Yw={_start:0,endTime:rs,totalDuration:rs},nr=function n(e,r,i){var t=e.labels,a=e._recent||Yw,s=e.duration()>=ar?a.endTime(!1):e._dur,o,u,l;return st(r)&&(isNaN(r)||r in t)?(u=r.charAt(0),l=r.substr(-1)==="%",o=r.indexOf("="),u==="<"||u===">"?(o>=0&&(r=r.replace(/=/,"")),(u==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(r.substr(1))||0)*(l?(o<0?a:i).totalDuration()/100:1)):o<0?(r in t||(t[r]=s),t[r]):(u=parseFloat(r.charAt(o-1)+r.substr(o+1)),l&&i&&(u=u/100*(_t(i)?i[0]:i).totalDuration()),o>1?n(e,r.substr(0,o-1),i)+u:s+u)):r==null?s:+r},za=function(e,r,i){var t=ri(r[1]),a=(t?2:1)+(e<2?0:1),s=r[a],o,u;if(t&&(s.duration=r[1]),s.parent=i,e){for(o=s,u=i;u&&!("immediateRender"in o);)o=u.vars.defaults||{},u=Ft(u.vars.inherit)&&u.parent;s.immediateRender=Ft(o.immediateRender),e<2?s.runBackwards=1:s.startAt=r[a-1]}return new Ze(r[0],s,r[a+1])},Ii=function(e,r){return e||e===0?r(e):r},bs=function(e,r,i){return i<e?e:i>r?r:i},gt=function(e,r){return!st(e)||!(r=Uw.exec(e))?"":r[1]},Qw=function(e,r,i){return Ii(i,function(t){return bs(e,r,t)})},md=[].slice,q0=function(e,r){return e&&Mr(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&Mr(e[0]))&&!e.nodeType&&e!==xr},Jw=function(e,r,i){return i===void 0&&(i=[]),e.forEach(function(t){var a;return st(t)&&!r||q0(t,1)?(a=i).push.apply(a,sr(t)):i.push(t)})||i},sr=function(e,r,i){return Me&&!r&&Me.selector?Me.selector(e):st(e)&&!i&&(dd||!$n())?md.call((r||Sf).querySelectorAll(e),0):_t(e)?Jw(e,i):q0(e)?md.call(e,0):e?[e]:[]},gd=function(e){return e=sr(e)[0]||ts("Invalid scope")||{},function(r){var i=e.current||e.nativeElement||e;return sr(r,i.querySelectorAll?i:i===e?ts("Invalid scope")||Sf.createElement("div"):e)}},W0=function(e){return e.sort(function(){return .5-Math.random()})},z0=function(e){if(ze(e))return e;var r=Mr(e)?e:{each:e},i=Zi(r.ease),t=r.from||0,a=parseFloat(r.base)||0,s={},o=t>0&&t<1,u=isNaN(t)||o,l=r.axis,c=t,d=t;return st(t)?c=d={center:.5,edges:.5,end:1}[t]||0:!o&&u&&(c=t[0],d=t[1]),function(f,p,y){var _=(y||r).length,T=s[_],E,C,I,k,D,N,M,L,O;if(!T){if(O=r.grid==="auto"?0:(r.grid||[1,ar])[1],!O){for(M=-ar;M<(M=y[O++].getBoundingClientRect().left)&&O<_;);O<_&&O--}for(T=s[_]=[],E=u?Math.min(O,_)*c-.5:t%O,C=O===ar?0:u?_*d/O-.5:t/O|0,M=0,L=ar,N=0;N<_;N++)I=N%O-E,k=C-(N/O|0),T[N]=D=l?Math.abs(l==="y"?k:I):w0(I*I+k*k),D>M&&(M=D),D<L&&(L=D);t==="random"&&W0(T),T.max=M-L,T.min=L,T.v=_=(parseFloat(r.amount)||parseFloat(r.each)*(O>_?_-1:l?l==="y"?_/O:O:Math.max(O,_/O))||0)*(t==="edges"?-1:1),T.b=_<0?a-_:a,T.u=gt(r.amount||r.each)||0,i=i&&_<0?t_(i):i}return _=(T[f]-T.min)/T.max||0,nt(T.b+(i?i(_):_)*T.v)+T.u}},vd=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var t=nt(Math.round(parseFloat(i)/e)*e*r);return(t-t%1)/r+(ri(i)?0:gt(i))}},G0=function(e,r){var i=_t(e),t,a;return!i&&Mr(e)&&(t=i=e.radius||ar,e.values?(e=sr(e.values),(a=!ri(e[0]))&&(t*=t)):e=vd(e.increment)),Ii(r,i?ze(e)?function(s){return a=e(s),Math.abs(a-s)<=t?a:s}:function(s){for(var o=parseFloat(a?s.x:s),u=parseFloat(a?s.y:0),l=ar,c=0,d=e.length,f,p;d--;)a?(f=e[d].x-o,p=e[d].y-u,f=f*f+p*p):f=Math.abs(e[d]-o),f<l&&(l=f,c=d);return c=!t||l<=t?e[c]:s,a||c===s||ri(s)?c:c+gt(s)}:vd(e))},$0=function(e,r,i,t){return Ii(_t(e)?!r:i===!0?!!(i=0):!t,function(){return _t(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(t=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(r-e+i*.99))/i)*i*t)/t})},Zw=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return function(t){return r.reduce(function(a,s){return s(a)},t)}},eA=function(e,r){return function(i){return e(parseFloat(i))+(r||gt(i))}},tA=function(e,r,i){return X0(e,r,0,1,i)},K0=function(e,r,i){return Ii(i,function(t){return e[~~r(t)]})},rA=function n(e,r,i){var t=r-e;return _t(e)?K0(e,n(0,e.length),r):Ii(i,function(a){return(t+(a-e)%t)%t+e})},iA=function n(e,r,i){var t=r-e,a=t*2;return _t(e)?K0(e,n(0,e.length-1),r):Ii(i,function(s){return s=(a+(s-e)%a)%a||0,e+(s>t?a-s:s)})},is=function(e){for(var r=0,i="",t,a,s,o;~(t=e.indexOf("random(",r));)s=e.indexOf(")",t),o=e.charAt(t+7)==="[",a=e.substr(t+7,s-t-7).match(o?P0:cd),i+=e.substr(r,t-r)+$0(o?a:+a[0],o?0:+a[1],+a[2]||1e-5),r=s+1;return i+e.substr(r,e.length-r)},X0=function(e,r,i,t,a){var s=r-e,o=t-i;return Ii(a,function(u){return i+((u-e)/s*o||0)})},nA=function n(e,r,i,t){var a=isNaN(e+r)?0:function(p){return(1-p)*e+p*r};if(!a){var s=st(e),o={},u,l,c,d,f;if(i===!0&&(t=1)&&(i=null),s)e={p:e},r={p:r};else if(_t(e)&&!_t(r)){for(c=[],d=e.length,f=d-2,l=1;l<d;l++)c.push(n(e[l-1],e[l]));d--,a=function(y){y*=d;var _=Math.min(f,~~y);return c[_](y-_)},i=r}else t||(e=sn(_t(e)?[]:{},e));if(!c){for(u in r)Af.call(o,e,u,"get",r[u]);a=function(y){return If(y,o)||(s?e.p:e)}}}return Ii(i,a)},Rm=function(e,r,i){var t=e.labels,a=ar,s,o,u;for(s in t)o=t[s]-r,o<0==!!i&&o&&a>(o=Math.abs(o))&&(u=s,a=o);return u},Zt=function(e,r,i){var t=e.vars,a=t[r],s=Me,o=e._ctx,u,l,c;if(a)return u=t[r+"Params"],l=t.callbackScope||e,i&&Si.length&&No(),o&&(Me=o),c=u?a.apply(l,u):a.call(l),Me=s,c},Oa=function(e){return Ci(e),e.scrollTrigger&&e.scrollTrigger.kill(!!vt),e.progress()<1&&Zt(e,"onInterrupt"),e},Pn,Y0=[],Q0=function(e){if(e)if(e=!e.name&&e.default||e,bf()||e.headless){var r=e.name,i=ze(e),t=r&&!i&&e.init?function(){this._props=[]}:e,a={init:rs,render:If,add:Af,kill:TA,modifier:yA,rawVars:0},s={targetTest:0,get:0,getSetter:Pf,aliases:{},register:0};if($n(),e!==t){if(Yt[r])return;ur(t,ur(Bo(e,a),s)),sn(t.prototype,sn(a,Bo(e,s))),Yt[t.prop=r]=t,e.targetTest&&(To.push(t),Ef[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}L0(r,t),e.register&&e.register(jt,t,Bt)}else Y0.push(e)},Ce=255,La={aqua:[0,Ce,Ce],lime:[0,Ce,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ce],navy:[0,0,128],white:[Ce,Ce,Ce],olive:[128,128,0],yellow:[Ce,Ce,0],orange:[Ce,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ce,0,0],pink:[Ce,192,203],cyan:[0,Ce,Ce],transparent:[Ce,Ce,Ce,0]},uc=function(e,r,i){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(i-r)*e*6:e<.5?i:e*3<2?r+(i-r)*(2/3-e)*6:r)*Ce+.5|0},J0=function(e,r,i){var t=e?ri(e)?[e>>16,e>>8&Ce,e&Ce]:0:La.black,a,s,o,u,l,c,d,f,p,y;if(!t){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),La[e])t=La[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),s=e.charAt(2),o=e.charAt(3),e="#"+a+a+s+s+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return t=parseInt(e.substr(1,6),16),[t>>16,t>>8&Ce,t&Ce,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),t=[e>>16,e>>8&Ce,e&Ce]}else if(e.substr(0,3)==="hsl"){if(t=y=e.match(cd),!r)u=+t[0]%360/360,l=+t[1]/100,c=+t[2]/100,s=c<=.5?c*(l+1):c+l-c*l,a=c*2-s,t.length>3&&(t[3]*=1),t[0]=uc(u+1/3,a,s),t[1]=uc(u,a,s),t[2]=uc(u-1/3,a,s);else if(~e.indexOf("="))return t=e.match(D0),i&&t.length<4&&(t[3]=1),t}else t=e.match(cd)||La.transparent;t=t.map(Number)}return r&&!y&&(a=t[0]/Ce,s=t[1]/Ce,o=t[2]/Ce,d=Math.max(a,s,o),f=Math.min(a,s,o),c=(d+f)/2,d===f?u=l=0:(p=d-f,l=c>.5?p/(2-d-f):p/(d+f),u=d===a?(s-o)/p+(s<o?6:0):d===s?(o-a)/p+2:(a-s)/p+4,u*=60),t[0]=~~(u+.5),t[1]=~~(l*100+.5),t[2]=~~(c*100+.5)),i&&t.length<4&&(t[3]=1),t},Z0=function(e){var r=[],i=[],t=-1;return e.split(xi).forEach(function(a){var s=a.match(kn)||[];r.push.apply(r,s),i.push(t+=s.length+1)}),r.c=i,r},Mm=function(e,r,i){var t="",a=(e+t).match(xi),s=r?"hsla(":"rgba(",o=0,u,l,c,d;if(!a)return e;if(a=a.map(function(f){return(f=J0(f,r,1))&&s+(r?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(c=Z0(e),u=i.c,u.join(t)!==c.c.join(t)))for(l=e.replace(xi,"1").split(kn),d=l.length-1;o<d;o++)t+=l[o]+(~u.indexOf(o)?a.shift()||s+"0,0,0,0)":(c.length?c:a.length?a:i).shift());if(!l)for(l=e.split(xi),d=l.length-1;o<d;o++)t+=l[o]+a[o];return t+l[d]},xi=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in La)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),aA=/hsl[a]?\(/,e_=function(e){var r=e.join(" "),i;if(xi.lastIndex=0,xi.test(r))return i=aA.test(r),e[1]=Mm(e[1],i),e[0]=Mm(e[0],i,Z0(e[1])),!0},ns,Qt=function(){var n=Date.now,e=500,r=33,i=n(),t=i,a=1e3/240,s=a,o=[],u,l,c,d,f,p,y=function _(T){var E=n()-t,C=T===!0,I,k,D,N;if((E>e||E<0)&&(i+=E-r),t+=E,D=t-i,I=D-s,(I>0||C)&&(N=++d.frame,f=D-d.time*1e3,d.time=D=D/1e3,s+=I+(I>=a?4:a-I),k=1),C||(u=l(_)),k)for(p=0;p<o.length;p++)o[p](D,f,N,T)};return d={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(T){return f/(1e3/(T||60))},wake:function(){I0&&(!dd&&bf()&&(xr=dd=window,Sf=xr.document||{},tr.gsap=jt,(xr.gsapVersions||(xr.gsapVersions=[])).push(jt.version),O0(Fo||xr.GreenSockGlobals||!xr.gsap&&xr||{}),Y0.forEach(Q0)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&d.sleep(),l=c||function(T){return setTimeout(T,s-d.time*1e3+1|0)},ns=1,y(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(u),ns=0,l=rs},lagSmoothing:function(T,E){e=T||1/0,r=Math.min(E||33,e)},fps:function(T){a=1e3/(T||240),s=d.time*1e3+a},add:function(T,E,C){var I=E?function(k,D,N,M){T(k,D,N,M),d.remove(I)}:T;return d.remove(T),o[C?"unshift":"push"](I),$n(),I},remove:function(T,E){~(E=o.indexOf(T))&&o.splice(E,1)&&p>=E&&p--},_listeners:o},d}(),$n=function(){return!ns&&Qt.wake()},ve={},sA=/^[\d.\-M][\d.\-,\s]/,oA=/["']/g,uA=function(e){for(var r={},i=e.substr(1,e.length-3).split(":"),t=i[0],a=1,s=i.length,o,u,l;a<s;a++)u=i[a],o=a!==s-1?u.lastIndexOf(","):u.length,l=u.substr(0,o),r[t]=isNaN(l)?l.replace(oA,"").trim():+l,t=u.substr(o+1).trim();return r},lA=function(e){var r=e.indexOf("(")+1,i=e.indexOf(")"),t=e.indexOf("(",r);return e.substring(r,~t&&t<i?e.indexOf(")",i+1):i)},cA=function(e){var r=(e+"").split("("),i=ve[r[0]];return i&&r.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[uA(r[1])]:lA(e).split(",").map(N0)):ve._CE&&sA.test(e)?ve._CE("",e):i},t_=function(e){return function(r){return 1-e(1-r)}},r_=function n(e,r){for(var i=e._first,t;i;)i instanceof Ct?n(i,r):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==r&&(i.timeline?n(i.timeline,r):(t=i._ease,i._ease=i._yEase,i._yEase=t,i._yoyo=r)),i=i._next},Zi=function(e,r){return e&&(ze(e)?e:ve[e]||cA(e))||r},dn=function(e,r,i,t){i===void 0&&(i=function(u){return 1-r(1-u)}),t===void 0&&(t=function(u){return u<.5?r(u*2)/2:1-r((1-u)*2)/2});var a={easeIn:r,easeOut:i,easeInOut:t},s;return Nt(e,function(o){ve[o]=tr[o]=a,ve[s=o.toLowerCase()]=i;for(var u in a)ve[s+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=ve[o+"."+u]=a[u]}),a},i_=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},lc=function n(e,r,i){var t=r>=1?r:1,a=(i||(e?.3:.45))/(r<1?r:1),s=a/ld*(Math.asin(1/t)||0),o=function(c){return c===1?1:t*Math.pow(2,-10*c)*Bw((c-s)*a)+1},u=e==="out"?o:e==="in"?function(l){return 1-o(1-l)}:i_(o);return a=ld/a,u.config=function(l,c){return n(e,l,c)},u},cc=function n(e,r){r===void 0&&(r=1.70158);var i=function(s){return s?--s*s*((r+1)*s+r)+1:0},t=e==="out"?i:e==="in"?function(a){return 1-i(1-a)}:i_(i);return t.config=function(a){return n(e,a)},t};Nt("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var r=e<5?e+1:e;dn(n+",Power"+(r-1),e?function(i){return Math.pow(i,r)}:function(i){return i},function(i){return 1-Math.pow(1-i,r)},function(i){return i<.5?Math.pow(i*2,r)/2:1-Math.pow((1-i)*2,r)/2})});ve.Linear.easeNone=ve.none=ve.Linear.easeIn;dn("Elastic",lc("in"),lc("out"),lc());(function(n,e){var r=1/e,i=2*r,t=2.5*r,a=function(o){return o<r?n*o*o:o<i?n*Math.pow(o-1.5/e,2)+.75:o<t?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};dn("Bounce",function(s){return 1-a(1-s)},a)})(7.5625,2.75);dn("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});dn("Circ",function(n){return-(w0(1-n*n)-1)});dn("Sine",function(n){return n===1?1:-Nw(n*Mw)+1});dn("Back",cc("in"),cc("out"),cc());ve.SteppedEase=ve.steps=tr.SteppedEase={config:function(e,r){e===void 0&&(e=1);var i=1/e,t=e+(r?0:1),a=r?1:0,s=1-De;return function(o){return((t*bs(0,s,o)|0)+a)*i}}};Wn.ease=ve["quad.out"];Nt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Cf+=n+","+n+"Params,"});var n_=function(e,r){this.id=Fw++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:M0,this.set=r?r.getSetter:Pf},as=function(){function n(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,Gn(this,+r.duration,1,1),this.data=r.data,Me&&(this._ctx=Me,Me.data.push(this)),ns||Qt.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Gn(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,t){if($n(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(Eu(this,i),!a._dp||a.parent||j0(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&wr(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===De||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),F0(this,i,t)),this},e.time=function(i,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Om(this))%(this._dur+this._rDelay)||(i?this._dur:0),t):this._time},e.totalProgress=function(i,t){return arguments.length?this.totalTime(this.totalDuration()*i,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(i,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Om(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,t){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*a,t):this._repeat?zn(this._tTime,a)+1:1},e.timeScale=function(i,t){if(!arguments.length)return this._rts===-De?0:this._rts;if(this._rts===i)return this;var a=this.parent&&this._ts?Uo(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-De?0:this._rts,this.totalTime(bs(-Math.abs(this._delay),this._tDur,a),t!==!1),xu(this),zw(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($n(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==De&&(this._tTime-=De)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&wr(t,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Ft(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var t=this.parent||this._dp;return t?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Uo(t.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=Vw);var t=vt;return vt=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),vt=t,this},e.globalTime=function(i){for(var t=this,a=arguments.length?i:t.rawTime();t;)a=t._start+a/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(i):a},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Lm(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var t=this._time;return this._rDelay=i,Lm(this),t?this.time(t):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,t){return this.totalTime(nr(this,i),Ft(t))},e.restart=function(i,t){return this.play().totalTime(i?-this._delay:0,Ft(t))},e.play=function(i,t){return i!=null&&this.seek(i,t),this.reversed(!1).paused(!1)},e.reverse=function(i,t){return i!=null&&this.seek(i||this.totalDuration(),t),this.reversed(!0).paused(!1)},e.pause=function(i,t){return i!=null&&this.seek(i,t),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-De:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-De,this},e.isActive=function(){var i=this.parent||this._dp,t=this._start,a;return!!(!i||this._ts&&this._initted&&i.isActive()&&(a=i.rawTime(!0))>=t&&a<this.endTime(!0)-De)},e.eventCallback=function(i,t,a){var s=this.vars;return arguments.length>1?(t?(s[i]=t,a&&(s[i+"Params"]=a),i==="onUpdate"&&(this._onUpdate=t)):delete s[i],this):s[i]},e.then=function(i){var t=this;return new Promise(function(a){var s=ze(i)?i:B0,o=function(){var l=t.then;t.then=null,ze(s)&&(s=s(t))&&(s.then||s===t)&&(t.then=l),a(s),t.then=l};t._initted&&t.totalProgress()===1&&t._ts>=0||!t._tTime&&t._ts<0?o():t._prom=o})},e.kill=function(){Oa(this)},n}();ur(as.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-De,_prom:0,_ps:!1,_rts:1});var Ct=function(n){C0(e,n);function e(i,t){var a;return i===void 0&&(i={}),a=n.call(this,i)||this,a.labels={},a.smoothChildTiming=!!i.smoothChildTiming,a.autoRemoveChildren=!!i.autoRemoveChildren,a._sort=Ft(i.sortChildren),Ve&&wr(i.parent||Ve,Wr(a),t),i.reversed&&a.reverse(),i.paused&&a.paused(!0),i.scrollTrigger&&V0(Wr(a),i.scrollTrigger),a}var r=e.prototype;return r.to=function(t,a,s){return za(0,arguments,this),this},r.from=function(t,a,s){return za(1,arguments,this),this},r.fromTo=function(t,a,s,o){return za(2,arguments,this),this},r.set=function(t,a,s){return a.duration=0,a.parent=this,Wa(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Ze(t,a,nr(this,s),1),this},r.call=function(t,a,s){return wr(this,Ze.delayedCall(0,t,a),s)},r.staggerTo=function(t,a,s,o,u,l,c){return s.duration=a,s.stagger=s.stagger||o,s.onComplete=l,s.onCompleteParams=c,s.parent=this,new Ze(t,s,nr(this,u)),this},r.staggerFrom=function(t,a,s,o,u,l,c){return s.runBackwards=1,Wa(s).immediateRender=Ft(s.immediateRender),this.staggerTo(t,a,s,o,u,l,c)},r.staggerFromTo=function(t,a,s,o,u,l,c,d){return o.startAt=s,Wa(o).immediateRender=Ft(o.immediateRender),this.staggerTo(t,a,o,u,l,c,d)},r.render=function(t,a,s){var o=this._time,u=this._dirty?this.totalDuration():this._tDur,l=this._dur,c=t<=0?0:nt(t),d=this._zTime<0!=t<0&&(this._initted||!l),f,p,y,_,T,E,C,I,k,D,N,M;if(this!==Ve&&c>u&&t>=0&&(c=u),c!==this._tTime||s||d){if(o!==this._time&&l&&(c+=this._time-o,t+=this._time-o),f=c,k=this._start,I=this._ts,E=!I,d&&(l||(o=this._zTime),(t||!a)&&(this._zTime=t)),this._repeat){if(N=this._yoyo,T=l+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(T*100+t,a,s);if(f=nt(c%T),c===u?(_=this._repeat,f=l):(_=~~(c/T),_&&_===c/T&&(f=l,_--),f>l&&(f=l)),D=zn(this._tTime,T),!o&&this._tTime&&D!==_&&this._tTime-D*T-this._dur<=0&&(D=_),N&&_&1&&(f=l-f,M=1),_!==D&&!this._lock){var L=N&&D&1,O=L===(N&&_&1);if(_<D&&(L=!L),o=L?0:c%l?l:c,this._lock=1,this.render(o||(M?0:nt(_*T)),a,!l)._lock=0,this._tTime=c,!a&&this.parent&&Zt(this,"onRepeat"),this.vars.repeatRefresh&&!M&&(this.invalidate()._lock=1),o&&o!==this._time||E!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,u=this._tDur,O&&(this._lock=2,o=L?l:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!M&&this.invalidate()),this._lock=0,!this._ts&&!E)return this;r_(this,M)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(C=Xw(this,nt(o),nt(f)),C&&(c-=f-(f=C._start))),this._tTime=c,this._time=f,this._act=!I,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,o=0),!o&&f&&!a&&!_&&(Zt(this,"onStart"),this._tTime!==c))return this;if(f>=o&&t>=0)for(p=this._first;p;){if(y=p._next,(p._act||f>=p._start)&&p._ts&&C!==p){if(p.parent!==this)return this.render(t,a,s);if(p.render(p._ts>0?(f-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(f-p._start)*p._ts,a,s),f!==this._time||!this._ts&&!E){C=0,y&&(c+=this._zTime=-De);break}}p=y}else{p=this._last;for(var j=t<0?t:f;p;){if(y=p._prev,(p._act||j<=p._end)&&p._ts&&C!==p){if(p.parent!==this)return this.render(t,a,s);if(p.render(p._ts>0?(j-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(j-p._start)*p._ts,a,s||vt&&(p._initted||p._startAt)),f!==this._time||!this._ts&&!E){C=0,y&&(c+=this._zTime=j?-De:De);break}}p=y}}if(C&&!a&&(this.pause(),C.render(f>=o?0:-De)._zTime=f>=o?1:-1,this._ts))return this._start=k,xu(this),this.render(t,a,s);this._onUpdate&&!a&&Zt(this,"onUpdate",!0),(c===u&&this._tTime>=this.totalDuration()||!c&&o)&&(k===this._start||Math.abs(I)!==Math.abs(this._ts))&&(this._lock||((t||!l)&&(c===u&&this._ts>0||!c&&this._ts<0)&&Ci(this,1),!a&&!(t<0&&!o)&&(c||o||!u)&&(Zt(this,c===u&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<u&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(t,a){var s=this;if(ri(a)||(a=nr(this,a,t)),!(t instanceof as)){if(_t(t))return t.forEach(function(o){return s.add(o,a)}),this;if(st(t))return this.addLabel(t,a);if(ze(t))t=Ze.delayedCall(0,t);else return this}return this!==t?wr(this,t,a):this},r.getChildren=function(t,a,s,o){t===void 0&&(t=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),o===void 0&&(o=-ar);for(var u=[],l=this._first;l;)l._start>=o&&(l instanceof Ze?a&&u.push(l):(s&&u.push(l),t&&u.push.apply(u,l.getChildren(!0,a,s)))),l=l._next;return u},r.getById=function(t){for(var a=this.getChildren(1,1,1),s=a.length;s--;)if(a[s].vars.id===t)return a[s]},r.remove=function(t){return st(t)?this.removeLabel(t):ze(t)?this.killTweensOf(t):(Su(this,t),t===this._recent&&(this._recent=this._last),Ji(this))},r.totalTime=function(t,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=nt(Qt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),n.prototype.totalTime.call(this,t,a),this._forcing=0,this):this._tTime},r.addLabel=function(t,a){return this.labels[t]=nr(this,a),this},r.removeLabel=function(t){return delete this.labels[t],this},r.addPause=function(t,a,s){var o=Ze.delayedCall(0,a||rs,s);return o.data="isPause",this._hasPause=1,wr(this,o,nr(this,t))},r.removePause=function(t){var a=this._first;for(t=nr(this,t);a;)a._start===t&&a.data==="isPause"&&Ci(a),a=a._next},r.killTweensOf=function(t,a,s){for(var o=this.getTweensOf(t,s),u=o.length;u--;)_i!==o[u]&&o[u].kill(t,a);return this},r.getTweensOf=function(t,a){for(var s=[],o=sr(t),u=this._first,l=ri(a),c;u;)u instanceof Ze?Hw(u._targets,o)&&(l?(!_i||u._initted&&u._ts)&&u.globalTime(0)<=a&&u.globalTime(u.totalDuration())>a:!a||u.isActive())&&s.push(u):(c=u.getTweensOf(o,a)).length&&s.push.apply(s,c),u=u._next;return s},r.tweenTo=function(t,a){a=a||{};var s=this,o=nr(s,t),u=a,l=u.startAt,c=u.onStart,d=u.onStartParams,f=u.immediateRender,p,y=Ze.to(s,ur({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:a.duration||Math.abs((o-(l&&"time"in l?l.time:s._time))/s.timeScale())||De,onStart:function(){if(s.pause(),!p){var T=a.duration||Math.abs((o-(l&&"time"in l?l.time:s._time))/s.timeScale());y._dur!==T&&Gn(y,T,0,1).render(y._time,!0,!0),p=1}c&&c.apply(y,d||[])}},a));return f?y.render(0):y},r.tweenFromTo=function(t,a,s){return this.tweenTo(a,ur({startAt:{time:nr(this,t)}},s))},r.recent=function(){return this._recent},r.nextLabel=function(t){return t===void 0&&(t=this._time),Rm(this,nr(this,t))},r.previousLabel=function(t){return t===void 0&&(t=this._time),Rm(this,nr(this,t),1)},r.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+De)},r.shiftChildren=function(t,a,s){s===void 0&&(s=0);for(var o=this._first,u=this.labels,l;o;)o._start>=s&&(o._start+=t,o._end+=t),o=o._next;if(a)for(l in u)u[l]>=s&&(u[l]+=t);return Ji(this)},r.invalidate=function(t){var a=this._first;for(this._lock=0;a;)a.invalidate(t),a=a._next;return n.prototype.invalidate.call(this,t)},r.clear=function(t){t===void 0&&(t=!0);for(var a=this._first,s;a;)s=a._next,this.remove(a),a=s;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Ji(this)},r.totalDuration=function(t){var a=0,s=this,o=s._last,u=ar,l,c,d;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(d=s.parent;o;)l=o._prev,o._dirty&&o.totalDuration(),c=o._start,c>u&&s._sort&&o._ts&&!s._lock?(s._lock=1,wr(s,o,c-o._delay,1)._lock=0):u=c,c<0&&o._ts&&(a-=c,(!d&&!s._dp||d&&d.smoothChildTiming)&&(s._start+=c/s._ts,s._time-=c,s._tTime-=c),s.shiftChildren(-c,!1,-1/0),u=0),o._end>a&&o._ts&&(a=o._end),o=l;Gn(s,s===Ve&&s._time>a?s._time:a,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(t){if(Ve._ts&&(F0(Ve,Uo(t,Ve)),R0=Qt.frame),Qt.frame>=Pm){Pm+=er.autoSleep||120;var a=Ve._first;if((!a||!a._ts)&&er.autoSleep&&Qt._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Qt.sleep()}}},e}(as);ur(Ct.prototype,{_lock:0,_hasPause:0,_forcing:0});var dA=function(e,r,i,t,a,s,o){var u=new Bt(this._pt,e,r,0,1,c_,null,a),l=0,c=0,d,f,p,y,_,T,E,C;for(u.b=i,u.e=t,i+="",t+="",(E=~t.indexOf("random("))&&(t=is(t)),s&&(C=[i,t],s(C,e,r),i=C[0],t=C[1]),f=i.match(sc)||[];d=sc.exec(t);)y=d[0],_=t.substring(l,d.index),p?p=(p+1)%5:_.substr(-5)==="rgba("&&(p=1),y!==f[c++]&&(T=parseFloat(f[c-1])||0,u._pt={_next:u._pt,p:_||c===1?_:",",s:T,c:y.charAt(1)==="="?Mn(T,y)-T:parseFloat(y)-T,m:p&&p<4?Math.round:0},l=sc.lastIndex);return u.c=l<t.length?t.substring(l,t.length):"",u.fp=o,(k0.test(t)||E)&&(u.e=0),this._pt=u,u},Af=function(e,r,i,t,a,s,o,u,l,c){ze(t)&&(t=t(a||0,e,s));var d=e[r],f=i!=="get"?i:ze(d)?l?e[r.indexOf("set")||!ze(e["get"+r.substr(3)])?r:"get"+r.substr(3)](l):e[r]():d,p=ze(d)?l?gA:u_:kf,y;if(st(t)&&(~t.indexOf("random(")&&(t=is(t)),t.charAt(1)==="="&&(y=Mn(f,t)+(gt(f)||0),(y||y===0)&&(t=y))),!c||f!==t||_d)return!isNaN(f*t)&&t!==""?(y=new Bt(this._pt,e,r,+f||0,t-(f||0),typeof d=="boolean"?_A:l_,0,p),l&&(y.fp=l),o&&y.modifier(o,this,e),this._pt=y):(!d&&!(r in e)&&xf(r,t),dA.call(this,e,r,f,t,p,u||er.stringFilter,l))},fA=function(e,r,i,t,a){if(ze(e)&&(e=Ga(e,a,r,i,t)),!Mr(e)||e.style&&e.nodeType||_t(e)||A0(e))return st(e)?Ga(e,a,r,i,t):e;var s={},o;for(o in e)s[o]=Ga(e[o],a,r,i,t);return s},a_=function(e,r,i,t,a,s){var o,u,l,c;if(Yt[e]&&(o=new Yt[e]).init(a,o.rawVars?r[e]:fA(r[e],t,a,s,i),i,t,s)!==!1&&(i._pt=u=new Bt(i._pt,a,e,0,1,o.render,o,0,o.priority),i!==Pn))for(l=i._ptLookup[i._targets.indexOf(a)],c=o._props.length;c--;)l[o._props[c]]=u;return o},_i,_d,Df=function n(e,r,i){var t=e.vars,a=t.ease,s=t.startAt,o=t.immediateRender,u=t.lazy,l=t.onUpdate,c=t.runBackwards,d=t.yoyoEase,f=t.keyframes,p=t.autoRevert,y=e._dur,_=e._startAt,T=e._targets,E=e.parent,C=E&&E.data==="nested"?E.vars.targets:T,I=e._overwrite==="auto"&&!yf,k=e.timeline,D,N,M,L,O,j,q,H,G,re,ie,X,ne;if(k&&(!f||!a)&&(a="none"),e._ease=Zi(a,Wn.ease),e._yEase=d?t_(Zi(d===!0?a:d,Wn.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!k&&!!t.runBackwards,!k||f&&!t.stagger){if(H=T[0]?Qi(T[0]).harness:0,X=H&&t[H.prop],D=Bo(t,Ef),_&&(_._zTime<0&&_.progress(1),r<0&&c&&o&&!p?_.render(-1,!0):_.revert(c&&y?yo:jw),_._lazy=0),s){if(Ci(e._startAt=Ze.set(T,ur({data:"isStart",overwrite:!1,parent:E,immediateRender:!0,lazy:!_&&Ft(u),startAt:null,delay:0,onUpdate:l&&function(){return Zt(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(vt||!o&&!p)&&e._startAt.revert(yo),o&&y&&r<=0&&i<=0){r&&(e._zTime=r);return}}else if(c&&y&&!_){if(r&&(o=!1),M=ur({overwrite:!1,data:"isFromStart",lazy:o&&!_&&Ft(u),immediateRender:o,stagger:0,parent:E},D),X&&(M[H.prop]=X),Ci(e._startAt=Ze.set(T,M)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(vt?e._startAt.revert(yo):e._startAt.render(-1,!0)),e._zTime=r,!o)n(e._startAt,De,De);else if(!r)return}for(e._pt=e._ptCache=0,u=y&&Ft(u)||u&&!y,N=0;N<T.length;N++){if(O=T[N],q=O._gsap||wf(T)[N]._gsap,e._ptLookup[N]=re={},fd[q.id]&&Si.length&&No(),ie=C===T?N:C.indexOf(O),H&&(G=new H).init(O,X||D,e,ie,C)!==!1&&(e._pt=L=new Bt(e._pt,O,G.name,0,1,G.render,G,0,G.priority),G._props.forEach(function(de){re[de]=L}),G.priority&&(j=1)),!H||X)for(M in D)Yt[M]&&(G=a_(M,D,e,ie,O,C))?G.priority&&(j=1):re[M]=L=Af.call(e,O,M,"get",D[M],ie,C,0,t.stringFilter);e._op&&e._op[N]&&e.kill(O,e._op[N]),I&&e._pt&&(_i=e,Ve.killTweensOf(O,re,e.globalTime(r)),ne=!e.parent,_i=0),e._pt&&u&&(fd[q.id]=1)}j&&d_(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!ne,f&&r<=0&&k.render(ar,!0,!0)},hA=function(e,r,i,t,a,s,o,u){var l=(e._pt&&e._ptCache||(e._ptCache={}))[r],c,d,f,p;if(!l)for(l=e._ptCache[r]=[],f=e._ptLookup,p=e._targets.length;p--;){if(c=f[p][r],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==r&&c.fp!==r;)c=c._next;if(!c)return _d=1,e.vars[r]="+=0",Df(e,o),_d=0,u?ts(r+" not eligible for reset"):1;l.push(c)}for(p=l.length;p--;)d=l[p],c=d._pt||d,c.s=(t||t===0)&&!a?t:c.s+(t||0)+s*c.c,c.c=i-c.s,d.e&&(d.e=Ke(i)+gt(d.e)),d.b&&(d.b=c.s+gt(d.b))},pA=function(e,r){var i=e[0]?Qi(e[0]).harness:0,t=i&&i.aliases,a,s,o,u;if(!t)return r;a=sn({},r);for(s in t)if(s in a)for(u=t[s].split(","),o=u.length;o--;)a[u[o]]=a[s];return a},mA=function(e,r,i,t){var a=r.ease||t||"power1.inOut",s,o;if(_t(r))o=i[e]||(i[e]=[]),r.forEach(function(u,l){return o.push({t:l/(r.length-1)*100,v:u,e:a})});else for(s in r)o=i[s]||(i[s]=[]),s==="ease"||o.push({t:parseFloat(e),v:r[s],e:a})},Ga=function(e,r,i,t,a){return ze(e)?e.call(r,i,t,a):st(e)&&~e.indexOf("random(")?is(e):e},s_=Cf+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",o_={};Nt(s_+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return o_[n]=1});var Ze=function(n){C0(e,n);function e(i,t,a,s){var o;typeof t=="number"&&(a.duration=t,t=a,a=null),o=n.call(this,s?t:Wa(t))||this;var u=o.vars,l=u.duration,c=u.delay,d=u.immediateRender,f=u.stagger,p=u.overwrite,y=u.keyframes,_=u.defaults,T=u.scrollTrigger,E=u.yoyoEase,C=t.parent||Ve,I=(_t(i)||A0(i)?ri(i[0]):"length"in t)?[i]:sr(i),k,D,N,M,L,O,j,q;if(o._targets=I.length?wf(I):ts("GSAP target "+i+" not found. https://gsap.com",!er.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=p,y||f||io(l)||io(c)){if(t=o.vars,k=o.timeline=new Ct({data:"nested",defaults:_||{},targets:C&&C.data==="nested"?C.vars.targets:I}),k.kill(),k.parent=k._dp=Wr(o),k._start=0,f||io(l)||io(c)){if(M=I.length,j=f&&z0(f),Mr(f))for(L in f)~s_.indexOf(L)&&(q||(q={}),q[L]=f[L]);for(D=0;D<M;D++)N=Bo(t,o_),N.stagger=0,E&&(N.yoyoEase=E),q&&sn(N,q),O=I[D],N.duration=+Ga(l,Wr(o),D,O,I),N.delay=(+Ga(c,Wr(o),D,O,I)||0)-o._delay,!f&&M===1&&N.delay&&(o._delay=c=N.delay,o._start+=c,N.delay=0),k.to(O,N,j?j(D,O,I):0),k._ease=ve.none;k.duration()?l=c=0:o.timeline=0}else if(y){Wa(ur(k.vars.defaults,{ease:"none"})),k._ease=Zi(y.ease||t.ease||"none");var H=0,G,re,ie;if(_t(y))y.forEach(function(X){return k.to(I,X,">")}),k.duration();else{N={};for(L in y)L==="ease"||L==="easeEach"||mA(L,y[L],N,y.easeEach);for(L in N)for(G=N[L].sort(function(X,ne){return X.t-ne.t}),H=0,D=0;D<G.length;D++)re=G[D],ie={ease:re.e,duration:(re.t-(D?G[D-1].t:0))/100*l},ie[L]=re.v,k.to(I,ie,H),H+=ie.duration;k.duration()<l&&k.to({},{duration:l-k.duration()})}}l||o.duration(l=k.duration())}else o.timeline=0;return p===!0&&!yf&&(_i=Wr(o),Ve.killTweensOf(I),_i=0),wr(C,Wr(o),a),t.reversed&&o.reverse(),t.paused&&o.paused(!0),(d||!l&&!y&&o._start===nt(C._time)&&Ft(d)&&Gw(Wr(o))&&C.data!=="nested")&&(o._tTime=-De,o.render(Math.max(0,-c)||0)),T&&V0(Wr(o),T),o}var r=e.prototype;return r.render=function(t,a,s){var o=this._time,u=this._tDur,l=this._dur,c=t<0,d=t>u-De&&!c?u:t<De?0:t,f,p,y,_,T,E,C,I,k;if(!l)Kw(this,t,a,s);else if(d!==this._tTime||!t||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(f=d,I=this.timeline,this._repeat){if(_=l+this._rDelay,this._repeat<-1&&c)return this.totalTime(_*100+t,a,s);if(f=nt(d%_),d===u?(y=this._repeat,f=l):(y=~~(d/_),y&&y===nt(d/_)&&(f=l,y--),f>l&&(f=l)),E=this._yoyo&&y&1,E&&(k=this._yEase,f=l-f),T=zn(this._tTime,_),f===o&&!s&&this._initted&&y===T)return this._tTime=d,this;y!==T&&(I&&this._yEase&&r_(I,E),this.vars.repeatRefresh&&!E&&!this._lock&&this._time!==_&&this._initted&&(this._lock=s=1,this.render(nt(_*y),!0).invalidate()._lock=0))}if(!this._initted){if(H0(this,c?t:f,s,a,d))return this._tTime=0,this;if(o!==this._time&&!(s&&this.vars.repeatRefresh&&y!==T))return this;if(l!==this._dur)return this.render(t,a,s)}if(this._tTime=d,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=C=(k||this._ease)(f/l),this._from&&(this.ratio=C=1-C),f&&!o&&!a&&!y&&(Zt(this,"onStart"),this._tTime!==d))return this;for(p=this._pt;p;)p.r(C,p.d),p=p._next;I&&I.render(t<0?t:I._dur*I._ease(f/this._dur),a,s)||this._startAt&&(this._zTime=t),this._onUpdate&&!a&&(c&&hd(this,t,a,s),Zt(this,"onUpdate")),this._repeat&&y!==T&&this.vars.onRepeat&&!a&&this.parent&&Zt(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(c&&!this._onUpdate&&hd(this,t,!0,!0),(t||!l)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&Ci(this,1),!a&&!(c&&!o)&&(d||o||E)&&(Zt(this,d===u?"onComplete":"onReverseComplete",!0),this._prom&&!(d<u&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),n.prototype.invalidate.call(this,t)},r.resetTo=function(t,a,s,o,u){ns||Qt.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||Df(this,l),c=this._ease(l/this._dur),hA(this,t,a,s,o,c,l,u)?this.resetTo(t,a,s,o,1):(Eu(this,0),this.parent||U0(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(t,a){if(a===void 0&&(a="all"),!t&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?Oa(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(t,a,_i&&_i.vars.overwrite!==!0)._first||Oa(this),this.parent&&s!==this.timeline.totalDuration()&&Gn(this,this._dur*this.timeline._tDur/s,0,1),this}var o=this._targets,u=t?sr(t):o,l=this._ptLookup,c=this._pt,d,f,p,y,_,T,E;if((!a||a==="all")&&Ww(o,u))return a==="all"&&(this._pt=0),Oa(this);for(d=this._op=this._op||[],a!=="all"&&(st(a)&&(_={},Nt(a,function(C){return _[C]=1}),a=_),a=pA(o,a)),E=o.length;E--;)if(~u.indexOf(o[E])){f=l[E],a==="all"?(d[E]=a,y=f,p={}):(p=d[E]=d[E]||{},y=a);for(_ in y)T=f&&f[_],T&&((!("kill"in T.d)||T.d.kill(_)===!0)&&Su(this,T,"_pt"),delete f[_]),p!=="all"&&(p[_]=1)}return this._initted&&!this._pt&&c&&Oa(this),this},e.to=function(t,a){return new e(t,a,arguments[2])},e.from=function(t,a){return za(1,arguments)},e.delayedCall=function(t,a,s,o){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:a,onReverseComplete:a,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:o})},e.fromTo=function(t,a,s){return za(2,arguments)},e.set=function(t,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(t,a)},e.killTweensOf=function(t,a,s){return Ve.killTweensOf(t,a,s)},e}(as);ur(Ze.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Nt("staggerTo,staggerFrom,staggerFromTo",function(n){Ze[n]=function(){var e=new Ct,r=md.call(arguments,0);return r.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,r)}});var kf=function(e,r,i){return e[r]=i},u_=function(e,r,i){return e[r](i)},gA=function(e,r,i,t){return e[r](t.fp,i)},vA=function(e,r,i){return e.setAttribute(r,i)},Pf=function(e,r){return ze(e[r])?u_:Tf(e[r])&&e.setAttribute?vA:kf},l_=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},_A=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},c_=function(e,r){var i=r._pt,t="";if(!e&&r.b)t=r.b;else if(e===1&&r.e)t=r.e;else{for(;i;)t=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+t,i=i._next;t+=r.c}r.set(r.t,r.p,t,r)},If=function(e,r){for(var i=r._pt;i;)i.r(e,i.d),i=i._next},yA=function(e,r,i,t){for(var a=this._pt,s;a;)s=a._next,a.p===t&&a.modifier(e,r,i),a=s},TA=function(e){for(var r=this._pt,i,t;r;)t=r._next,r.p===e&&!r.op||r.op===e?Su(this,r,"_pt"):r.dep||(i=1),r=t;return!i},bA=function(e,r,i,t){t.mSet(e,r,t.m.call(t.tween,i,t.mt),t)},d_=function(e){for(var r=e._pt,i,t,a,s;r;){for(i=r._next,t=a;t&&t.pr>r.pr;)t=t._next;(r._prev=t?t._prev:s)?r._prev._next=r:a=r,(r._next=t)?t._prev=r:s=r,r=i}e._pt=a},Bt=function(){function n(r,i,t,a,s,o,u,l,c){this.t=i,this.s=a,this.c=s,this.p=t,this.r=o||l_,this.d=u||this,this.set=l||kf,this.pr=c||0,this._next=r,r&&(r._prev=this)}var e=n.prototype;return e.modifier=function(i,t,a){this.mSet=this.mSet||this.set,this.set=bA,this.m=i,this.mt=a,this.tween=t},n}();Nt(Cf+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Ef[n]=1});tr.TweenMax=tr.TweenLite=Ze;tr.TimelineLite=tr.TimelineMax=Ct;Ve=new Ct({sortChildren:!1,defaults:Wn,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});er.stringFilter=e_;var en=[],bo={},SA=[],Fm=0,xA=0,dc=function(e){return(bo[e]||SA).map(function(r){return r()})},yd=function(){var e=Date.now(),r=[];e-Fm>2&&(dc("matchMediaInit"),en.forEach(function(i){var t=i.queries,a=i.conditions,s,o,u,l;for(o in t)s=xr.matchMedia(t[o]).matches,s&&(u=1),s!==a[o]&&(a[o]=s,l=1);l&&(i.revert(),u&&r.push(i))}),dc("matchMediaRevert"),r.forEach(function(i){return i.onMatch(i,function(t){return i.add(null,t)})}),Fm=e,dc("matchMedia"))},f_=function(){function n(r,i){this.selector=i&&gd(i),this.data=[],this._r=[],this.isReverted=!1,this.id=xA++,r&&this.add(r)}var e=n.prototype;return e.add=function(i,t,a){ze(i)&&(a=t,t=i,i=ze);var s=this,o=function(){var l=Me,c=s.selector,d;return l&&l!==s&&l.data.push(s),a&&(s.selector=gd(a)),Me=s,d=t.apply(s,arguments),ze(d)&&s._r.push(d),Me=l,s.selector=c,s.isReverted=!1,d};return s.last=o,i===ze?o(s,function(u){return s.add(null,u)}):i?s[i]=o:o},e.ignore=function(i){var t=Me;Me=null,i(this),Me=t},e.getTweens=function(){var i=[];return this.data.forEach(function(t){return t instanceof n?i.push.apply(i,t.getTweens()):t instanceof Ze&&!(t.parent&&t.parent.data==="nested")&&i.push(t)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,t){var a=this;if(i?function(){for(var o=a.getTweens(),u=a.data.length,l;u--;)l=a.data[u],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}));for(o.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,d){return d.g-c.g||-1/0}).forEach(function(c){return c.t.revert(i)}),u=a.data.length;u--;)l=a.data[u],l instanceof Ct?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof Ze)&&l.revert&&l.revert(i);a._r.forEach(function(c){return c(i,a)}),a.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),t)for(var s=en.length;s--;)en[s].id===this.id&&en.splice(s,1)},e.revert=function(i){this.kill(i||{})},n}(),EA=function(){function n(r){this.contexts=[],this.scope=r,Me&&Me.data.push(this)}var e=n.prototype;return e.add=function(i,t,a){Mr(i)||(i={matches:i});var s=new f_(0,a||this.scope),o=s.conditions={},u,l,c;Me&&!s.selector&&(s.selector=Me.selector),this.contexts.push(s),t=s.add("onMatch",t),s.queries=i;for(l in i)l==="all"?c=1:(u=xr.matchMedia(i[l]),u&&(en.indexOf(s)<0&&en.push(s),(o[l]=u.matches)&&(c=1),u.addListener?u.addListener(yd):u.addEventListener("change",yd)));return c&&t(s,function(d){return s.add(null,d)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(t){return t.kill(i,!0)})},n}(),jo={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];r.forEach(function(t){return Q0(t)})},timeline:function(e){return new Ct(e)},getTweensOf:function(e,r){return Ve.getTweensOf(e,r)},getProperty:function(e,r,i,t){st(e)&&(e=sr(e)[0]);var a=Qi(e||{}).get,s=i?B0:N0;return i==="native"&&(i=""),e&&(r?s((Yt[r]&&Yt[r].get||a)(e,r,i,t)):function(o,u,l){return s((Yt[o]&&Yt[o].get||a)(e,o,u,l))})},quickSetter:function(e,r,i){if(e=sr(e),e.length>1){var t=e.map(function(c){return jt.quickSetter(c,r,i)}),a=t.length;return function(c){for(var d=a;d--;)t[d](c)}}e=e[0]||{};var s=Yt[r],o=Qi(e),u=o.harness&&(o.harness.aliases||{})[r]||r,l=s?function(c){var d=new s;Pn._pt=0,d.init(e,i?c+i:c,Pn,0,[e]),d.render(1,d),Pn._pt&&If(1,Pn)}:o.set(e,u);return s?l:function(c){return l(e,u,i?c+i:c,o,1)}},quickTo:function(e,r,i){var t,a=jt.to(e,sn((t={},t[r]="+=0.1",t.paused=!0,t),i||{})),s=function(u,l,c){return a.resetTo(r,u,l,c)};return s.tween=a,s},isTweening:function(e){return Ve.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Zi(e.ease,Wn.ease)),Im(Wn,e||{})},config:function(e){return Im(er,e||{})},registerEffect:function(e){var r=e.name,i=e.effect,t=e.plugins,a=e.defaults,s=e.extendTimeline;(t||"").split(",").forEach(function(o){return o&&!Yt[o]&&!tr[o]&&ts(r+" effect requires "+o+" plugin.")}),oc[r]=function(o,u,l){return i(sr(o),ur(u||{},a),l)},s&&(Ct.prototype[r]=function(o,u,l){return this.add(oc[r](o,Mr(u)?u:(l=u)&&{},this),l)})},registerEase:function(e,r){ve[e]=Zi(r)},parseEase:function(e,r){return arguments.length?Zi(e,r):ve},getById:function(e){return Ve.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var i=new Ct(e),t,a;for(i.smoothChildTiming=Ft(e.smoothChildTiming),Ve.remove(i),i._dp=0,i._time=i._tTime=Ve._time,t=Ve._first;t;)a=t._next,(r||!(!t._dur&&t instanceof Ze&&t.vars.onComplete===t._targets[0]))&&wr(i,t,t._start-t._delay),t=a;return wr(Ve,i,0),i},context:function(e,r){return e?new f_(e,r):Me},matchMedia:function(e){return new EA(e)},matchMediaRefresh:function(){return en.forEach(function(e){var r=e.conditions,i,t;for(t in r)r[t]&&(r[t]=!1,i=1);i&&e.revert()})||yd()},addEventListener:function(e,r){var i=bo[e]||(bo[e]=[]);~i.indexOf(r)||i.push(r)},removeEventListener:function(e,r){var i=bo[e],t=i&&i.indexOf(r);t>=0&&i.splice(t,1)},utils:{wrap:rA,wrapYoyo:iA,distribute:z0,random:$0,snap:G0,normalize:tA,getUnit:gt,clamp:Qw,splitColor:J0,toArray:sr,selector:gd,mapRange:X0,pipe:Zw,unitize:eA,interpolate:nA,shuffle:W0},install:O0,effects:oc,ticker:Qt,updateRoot:Ct.updateRoot,plugins:Yt,globalTimeline:Ve,core:{PropTween:Bt,globals:L0,Tween:Ze,Timeline:Ct,Animation:as,getCache:Qi,_removeLinkedListItem:Su,reverting:function(){return vt},context:function(e){return e&&Me&&(Me.data.push(e),e._ctx=Me),Me},suppressOverwrites:function(e){return yf=e}}};Nt("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return jo[n]=Ze[n]});Qt.add(Ct.updateRoot);Pn=jo.to({},{duration:0});var CA=function(e,r){for(var i=e._pt;i&&i.p!==r&&i.op!==r&&i.fp!==r;)i=i._next;return i},wA=function(e,r){var i=e._targets,t,a,s;for(t in r)for(a=i.length;a--;)s=e._ptLookup[a][t],s&&(s=s.d)&&(s._pt&&(s=CA(s,t)),s&&s.modifier&&s.modifier(r[t],e,i[a],t))},fc=function(e,r){return{name:e,rawVars:1,init:function(t,a,s){s._onInit=function(o){var u,l;if(st(a)&&(u={},Nt(a,function(c){return u[c]=1}),a=u),r){u={};for(l in a)u[l]=r(a[l]);a=u}wA(o,a)}}}},jt=jo.registerPlugin({name:"attr",init:function(e,r,i,t,a){var s,o,u;this.tween=i;for(s in r)u=e.getAttribute(s)||"",o=this.add(e,"setAttribute",(u||0)+"",r[s],t,a,0,0,s),o.op=s,o.b=u,this._props.push(s)},render:function(e,r){for(var i=r._pt;i;)vt?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,r){for(var i=r.length;i--;)this.add(e,i,e[i]||0,r[i],0,0,0,0,0,1)}},fc("roundProps",vd),fc("modifiers"),fc("snap",G0))||jo;Ze.version=Ct.version=jt.version="3.12.5";I0=1;bf()&&$n();ve.Power0;ve.Power1;ve.Power2;ve.Power3;ve.Power4;ve.Linear;ve.Quad;ve.Cubic;ve.Quart;ve.Quint;ve.Strong;ve.Elastic;ve.Back;ve.SteppedEase;ve.Bounce;ve.Sine;ve.Expo;ve.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Nm,yi,Fn,Of,Ki,Bm,Lf,AA=function(){return typeof window<"u"},ii={},zi=180/Math.PI,Nn=Math.PI/180,_n=Math.atan2,Um=1e8,Rf=/([A-Z])/g,DA=/(left|right|width|margin|padding|x)/i,kA=/[\s,\(]\S/,Ar={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Td=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},PA=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},IA=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},OA=function(e,r){var i=r.s+r.c*e;r.set(r.t,r.p,~~(i+(i<0?-.5:.5))+r.u,r)},h_=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},p_=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},LA=function(e,r,i){return e.style[r]=i},RA=function(e,r,i){return e.style.setProperty(r,i)},MA=function(e,r,i){return e._gsap[r]=i},FA=function(e,r,i){return e._gsap.scaleX=e._gsap.scaleY=i},NA=function(e,r,i,t,a){var s=e._gsap;s.scaleX=s.scaleY=i,s.renderTransform(a,s)},BA=function(e,r,i,t,a){var s=e._gsap;s[r]=i,s.renderTransform(a,s)},He="transform",Ut=He+"Origin",UA=function n(e,r){var i=this,t=this.target,a=t.style,s=t._gsap;if(e in ii&&a){if(this.tfm=this.tfm||{},e!=="transform")e=Ar[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=$r(t,o)}):this.tfm[e]=s.x?s[e]:$r(t,e),e===Ut&&(this.tfm.zOrigin=s.zOrigin);else return Ar.transform.split(",").forEach(function(o){return n.call(i,o,r)});if(this.props.indexOf(He)>=0)return;s.svg&&(this.svgo=t.getAttribute("data-svg-origin"),this.props.push(Ut,r,"")),e=He}(a||r)&&this.props.push(e,r,a[e])},m_=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},jA=function(){var e=this.props,r=this.target,i=r.style,t=r._gsap,a,s;for(a=0;a<e.length;a+=3)e[a+1]?r[e[a]]=e[a+2]:e[a+2]?i[e[a]]=e[a+2]:i.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(Rf,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)t[s]=this.tfm[s];t.svg&&(t.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),a=Lf(),(!a||!a.isStart)&&!i[He]&&(m_(i),t.zOrigin&&i[Ut]&&(i[Ut]+=" "+t.zOrigin+"px",t.zOrigin=0,t.renderTransform()),t.uncache=1)}},g_=function(e,r){var i={target:e,props:[],revert:jA,save:UA};return e._gsap||jt.core.getCache(e),r&&r.split(",").forEach(function(t){return i.save(t)}),i},v_,bd=function(e,r){var i=yi.createElementNS?yi.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):yi.createElement(e);return i&&i.style?i:yi.createElement(e)},Ir=function n(e,r,i){var t=getComputedStyle(e);return t[r]||t.getPropertyValue(r.replace(Rf,"-$1").toLowerCase())||t.getPropertyValue(r)||!i&&n(e,Kn(r)||r,1)||""},jm="O,Moz,ms,Ms,Webkit".split(","),Kn=function(e,r,i){var t=r||Ki,a=t.style,s=5;if(e in a&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(jm[s]+e in a););return s<0?null:(s===3?"ms":s>=0?jm[s]:"")+e},Sd=function(){AA()&&window.document&&(Nm=window,yi=Nm.document,Fn=yi.documentElement,Ki=bd("div")||{style:{}},bd("div"),He=Kn(He),Ut=He+"Origin",Ki.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",v_=!!Kn("perspective"),Lf=jt.core.reverting,Of=1)},hc=function n(e){var r=bd("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,t=this.nextSibling,a=this.style.cssText,s;if(Fn.appendChild(r),r.appendChild(this),this.style.display="block",e)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(s=this._gsapBBox());return i&&(t?i.insertBefore(this,t):i.appendChild(this)),Fn.removeChild(r),this.style.cssText=a,s},Vm=function(e,r){for(var i=r.length;i--;)if(e.hasAttribute(r[i]))return e.getAttribute(r[i])},__=function(e){var r;try{r=e.getBBox()}catch{r=hc.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===hc||(r=hc.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+Vm(e,["x","cx","x1"])||0,y:+Vm(e,["y","cy","y1"])||0,width:0,height:0}:r},y_=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&__(e))},on=function(e,r){if(r){var i=e.style,t;r in ii&&r!==Ut&&(r=He),i.removeProperty?(t=r.substr(0,2),(t==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),i.removeProperty(t==="--"?r:r.replace(Rf,"-$1").toLowerCase())):i.removeAttribute(r)}},Ti=function(e,r,i,t,a,s){var o=new Bt(e._pt,r,i,0,1,s?p_:h_);return e._pt=o,o.b=t,o.e=a,e._props.push(i),o},Hm={deg:1,rad:1,turn:1},VA={grid:1,flex:1},wi=function n(e,r,i,t){var a=parseFloat(i)||0,s=(i+"").trim().substr((a+"").length)||"px",o=Ki.style,u=DA.test(r),l=e.tagName.toLowerCase()==="svg",c=(l?"client":"offset")+(u?"Width":"Height"),d=100,f=t==="px",p=t==="%",y,_,T,E;if(t===s||!a||Hm[t]||Hm[s])return a;if(s!=="px"&&!f&&(a=n(e,r,i,"px")),E=e.getCTM&&y_(e),(p||s==="%")&&(ii[r]||~r.indexOf("adius")))return y=E?e.getBBox()[u?"width":"height"]:e[c],Ke(p?a/y*d:a/100*y);if(o[u?"width":"height"]=d+(f?s:t),_=~r.indexOf("adius")||t==="em"&&e.appendChild&&!l?e:e.parentNode,E&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===yi||!_.appendChild)&&(_=yi.body),T=_._gsap,T&&p&&T.width&&u&&T.time===Qt.time&&!T.uncache)return Ke(a/T.width*d);if(p&&(r==="height"||r==="width")){var C=e.style[r];e.style[r]=d+t,y=e[c],C?e.style[r]=C:on(e,r)}else(p||s==="%")&&!VA[Ir(_,"display")]&&(o.position=Ir(e,"position")),_===e&&(o.position="static"),_.appendChild(Ki),y=Ki[c],_.removeChild(Ki),o.position="absolute";return u&&p&&(T=Qi(_),T.time=Qt.time,T.width=_[c]),Ke(f?y*a/d:y&&a?d/y*a:0)},$r=function(e,r,i,t){var a;return Of||Sd(),r in Ar&&r!=="transform"&&(r=Ar[r],~r.indexOf(",")&&(r=r.split(",")[0])),ii[r]&&r!=="transform"?(a=os(e,t),a=r!=="transformOrigin"?a[r]:a.svg?a.origin:Ho(Ir(e,Ut))+" "+a.zOrigin+"px"):(a=e.style[r],(!a||a==="auto"||t||~(a+"").indexOf("calc("))&&(a=Vo[r]&&Vo[r](e,r,i)||Ir(e,r)||M0(e,r)||(r==="opacity"?1:0))),i&&!~(a+"").trim().indexOf(" ")?wi(e,r,a,i)+i:a},HA=function(e,r,i,t){if(!i||i==="none"){var a=Kn(r,e,1),s=a&&Ir(e,a,1);s&&s!==i?(r=a,i=s):r==="borderColor"&&(i=Ir(e,"borderTopColor"))}var o=new Bt(this._pt,e.style,r,0,1,c_),u=0,l=0,c,d,f,p,y,_,T,E,C,I,k,D;if(o.b=i,o.e=t,i+="",t+="",t==="auto"&&(_=e.style[r],e.style[r]=t,t=Ir(e,r)||t,_?e.style[r]=_:on(e,r)),c=[i,t],e_(c),i=c[0],t=c[1],f=i.match(kn)||[],D=t.match(kn)||[],D.length){for(;d=kn.exec(t);)T=d[0],C=t.substring(u,d.index),y?y=(y+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(y=1),T!==(_=f[l++]||"")&&(p=parseFloat(_)||0,k=_.substr((p+"").length),T.charAt(1)==="="&&(T=Mn(p,T)+k),E=parseFloat(T),I=T.substr((E+"").length),u=kn.lastIndex-I.length,I||(I=I||er.units[r]||k,u===t.length&&(t+=I,o.e+=I)),k!==I&&(p=wi(e,r,_,I)||0),o._pt={_next:o._pt,p:C||l===1?C:",",s:p,c:E-p,m:y&&y<4||r==="zIndex"?Math.round:0});o.c=u<t.length?t.substring(u,t.length):""}else o.r=r==="display"&&t==="none"?p_:h_;return k0.test(t)&&(o.e=0),this._pt=o,o},qm={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},qA=function(e){var r=e.split(" "),i=r[0],t=r[1]||"50%";return(i==="top"||i==="bottom"||t==="left"||t==="right")&&(e=i,i=t,t=e),r[0]=qm[i]||i,r[1]=qm[t]||t,r.join(" ")},WA=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var i=r.t,t=i.style,a=r.u,s=i._gsap,o,u,l;if(a==="all"||a===!0)t.cssText="",u=1;else for(a=a.split(","),l=a.length;--l>-1;)o=a[l],ii[o]&&(u=1,o=o==="transformOrigin"?Ut:He),on(i,o);u&&(on(i,He),s&&(s.svg&&i.removeAttribute("transform"),os(i,1),s.uncache=1,m_(t)))}},Vo={clearProps:function(e,r,i,t,a){if(a.data!=="isFromStart"){var s=e._pt=new Bt(e._pt,r,i,0,0,WA);return s.u=t,s.pr=-10,s.tween=a,e._props.push(i),1}}},ss=[1,0,0,1,0,0],T_={},b_=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Wm=function(e){var r=Ir(e,He);return b_(r)?ss:r.substr(7).match(D0).map(Ke)},Mf=function(e,r){var i=e._gsap||Qi(e),t=e.style,a=Wm(e),s,o,u,l;return i.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,a=[u.a,u.b,u.c,u.d,u.e,u.f],a.join(",")==="1,0,0,1,0,0"?ss:a):(a===ss&&!e.offsetParent&&e!==Fn&&!i.svg&&(u=t.display,t.display="block",s=e.parentNode,(!s||!e.offsetParent)&&(l=1,o=e.nextElementSibling,Fn.appendChild(e)),a=Wm(e),u?t.display=u:on(e,"display"),l&&(o?s.insertBefore(e,o):s?s.appendChild(e):Fn.removeChild(e))),r&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},xd=function(e,r,i,t,a,s){var o=e._gsap,u=a||Mf(e,!0),l=o.xOrigin||0,c=o.yOrigin||0,d=o.xOffset||0,f=o.yOffset||0,p=u[0],y=u[1],_=u[2],T=u[3],E=u[4],C=u[5],I=r.split(" "),k=parseFloat(I[0])||0,D=parseFloat(I[1])||0,N,M,L,O;i?u!==ss&&(M=p*T-y*_)&&(L=k*(T/M)+D*(-_/M)+(_*C-T*E)/M,O=k*(-y/M)+D*(p/M)-(p*C-y*E)/M,k=L,D=O):(N=__(e),k=N.x+(~I[0].indexOf("%")?k/100*N.width:k),D=N.y+(~(I[1]||I[0]).indexOf("%")?D/100*N.height:D)),t||t!==!1&&o.smooth?(E=k-l,C=D-c,o.xOffset=d+(E*p+C*_)-E,o.yOffset=f+(E*y+C*T)-C):o.xOffset=o.yOffset=0,o.xOrigin=k,o.yOrigin=D,o.smooth=!!t,o.origin=r,o.originIsAbsolute=!!i,e.style[Ut]="0px 0px",s&&(Ti(s,o,"xOrigin",l,k),Ti(s,o,"yOrigin",c,D),Ti(s,o,"xOffset",d,o.xOffset),Ti(s,o,"yOffset",f,o.yOffset)),e.setAttribute("data-svg-origin",k+" "+D)},os=function(e,r){var i=e._gsap||new n_(e);if("x"in i&&!r&&!i.uncache)return i;var t=e.style,a=i.scaleX<0,s="px",o="deg",u=getComputedStyle(e),l=Ir(e,Ut)||"0",c,d,f,p,y,_,T,E,C,I,k,D,N,M,L,O,j,q,H,G,re,ie,X,ne,de,Ne,pe,qt,Le,pt,Be,rt;return c=d=f=_=T=E=C=I=k=0,p=y=1,i.svg=!!(e.getCTM&&y_(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(t[He]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[He]!=="none"?u[He]:"")),t.scale=t.rotate=t.translate="none"),M=Mf(e,i.svg),i.svg&&(i.uncache?(de=e.getBBox(),l=i.xOrigin-de.x+"px "+(i.yOrigin-de.y)+"px",ne=""):ne=!r&&e.getAttribute("data-svg-origin"),xd(e,ne||l,!!ne||i.originIsAbsolute,i.smooth!==!1,M)),D=i.xOrigin||0,N=i.yOrigin||0,M!==ss&&(q=M[0],H=M[1],G=M[2],re=M[3],c=ie=M[4],d=X=M[5],M.length===6?(p=Math.sqrt(q*q+H*H),y=Math.sqrt(re*re+G*G),_=q||H?_n(H,q)*zi:0,C=G||re?_n(G,re)*zi+_:0,C&&(y*=Math.abs(Math.cos(C*Nn))),i.svg&&(c-=D-(D*q+N*G),d-=N-(D*H+N*re))):(rt=M[6],pt=M[7],pe=M[8],qt=M[9],Le=M[10],Be=M[11],c=M[12],d=M[13],f=M[14],L=_n(rt,Le),T=L*zi,L&&(O=Math.cos(-L),j=Math.sin(-L),ne=ie*O+pe*j,de=X*O+qt*j,Ne=rt*O+Le*j,pe=ie*-j+pe*O,qt=X*-j+qt*O,Le=rt*-j+Le*O,Be=pt*-j+Be*O,ie=ne,X=de,rt=Ne),L=_n(-G,Le),E=L*zi,L&&(O=Math.cos(-L),j=Math.sin(-L),ne=q*O-pe*j,de=H*O-qt*j,Ne=G*O-Le*j,Be=re*j+Be*O,q=ne,H=de,G=Ne),L=_n(H,q),_=L*zi,L&&(O=Math.cos(L),j=Math.sin(L),ne=q*O+H*j,de=ie*O+X*j,H=H*O-q*j,X=X*O-ie*j,q=ne,ie=de),T&&Math.abs(T)+Math.abs(_)>359.9&&(T=_=0,E=180-E),p=Ke(Math.sqrt(q*q+H*H+G*G)),y=Ke(Math.sqrt(X*X+rt*rt)),L=_n(ie,X),C=Math.abs(L)>2e-4?L*zi:0,k=Be?1/(Be<0?-Be:Be):0),i.svg&&(ne=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!b_(Ir(e,He)),ne&&e.setAttribute("transform",ne))),Math.abs(C)>90&&Math.abs(C)<270&&(a?(p*=-1,C+=_<=0?180:-180,_+=_<=0?180:-180):(y*=-1,C+=C<=0?180:-180)),r=r||i.uncache,i.x=c-((i.xPercent=c&&(!r&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+s,i.y=d-((i.yPercent=d&&(!r&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+s,i.z=f+s,i.scaleX=Ke(p),i.scaleY=Ke(y),i.rotation=Ke(_)+o,i.rotationX=Ke(T)+o,i.rotationY=Ke(E)+o,i.skewX=C+o,i.skewY=I+o,i.transformPerspective=k+s,(i.zOrigin=parseFloat(l.split(" ")[2])||!r&&i.zOrigin||0)&&(t[Ut]=Ho(l)),i.xOffset=i.yOffset=0,i.force3D=er.force3D,i.renderTransform=i.svg?GA:v_?S_:zA,i.uncache=0,i},Ho=function(e){return(e=e.split(" "))[0]+" "+e[1]},pc=function(e,r,i){var t=gt(r);return Ke(parseFloat(r)+parseFloat(wi(e,"x",i+"px",t)))+t},zA=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,S_(e,r)},Vi="0deg",Ea="0px",Hi=") ",S_=function(e,r){var i=r||this,t=i.xPercent,a=i.yPercent,s=i.x,o=i.y,u=i.z,l=i.rotation,c=i.rotationY,d=i.rotationX,f=i.skewX,p=i.skewY,y=i.scaleX,_=i.scaleY,T=i.transformPerspective,E=i.force3D,C=i.target,I=i.zOrigin,k="",D=E==="auto"&&e&&e!==1||E===!0;if(I&&(d!==Vi||c!==Vi)){var N=parseFloat(c)*Nn,M=Math.sin(N),L=Math.cos(N),O;N=parseFloat(d)*Nn,O=Math.cos(N),s=pc(C,s,M*O*-I),o=pc(C,o,-Math.sin(N)*-I),u=pc(C,u,L*O*-I+I)}T!==Ea&&(k+="perspective("+T+Hi),(t||a)&&(k+="translate("+t+"%, "+a+"%) "),(D||s!==Ea||o!==Ea||u!==Ea)&&(k+=u!==Ea||D?"translate3d("+s+", "+o+", "+u+") ":"translate("+s+", "+o+Hi),l!==Vi&&(k+="rotate("+l+Hi),c!==Vi&&(k+="rotateY("+c+Hi),d!==Vi&&(k+="rotateX("+d+Hi),(f!==Vi||p!==Vi)&&(k+="skew("+f+", "+p+Hi),(y!==1||_!==1)&&(k+="scale("+y+", "+_+Hi),C.style[He]=k||"translate(0, 0)"},GA=function(e,r){var i=r||this,t=i.xPercent,a=i.yPercent,s=i.x,o=i.y,u=i.rotation,l=i.skewX,c=i.skewY,d=i.scaleX,f=i.scaleY,p=i.target,y=i.xOrigin,_=i.yOrigin,T=i.xOffset,E=i.yOffset,C=i.forceCSS,I=parseFloat(s),k=parseFloat(o),D,N,M,L,O;u=parseFloat(u),l=parseFloat(l),c=parseFloat(c),c&&(c=parseFloat(c),l+=c,u+=c),u||l?(u*=Nn,l*=Nn,D=Math.cos(u)*d,N=Math.sin(u)*d,M=Math.sin(u-l)*-f,L=Math.cos(u-l)*f,l&&(c*=Nn,O=Math.tan(l-c),O=Math.sqrt(1+O*O),M*=O,L*=O,c&&(O=Math.tan(c),O=Math.sqrt(1+O*O),D*=O,N*=O)),D=Ke(D),N=Ke(N),M=Ke(M),L=Ke(L)):(D=d,L=f,N=M=0),(I&&!~(s+"").indexOf("px")||k&&!~(o+"").indexOf("px"))&&(I=wi(p,"x",s,"px"),k=wi(p,"y",o,"px")),(y||_||T||E)&&(I=Ke(I+y-(y*D+_*M)+T),k=Ke(k+_-(y*N+_*L)+E)),(t||a)&&(O=p.getBBox(),I=Ke(I+t/100*O.width),k=Ke(k+a/100*O.height)),O="matrix("+D+","+N+","+M+","+L+","+I+","+k+")",p.setAttribute("transform",O),C&&(p.style[He]=O)},$A=function(e,r,i,t,a){var s=360,o=st(a),u=parseFloat(a)*(o&&~a.indexOf("rad")?zi:1),l=u-t,c=t+l+"deg",d,f;return o&&(d=a.split("_")[1],d==="short"&&(l%=s,l!==l%(s/2)&&(l+=l<0?s:-s)),d==="cw"&&l<0?l=(l+s*Um)%s-~~(l/s)*s:d==="ccw"&&l>0&&(l=(l-s*Um)%s-~~(l/s)*s)),e._pt=f=new Bt(e._pt,r,i,t,l,PA),f.e=c,f.u="deg",e._props.push(i),f},zm=function(e,r){for(var i in r)e[i]=r[i];return e},KA=function(e,r,i){var t=zm({},i._gsap),a="perspective,force3D,transformOrigin,svgOrigin",s=i.style,o,u,l,c,d,f,p,y;t.svg?(l=i.getAttribute("transform"),i.setAttribute("transform",""),s[He]=r,o=os(i,1),on(i,He),i.setAttribute("transform",l)):(l=getComputedStyle(i)[He],s[He]=r,o=os(i,1),s[He]=l);for(u in ii)l=t[u],c=o[u],l!==c&&a.indexOf(u)<0&&(p=gt(l),y=gt(c),d=p!==y?wi(i,u,l,y):parseFloat(l),f=parseFloat(c),e._pt=new Bt(e._pt,o,u,d,f-d,Td),e._pt.u=y||0,e._props.push(u));zm(o,t)};Nt("padding,margin,Width,Radius",function(n,e){var r="Top",i="Right",t="Bottom",a="Left",s=(e<3?[r,i,t,a]:[r+a,r+i,t+i,t+a]).map(function(o){return e<2?n+o:"border"+o+n});Vo[e>1?"border"+n:n]=function(o,u,l,c,d){var f,p;if(arguments.length<4)return f=s.map(function(y){return $r(o,y,l)}),p=f.join(" "),p.split(f[0]).length===5?f[0]:p;f=(c+"").split(" "),p={},s.forEach(function(y,_){return p[y]=f[_]=f[_]||f[(_-1)/2|0]}),o.init(u,p,d)}});var x_={name:"css",register:Sd,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,i,t,a){var s=this._props,o=e.style,u=i.vars.startAt,l,c,d,f,p,y,_,T,E,C,I,k,D,N,M,L;Of||Sd(),this.styles=this.styles||g_(e),L=this.styles.props,this.tween=i;for(_ in r)if(_!=="autoRound"&&(c=r[_],!(Yt[_]&&a_(_,r,i,t,e,a)))){if(p=typeof c,y=Vo[_],p==="function"&&(c=c.call(i,t,e,a),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=is(c)),y)y(this,e,_,c,i)&&(M=1);else if(_.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(_)+"").trim(),c+="",xi.lastIndex=0,xi.test(l)||(T=gt(l),E=gt(c)),E?T!==E&&(l=wi(e,_,l,E)+E):T&&(c+=T),this.add(o,"setProperty",l,c,t,a,0,0,_),s.push(_),L.push(_,0,o[_]);else if(p!=="undefined"){if(u&&_ in u?(l=typeof u[_]=="function"?u[_].call(i,t,e,a):u[_],st(l)&&~l.indexOf("random(")&&(l=is(l)),gt(l+"")||l==="auto"||(l+=er.units[_]||gt($r(e,_))||""),(l+"").charAt(1)==="="&&(l=$r(e,_))):l=$r(e,_),f=parseFloat(l),C=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),C&&(c=c.substr(2)),d=parseFloat(c),_ in Ar&&(_==="autoAlpha"&&(f===1&&$r(e,"visibility")==="hidden"&&d&&(f=0),L.push("visibility",0,o.visibility),Ti(this,o,"visibility",f?"inherit":"hidden",d?"inherit":"hidden",!d)),_!=="scale"&&_!=="transform"&&(_=Ar[_],~_.indexOf(",")&&(_=_.split(",")[0]))),I=_ in ii,I){if(this.styles.save(_),k||(D=e._gsap,D.renderTransform&&!r.parseTransform||os(e,r.parseTransform),N=r.smoothOrigin!==!1&&D.smooth,k=this._pt=new Bt(this._pt,o,He,0,1,D.renderTransform,D,0,-1),k.dep=1),_==="scale")this._pt=new Bt(this._pt,D,"scaleY",D.scaleY,(C?Mn(D.scaleY,C+d):d)-D.scaleY||0,Td),this._pt.u=0,s.push("scaleY",_),_+="X";else if(_==="transformOrigin"){L.push(Ut,0,o[Ut]),c=qA(c),D.svg?xd(e,c,0,N,0,this):(E=parseFloat(c.split(" ")[2])||0,E!==D.zOrigin&&Ti(this,D,"zOrigin",D.zOrigin,E),Ti(this,o,_,Ho(l),Ho(c)));continue}else if(_==="svgOrigin"){xd(e,c,1,N,0,this);continue}else if(_ in T_){$A(this,D,_,f,C?Mn(f,C+c):c);continue}else if(_==="smoothOrigin"){Ti(this,D,"smooth",D.smooth,c);continue}else if(_==="force3D"){D[_]=c;continue}else if(_==="transform"){KA(this,c,e);continue}}else _ in o||(_=Kn(_)||_);if(I||(d||d===0)&&(f||f===0)&&!kA.test(c)&&_ in o)T=(l+"").substr((f+"").length),d||(d=0),E=gt(c)||(_ in er.units?er.units[_]:T),T!==E&&(f=wi(e,_,l,E)),this._pt=new Bt(this._pt,I?D:o,_,f,(C?Mn(f,C+d):d)-f,!I&&(E==="px"||_==="zIndex")&&r.autoRound!==!1?OA:Td),this._pt.u=E||0,T!==E&&E!=="%"&&(this._pt.b=l,this._pt.r=IA);else if(_ in o)HA.call(this,e,_,l,C?C+c:c);else if(_ in e)this.add(e,_,l||e[_],C?C+c:c,t,a);else if(_!=="parseTransform"){xf(_,c);continue}I||(_ in o?L.push(_,0,o[_]):L.push(_,1,l||e[_])),s.push(_)}}M&&d_(this)},render:function(e,r){if(r.tween._time||!Lf())for(var i=r._pt;i;)i.r(e,i.d),i=i._next;else r.styles.revert()},get:$r,aliases:Ar,getSetter:function(e,r,i){var t=Ar[r];return t&&t.indexOf(",")<0&&(r=t),r in ii&&r!==Ut&&(e._gsap.x||$r(e,"x"))?i&&Bm===i?r==="scale"?FA:MA:(Bm=i||{})&&(r==="scale"?NA:BA):e.style&&!Tf(e.style[r])?LA:~r.indexOf("-")?RA:Pf(e,r)},core:{_removeProperty:on,_getMatrix:Mf}};jt.utils.checkPrefix=Kn;jt.core.getStyleSaver=g_;(function(n,e,r,i){var t=Nt(n+","+e+","+r,function(a){ii[a]=1});Nt(e,function(a){er.units[a]="deg",T_[a]=1}),Ar[t[13]]=n+","+e,Nt(i,function(a){var s=a.split(":");Ar[s[1]]=t[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Nt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){er.units[n]="px"});jt.registerPlugin(x_);var E_=jt.registerPlugin(x_)||jt;E_.core.Tween;const XA={key:0,class:"w-full h-full bg-black bg-opacity-70 fixed inset-0 z-99"},YA={class:"fixed top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 fade_scale"},QA={class:"w-135 bg-black p-16 space-y-16"},JA={class:"space-y-4"},ZA=Gr("p",{class:"font-medium text-5xl PPHattonMedium leading-16"},"Fail!",-1),eD={class:"font-light text-lg PolySansNeutral"},tD=Br({__name:"Fail",setup(n){const e=E0(),r=Rw(),i=Fe(()=>(e.getModalName&&Nr(()=>{a()}),!!e.getModalName)),t=()=>{e.setModalName(""),e.getModelOption.code===401&&r2("/account/logIn"),r.clearUserInfo()},a=()=>{E_.fromTo(".fade_scale",{scale:0,opacity:0},{scale:1,opacity:1,duration:.3})};return(s,o)=>(mr(),Kr(nf,{name:"fade"},{default:af(()=>[ge(i)?(mr(),wv("div",XA,[Gr("div",YA,[Gr("div",QA,[Gr("div",JA,[ZA,Gr("div",eD,Dp(ge(e).getModelOption.message),1)]),Gr("div",{class:"btn gradient-btn",onClick:t},[Gr("div",null,Dp(ge(e).getModelOption.code===401?"Ok":"close"),1)]),fx(s.$slots,"btn")])])])):Vc("",!0)]),_:3}))}}),rD=Br({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},async setup(n,e){const r=await vi[n.name]().then(i=>i.default||i);return()=>Mt(r,n.layoutProps,e.slots)}}),iD=Br({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(n,e){const r=ke(),i=ht(ys),t=i===df()?lC():i,a=Fe(()=>{let u=ge(n.name)??t.meta.layout??"default";return u&&!(u in vi)&&n.fallback&&(u=ge(n.fallback)),u}),s=Je();e.expose({layoutRef:s});const o=r.deferHydration();if(r.isHydrating){const u=r.hooks.hookOnce("app:error",o);Ur().beforeEach(u)}return()=>{const u=a.value&&a.value in vi,l=t.meta.layoutTransition??X2;return h0(nf,u&&l,{default:()=>Mt(rf,{suspensible:!0,onResolve:()=>{Nr(o)}},{default:()=>Mt(nD,{layoutProps:hx(e.attrs,{ref:s}),key:a.value||void 0,name:a.value,shouldProvide:!n.name,hasTransition:!!l},e.slots)})}).default()}}}),nD=Br({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(n,e){const r=n.name;return n.shouldProvide&&Yi(qv,{isCurrent:i=>r===(i.meta.layout??"default")}),()=>{var i,t;return!r||typeof r=="string"&&!(r in vi)?(t=(i=e.slots).default)==null?void 0:t.call(i):Mt(rD,{key:r,layoutProps:n.layoutProps,name:r},e.slots)}}});var Ra;typeof window<"u"?Ra=window:typeof Ro<"u"?Ra=Ro:typeof self<"u"?Ra=self:Ra={};var Cu=Ra;const P=Pi(Cu),aD={},sD=Object.freeze(Object.defineProperty({__proto__:null,default:aD},Symbol.toStringTag,{value:"Module"})),oD=b0(sD);var Gm=typeof Ro<"u"?Ro:typeof window<"u"?window:{},uD=oD,Ma;typeof document<"u"?Ma=document:(Ma=Gm["__GLOBAL_DOCUMENT_CACHE@4"],Ma||(Ma=Gm["__GLOBAL_DOCUMENT_CACHE@4"]=uD));var C_=Ma;const K=Pi(C_);function lr(){return lr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},lr.apply(this,arguments)}const lD=Object.freeze(Object.defineProperty({__proto__:null,default:lr},Symbol.toStringTag,{value:"Module"}));var Ed={exports:{}};(function(n,e){function r(u){if(u&&typeof u=="object"){var l=u.which||u.keyCode||u.charCode;l&&(u=l)}if(typeof u=="number")return s[u];var c=String(u),d=i[c.toLowerCase()];if(d)return d;var d=t[c.toLowerCase()];if(d)return d;if(c.length===1)return c.charCodeAt(0)}r.isEventKey=function(l,c){if(l&&typeof l=="object"){var d=l.which||l.keyCode||l.charCode;if(d==null)return!1;if(typeof c=="string"){var f=i[c.toLowerCase()];if(f)return f===d;var f=t[c.toLowerCase()];if(f)return f===d}else if(typeof c=="number")return c===d;return!1}},e=n.exports=r;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},t=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=e.names=e.title={};for(a in i)s[i[a]]=a;for(var o in t)i[o]=t[o]})(Ed,Ed.exports);var cD=Ed.exports;const ce=Pi(cD);function le(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Xn(n,e){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,t){return i.__proto__=t,i},Xn(n,e)}function Y(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Xn(n,e)}var dD=fD;function fD(n,e){var r,i=null;try{r=JSON.parse(n,e)}catch(t){i=t}return[i,r]}const hD=Pi(dD);var Ff={exports:{}};const pD=b0(lD);var mD=vD,gD=Object.prototype.toString;function vD(n){if(!n)return!1;var e=gD.call(n);return e==="[object Function]"||typeof n=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}var _D=Cu,yD=function(e,r){return r===void 0&&(r=!1),function(i,t,a){if(i){e(i);return}if(t.statusCode>=400&&t.statusCode<=599){var s=a;if(r)if(_D.TextDecoder){var o=TD(t.headers&&t.headers["content-type"]);try{s=new TextDecoder(o).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function TD(n){return n===void 0&&(n=""),n.toLowerCase().split(";").reduce(function(e,r){var i=r.split("="),t=i[0],a=i[1];return t.trim()==="charset"?a.trim():e},"utf-8")}var bD=yD,w_=Cu,SD=pD,xD=mD;Or.httpHandler=bD;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var ED=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(i){var t=i.indexOf(":"),a=i.slice(0,t).trim().toLowerCase(),s=i.slice(t+1).trim();typeof r[a]>"u"?r[a]=s:Array.isArray(r[a])?r[a].push(s):r[a]=[r[a],s]}),r};Ff.exports=Or;Ff.exports.default=Or;Or.XMLHttpRequest=w_.XMLHttpRequest||DD;Or.XDomainRequest="withCredentials"in new Or.XMLHttpRequest?Or.XMLHttpRequest:w_.XDomainRequest;CD(["get","put","post","patch","head","delete"],function(n){Or[n==="delete"?"del":n]=function(e,r,i){return r=A_(e,r,i),r.method=n.toUpperCase(),D_(r)}});function CD(n,e){for(var r=0;r<n.length;r++)e(n[r])}function wD(n){for(var e in n)if(n.hasOwnProperty(e))return!1;return!0}function A_(n,e,r){var i=n;return xD(e)?(r=e,typeof n=="string"&&(i={uri:n})):i=SD({},e,{uri:n}),i.callback=r,i}function Or(n,e,r){return e=A_(n,e,r),D_(e)}function D_(n){if(typeof n.callback>"u")throw new Error("callback argument missing");var e=!1,r=function(I,k,D){e||(e=!0,n.callback(I,k,D))};function i(){o.readyState===4&&setTimeout(s,0)}function t(){var C=void 0;if(o.response?C=o.response:C=o.responseText||AD(o),_)try{C=JSON.parse(C)}catch{}return C}function a(C){return clearTimeout(T),C instanceof Error||(C=new Error(""+(C||"Unknown XMLHttpRequest Error"))),C.statusCode=0,r(C,E)}function s(){if(!l){var C;clearTimeout(T),n.useXDR&&o.status===void 0?C=200:C=o.status===1223?204:o.status;var I=E,k=null;return C!==0?(I={body:t(),statusCode:C,method:d,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(I.headers=ED(o.getAllResponseHeaders()))):k=new Error("Internal XMLHttpRequest Error"),r(k,I,I.body)}}var o=n.xhr||null;o||(n.cors||n.useXDR?o=new Or.XDomainRequest:o=new Or.XMLHttpRequest);var u,l,c=o.url=n.uri||n.url,d=o.method=n.method||"GET",f=n.body||n.data,p=o.headers=n.headers||{},y=!!n.sync,_=!1,T,E={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:o};if("json"in n&&n.json!==!1&&(_=!0,p.accept||p.Accept||(p.Accept="application/json"),d!=="GET"&&d!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),f=JSON.stringify(n.json===!0?f:n.json))),o.onreadystatechange=i,o.onload=s,o.onerror=a,o.onprogress=function(){},o.onabort=function(){l=!0},o.ontimeout=a,o.open(d,c,!y,n.username,n.password),y||(o.withCredentials=!!n.withCredentials),!y&&n.timeout>0&&(T=setTimeout(function(){if(!l){l=!0,o.abort("timeout");var C=new Error("XMLHttpRequest timeout");C.code="ETIMEDOUT",a(C)}},n.timeout)),o.setRequestHeader)for(u in p)p.hasOwnProperty(u)&&o.setRequestHeader(u,p[u]);else if(n.headers&&!wD(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(o.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(o),o.send(f||null),o}function AD(n){try{if(n.responseType==="document")return n.responseXML;var e=n.responseXML&&n.responseXML.documentElement.nodeName==="parsererror";if(n.responseType===""&&!e)return n.responseXML}catch{}return null}function DD(){}var kD=Ff.exports;const k_=Pi(kD);var P_={exports:{}},$m=C_,Nf=Object.create||function(){function n(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=e,new n}}();function Jt(n,e){this.name="ParsingError",this.code=n.code,this.message=e||n.message}Jt.prototype=Nf(Error.prototype);Jt.prototype.constructor=Jt;Jt.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Bf(n){function e(i,t,a,s){return(i|0)*3600+(t|0)*60+(a|0)+(s|0)/1e3}var r=n.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function $a(){this.values=Nf(null)}$a.prototype={set:function(n,e){!this.get(n)&&e!==""&&(this.values[n]=e)},get:function(n,e,r){return r?this.has(n)?this.values[n]:e[r]:this.has(n)?this.values[n]:e},has:function(n){return n in this.values},alt:function(n,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(n,e);break}},integer:function(n,e){/^-?\d+$/.test(e)&&this.set(n,parseInt(e,10))},percent:function(n,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(n,e),!0):!1}};function Fa(n,e,r,i){var t=i?n.split(i):[n];for(var a in t)if(typeof t[a]=="string"){var s=t[a].split(r);if(s.length===2){var o=s[0].trim(),u=s[1].trim();e(o,u)}}}function PD(n,e,r){var i=n;function t(){var o=Bf(n);if(o===null)throw new Jt(Jt.Errors.BadTimeStamp,"Malformed timestamp: "+i);return n=n.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,u){var l=new $a;Fa(o,function(c,d){switch(c){case"region":for(var f=r.length-1;f>=0;f--)if(r[f].id===d){l.set(c,r[f].region);break}break;case"vertical":l.alt(c,d,["rl","lr"]);break;case"line":var p=d.split(","),y=p[0];l.integer(c,y),l.percent(c,y)&&l.set("snapToLines",!1),l.alt(c,y,["auto"]),p.length===2&&l.alt("lineAlign",p[1],["start","center","end"]);break;case"position":p=d.split(","),l.percent(c,p[0]),p.length===2&&l.alt("positionAlign",p[1],["start","center","end"]);break;case"size":l.percent(c,d);break;case"align":l.alt(c,d,["start","center","end","left","right"]);break}},/:/,/\s/),u.region=l.get("region",null),u.vertical=l.get("vertical","");try{u.line=l.get("line","auto")}catch{}u.lineAlign=l.get("lineAlign","start"),u.snapToLines=l.get("snapToLines",!0),u.size=l.get("size",100);try{u.align=l.get("align","center")}catch{u.align=l.get("align","middle")}try{u.position=l.get("position","auto")}catch{u.position=l.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},u.align)}u.positionAlign=l.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},u.align)}function s(){n=n.replace(/^\s+/,"")}if(s(),e.startTime=t(),s(),n.substr(0,3)!=="-->")throw new Jt(Jt.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);n=n.substr(3),s(),e.endTime=t(),s(),a(n,e)}var mc=$m.createElement&&$m.createElement("textarea"),ID={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Km={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},OD={v:"title",lang:"lang"},Xm={rt:"ruby"};function I_(n,e){function r(){if(!e)return null;function y(T){return e=e.substr(T.length),T}var _=e.match(/^([^<]*)(<[^>]*>?)?/);return y(_[1]?_[1]:_[2])}function i(y){return mc.innerHTML=y,y=mc.textContent,mc.textContent="",y}function t(y,_){return!Xm[_.localName]||Xm[_.localName]===y.localName}function a(y,_){var T=ID[y];if(!T)return null;var E=n.document.createElement(T),C=OD[y];return C&&_&&(E[C]=_.trim()),E}for(var s=n.document.createElement("div"),o=s,u,l=[];(u=r())!==null;){if(u[0]==="<"){if(u[1]==="/"){l.length&&l[l.length-1]===u.substr(2).replace(">","")&&(l.pop(),o=o.parentNode);continue}var c=Bf(u.substr(1,u.length-2)),d;if(c){d=n.document.createProcessingInstruction("timestamp",c),o.appendChild(d);continue}var f=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f||(d=a(f[1],f[3]),!d)||!t(o,d))continue;if(f[2]){var p=f[2].split(".");p.forEach(function(y){var _=/^bg_/.test(y),T=_?y.slice(3):y;if(Km.hasOwnProperty(T)){var E=_?"background-color":"color",C=Km[T];d.style[E]=C}}),d.className=p.join(" ")}l.push(f[1]),o.appendChild(d),o=d;continue}o.appendChild(n.document.createTextNode(i(u)))}return s}var Ym=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function LD(n){for(var e=0;e<Ym.length;e++){var r=Ym[e];if(n>=r[0]&&n<=r[1])return!0}return!1}function RD(n){var e=[],r="",i;if(!n||!n.childNodes)return"ltr";function t(o,u){for(var l=u.childNodes.length-1;l>=0;l--)o.push(u.childNodes[l])}function a(o){if(!o||!o.length)return null;var u=o.pop(),l=u.textContent||u.innerText;if(l){var c=l.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):l}if(u.tagName==="ruby")return a(o);if(u.childNodes)return t(o,u),a(o)}for(t(e,n);r=a(e);)for(var s=0;s<r.length;s++)if(i=r.charCodeAt(s),LD(i))return"rtl";return"ltr"}function MD(n){if(typeof n.line=="number"&&(n.snapToLines||n.line>=0&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;for(var e=n.track,r=e.textTrackList,i=0,t=0;t<r.length&&r[t]!==e;t++)r[t].mode==="showing"&&i++;return++i*-1}function wu(){}wu.prototype.applyStyles=function(n,e){e=e||this.div;for(var r in n)n.hasOwnProperty(r)&&(e.style[r]=n[r])};wu.prototype.formatStyle=function(n,e){return n===0?0:n+e};function qo(n,e,r){wu.call(this),this.cue=e,this.cueDiv=I_(n,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=n.document.createElement("div"),i={direction:RD(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var t=0;switch(e.positionAlign){case"start":case"line-left":t=e.position;break;case"center":t=e.position-e.size/2;break;case"end":case"line-right":t=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(t,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(t,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}qo.prototype=Nf(wu.prototype);qo.prototype.constructor=qo;function wt(n){var e,r,i,t;if(n.div){r=n.div.offsetHeight,i=n.div.offsetWidth,t=n.div.offsetTop;var a=(a=n.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();n=n.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,n.height/a.length):0}this.left=n.left,this.right=n.right,this.top=n.top||t,this.height=n.height||r,this.bottom=n.bottom||t+(n.height||r),this.width=n.width||i,this.lineHeight=e!==void 0?e:n.lineHeight}wt.prototype.move=function(n,e){switch(e=e!==void 0?e:this.lineHeight,n){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};wt.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};wt.prototype.overlapsAny=function(n){for(var e=0;e<n.length;e++)if(this.overlaps(n[e]))return!0;return!1};wt.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};wt.prototype.overlapsOppositeAxis=function(n,e){switch(e){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};wt.prototype.intersectPercentage=function(n){var e=Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left)),r=Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top)),i=e*r;return i/(this.height*this.width)};wt.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};wt.getSimpleBoxPosition=function(n){var e=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,r=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,i=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n;var t={left:n.left,right:n.right,top:n.top||i,height:n.height||e,bottom:n.bottom||i+(n.height||e),width:n.width||r};return t};function FD(n,e,r,i){function t(T,E){for(var C,I=new wt(T),k=1,D=0;D<E.length;D++){for(;T.overlapsOppositeAxis(r,E[D])||T.within(r)&&T.overlapsAny(i);)T.move(E[D]);if(T.within(r))return T;var N=T.intersectPercentage(r);k>N&&(C=new wt(T),k=N),T=new wt(I)}return C||I}var a=new wt(e),s=e.cue,o=MD(s),u=[];if(s.snapToLines){var l;switch(s.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width";break}var c=a.lineHeight,d=c*Math.round(o),f=r[l]+c,p=u[0];Math.abs(d)>f&&(d=d<0?-1:1,d*=Math.ceil(f/c)*c),o<0&&(d+=s.vertical===""?r.height:r.width,u=u.reverse()),a.move(p,d)}else{var y=a.lineHeight/r.height*100;switch(s.lineAlign){case"center":o-=y/2;break;case"end":o-=y;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}u=["+y","-x","+x","-y"],a=new wt(e)}var _=t(a,u);e.move(_.toCSSCompatValues(r))}function oa(){}oa.StringDecoder=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};oa.convertCueToDOMTree=function(n,e){return!n||!e?null:I_(n,e)};var ND=.05,BD="sans-serif",UD="1.5%";oa.processCues=function(n,e,r){if(!n||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=n.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=UD,r.appendChild(i);function t(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!t(e)){for(var a=0;a<e.length;a++)i.appendChild(e[a].displayState);return}var s=[],o=wt.getSimpleBoxPosition(i),u=Math.round(o.height*ND*100)/100,l={font:u+"px "+BD};(function(){for(var c,d,f=0;f<e.length;f++)d=e[f],c=new qo(n,d,l),i.appendChild(c.div),FD(n,c,o,s),d.displayState=c.div,s.push(wt.getSimpleBoxPosition(c))})()};oa.Parser=function(n,e,r){r||(r=e,e={}),e||(e={}),this.window=n,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};oa.Parser.prototype={reportOrThrowError:function(n){if(n instanceof Jt)this.onparsingerror&&this.onparsingerror(n);else throw n},parse:function(n){var e=this;n&&(e.buffer+=e.decoder.decode(n,{stream:!0}));function r(){for(var c=e.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var f=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,e.buffer=c.substr(d),f}function i(c){var d=new $a;if(Fa(c,function(p,y){switch(p){case"id":d.set(p,y);break;case"width":d.percent(p,y);break;case"lines":d.integer(p,y);break;case"regionanchor":case"viewportanchor":var _=y.split(",");if(_.length!==2)break;var T=new $a;if(T.percent("x",_[0]),T.percent("y",_[1]),!T.has("x")||!T.has("y"))break;d.set(p+"X",T.get("x")),d.set(p+"Y",T.get("y"));break;case"scroll":d.alt(p,y,["up"]);break}},/=/,/\s/),d.has("id")){var f=new(e.vttjs.VTTRegion||e.window.VTTRegion);f.width=d.get("width",100),f.lines=d.get("lines",3),f.regionAnchorX=d.get("regionanchorX",0),f.regionAnchorY=d.get("regionanchorY",100),f.viewportAnchorX=d.get("viewportanchorX",0),f.viewportAnchorY=d.get("viewportanchorY",100),f.scroll=d.get("scroll",""),e.onregion&&e.onregion(f),e.regionList.push({id:d.get("id"),region:f})}}function t(c){var d=new $a;Fa(c,function(f,p){switch(f){case"MPEGT":d.integer(f+"S",p);break;case"LOCA":d.set(f+"L",Bf(p));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function a(c){c.match(/X-TIMESTAMP-MAP/)?Fa(c,function(d,f){switch(d){case"X-TIMESTAMP-MAP":t(f);break}},/=/):Fa(c,function(d,f){switch(d){case"Region":i(f);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=r();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Jt(Jt.Errors.BadSignature);e.state="HEADER"}for(var u=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(u?u=!1:s=r(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{PD(s,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var l=s.indexOf("-->")!==-1;if(!s||l&&(u=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+=`

`,n.parse()),n.state==="INITIAL")throw new Jt(Jt.Errors.BadSignature)}catch(e){n.reportOrThrowError(e)}return n.onflush&&n.onflush(),this}};var jD=oa,VD="auto",HD={"":1,lr:1,rl:1},qD={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function WD(n){if(typeof n!="string")return!1;var e=HD[n.toLowerCase()];return e?n.toLowerCase():!1}function gc(n){if(typeof n!="string")return!1;var e=qD[n.toLowerCase()];return e?n.toLowerCase():!1}function O_(n,e,r){this.hasBeenReset=!1;var i="",t=!1,a=n,s=e,o=r,u=null,l="",c=!0,d="auto",f="start",p="auto",y="auto",_=100,T="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(E){i=""+E}},pauseOnExit:{enumerable:!0,get:function(){return t},set:function(E){t=!!E}},startTime:{enumerable:!0,get:function(){return a},set:function(E){if(typeof E!="number")throw new TypeError("Start time must be set to a number.");a=E,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(E){if(typeof E!="number")throw new TypeError("End time must be set to a number.");s=E,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(E){o=""+E,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(E){u=E,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(E){var C=WD(E);if(C===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=C,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(E){c=!!E,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(E){if(typeof E!="number"&&E!==VD)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=E,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(E){var C=gc(E);C&&(f=C,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return p},set:function(E){if(E<0||E>100)throw new Error("Position must be between 0 and 100.");p=E,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return y},set:function(E){var C=gc(E);C&&(y=C,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return _},set:function(E){if(E<0||E>100)throw new Error("Size must be between 0 and 100.");_=E,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return T},set:function(E){var C=gc(E);if(!C)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");T=C,this.hasBeenReset=!0}}}),this.displayState=void 0}O_.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var zD=O_,GD={"":!0,up:!0};function $D(n){if(typeof n!="string")return!1;var e=GD[n.toLowerCase()];return e?n.toLowerCase():!1}function Ca(n){return typeof n=="number"&&n>=0&&n<=100}function KD(){var n=100,e=3,r=0,i=100,t=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(o){if(!Ca(o))throw new Error("Width must be between 0 and 100.");n=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Ca(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Ca(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(o){if(!Ca(o))throw new Error("ViewportAnchorY must be between 0 and 100.");a=o}},viewportAnchorX:{enumerable:!0,get:function(){return t},set:function(o){if(!Ca(o))throw new Error("ViewportAnchorX must be between 0 and 100.");t=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var u=$D(o);u===!1||(s=u)}}})}var XD=KD,ni=Cu,fn=P_.exports={WebVTT:jD,VTTCue:zD,VTTRegion:XD};ni.vttjs=fn;ni.WebVTT=fn.WebVTT;var YD=fn.VTTCue,QD=fn.VTTRegion,JD=ni.VTTCue,ZD=ni.VTTRegion;fn.shim=function(){ni.VTTCue=YD,ni.VTTRegion=QD};fn.restore=function(){ni.VTTCue=JD,ni.VTTRegion=ZD};ni.VTTCue||fn.shim();var ek=P_.exports;const Qm=Pi(ek);function L_(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L_=function(){return!!n})()}function R_(n,e,r){if(L_())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var t=new(n.bind.apply(n,i));return r&&Xn(t,r.prototype),t}function tk(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Xn(n,e)}var M_={exports:{}};(function(n,e){(function(r){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,t=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(u,l,c){if(c=c||{},u=u.trim(),l=l.trim(),!l){if(!c.alwaysNormalize)return u;var d=o.parseURL(u);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):l;var p=o.parseURL(u);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var y=t.exec(p.path);p.netLoc=y[1],p.path=y[2]}p.netLoc&&!p.path&&(p.path="/");var _={scheme:p.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(_.netLoc=p.netLoc,f.path[0]!=="/"))if(!f.path)_.path=p.path,f.params||(_.params=p.params,f.query||(_.query=p.query));else{var T=p.path,E=T.substring(0,T.lastIndexOf("/")+1)+f.path;_.path=o.normalizePath(E)}return _.path===null&&(_.path=c.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(_)},parseURL:function(u){var l=i.exec(u);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(a,"");u.length!==(u=u.replace(s,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};n.exports=o})()})(M_);var rk=M_.exports;const Jm=Pi(rk);var Zm="http://example.com",Au=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=P.location&&P.location.href||"");var i=typeof P.URL=="function",t=/^\/\//.test(e),a=!P.location&&!/\/\//i.test(e);if(i?e=new P.URL(e,P.location||Zm):/\/\//i.test(e)||(e=Jm.buildAbsoluteURL(P.location&&P.location.href||"",e)),i){var s=new URL(r,e);return a?s.href.slice(Zm.length):t?s.href.slice(s.protocol.length):s.href}return Jm.buildAbsoluteURL(e,r)},Uf=function(){function n(){this.listeners={}}var e=n.prototype;return e.on=function(i,t){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(t)},e.off=function(i,t){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(t);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},e.trigger=function(i){var t=this.listeners[i];if(t)if(arguments.length===2)for(var a=t.length,s=0;s<a;++s)t[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),u=t.length,l=0;l<u;++l)t[l].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(t){i.push(t)})},n}(),ik=function(e){return P.atob?P.atob(e):Buffer.from(e,"base64").toString("binary")};function F_(n){for(var e=ik(n),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var nk=function(n){Y(e,n);function e(){var i;return i=n.call(this)||this,i.buffer="",i}var r=e.prototype;return r.push=function(t){var a;for(this.buffer+=t,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(Uf),ak="	",vc=function(e){var r=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return r[1]&&(i.length=parseInt(r[1],10)),r[2]&&(i.offset=parseInt(r[2],10)),i},sk=function(){var e="[^=]*",r='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+r+")";return new RegExp("(?:^|,)("+i+")")},fr=function(e){for(var r=e.split(sk()),i={},t=r.length,a;t--;)r[t]!==""&&(a=/([^=]*)=(.*)/.exec(r[t]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),i[a[0]]=a[1]);return i},ok=function(n){Y(e,n);function e(){var i;return i=n.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var r=e.prototype;return r.push=function(t){var a=this,s,o;if(t=t.trim(),t.length!==0){if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}var u=this.tagMappers.reduce(function(l,c){var d=c(t);return d===t?l:l.concat([d])},[t]);u.forEach(function(l){for(var c=0;c<a.customParsers.length;c++)if(a.customParsers[c].call(a,l))return;if(l.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:l.slice(1)});return}if(l=l.replace("\r",""),s=/^#EXTM3U/.exec(l),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(l),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),a.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),a.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(l),s){o=lr(vc(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(l),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(l),s){if(o={type:"tag",tagType:"map"},s[1]){var d=fr(s[1]);d.URI&&(o.uri=d.URI),d.BYTERANGE&&(o.byterange=vc(d.BYTERANGE))}a.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(l),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=fr(s[1]),o.attributes.RESOLUTION){var f=o.attributes.RESOLUTION.split("x"),p={};f[0]&&(p.width=parseInt(f[0],10)),f[1]&&(p.height=parseInt(f[1],10)),o.attributes.RESOLUTION=p}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["FRAME-RATE"]&&(o.attributes["FRAME-RATE"]=parseFloat(o.attributes["FRAME-RATE"])),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(l),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=fr(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(l),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(l),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(l),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(l),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=fr(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),a.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(l),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=fr(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"skip"},o.attributes=fr(s[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(ak)),a.trigger("data",o);return}if(s=/^#EXT-X-PART:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"part"},o.attributes=fr(s[1]),["DURATION"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),["INDEPENDENT","GAP"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=/YES/.test(o.attributes[y]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=vc(o.attributes.BYTERANGE)),a.trigger("data",o);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"server-control"},o.attributes=fr(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=/YES/.test(o.attributes[y]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"part-inf"},o.attributes=fr(s[1]),["PART-TARGET"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=fr(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(y){if(o.attributes.hasOwnProperty(y)){o.attributes[y]=parseInt(o.attributes[y],10);var _=y==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[_]=o.attributes[y],delete o.attributes[y]}}),a.trigger("data",o);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=fr(s[1]),["LAST-MSN","LAST-PART"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseInt(o.attributes[y],10))}),a.trigger("data",o);return}a.trigger("data",{type:"tag",data:l.slice(4)})})}},r.addParser=function(t){var a=this,s=t.expression,o=t.customType,u=t.dataParser,l=t.segment;typeof u!="function"&&(u=function(d){return d}),this.customParsers.push(function(c){var d=s.exec(c);if(d)return a.trigger("data",{type:"custom",data:u(c),customType:o,segment:l}),!0})},r.addTagMapper=function(t){var a=t.expression,s=t.map,o=function(l){return a.test(l)?s(l):l};this.tagMappers.push(o)},e}(Uf),uk=function(e){return e.toLowerCase().replace(/-(\w)/g,function(r){return r[1].toUpperCase()})},yn=function(e){var r={};return Object.keys(e).forEach(function(i){r[uk(i)]=e[i]}),r},_c=function(e){var r=e.serverControl,i=e.targetDuration,t=e.partTargetDuration;if(r){var a="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",u=i&&i*3,l=t&&t*2;i&&!r.hasOwnProperty(s)&&(r[s]=u,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+u+")."})),u&&r[s]<u&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+r[s]+") to targetDuration * 3 ("+u+")"}),r[s]=u),t&&!r.hasOwnProperty(o)&&(r[o]=t*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[o]+")."})),t&&r[o]<l&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+r[o]+") to partTargetDuration * 2 ("+l+")."}),r[o]=l)}},lk=function(n){Y(e,n);function e(){var i;i=n.call(this)||this,i.lineStream=new nk,i.parseStream=new ok,i.lineStream.pipe(i.parseStream);var t=le(i),a=[],s={},o,u,l=!1,c=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",p=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var y=0,_=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&u&&(s.key=u),!s.timeline&&typeof p=="number"&&(s.timeline=p),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(T){var E,C;({tag:function(){({version:function(){T.version&&(this.manifest.version=T.version)},"allow-cache":function(){this.manifest.allowCache=T.allowed,"allowed"in T||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var D={};"length"in T&&(s.byterange=D,D.length=T.length,"offset"in T||(T.offset=y)),"offset"in T&&(s.byterange=D,D.offset=T.offset),y=D.offset+D.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),T.duration>0&&(s.duration=T.duration),T.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!T.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(T.attributes.METHOD==="NONE"){u=null;return}if(!T.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(T.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:T.attributes};return}if(T.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:T.attributes.URI};return}if(T.attributes.KEYFORMAT===f){var D=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(D.indexOf(T.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(T.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),T.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(T.attributes.KEYID&&T.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:T.attributes.KEYFORMAT,keyId:T.attributes.KEYID.substring(2)},pssh:F_(T.attributes.URI.split(",")[1])};return}T.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:T.attributes.METHOD||"AES-128",uri:T.attributes.URI},typeof T.attributes.IV<"u"&&(u.iv=T.attributes.IV)},"media-sequence":function(){if(!isFinite(T.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+T.number});return}this.manifest.mediaSequence=T.number},"discontinuity-sequence":function(){if(!isFinite(T.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+T.number});return}this.manifest.discontinuitySequence=T.number,p=T.number},"playlist-type":function(){if(!/VOD|EVENT/.test(T.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+T.playlist});return}this.manifest.playlistType=T.playlistType},map:function(){o={},T.uri&&(o.uri=T.uri),T.byterange&&(o.byterange=T.byterange),u&&(o.key=u)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||d,!T.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),lr(s.attributes,T.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,!(T.attributes&&T.attributes.TYPE&&T.attributes["GROUP-ID"]&&T.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var D=this.manifest.mediaGroups[T.attributes.TYPE];D[T.attributes["GROUP-ID"]]=D[T.attributes["GROUP-ID"]]||{},E=D[T.attributes["GROUP-ID"]],C={default:/yes/i.test(T.attributes.DEFAULT)},C.default?C.autoselect=!0:C.autoselect=/yes/i.test(T.attributes.AUTOSELECT),T.attributes.LANGUAGE&&(C.language=T.attributes.LANGUAGE),T.attributes.URI&&(C.uri=T.attributes.URI),T.attributes["INSTREAM-ID"]&&(C.instreamId=T.attributes["INSTREAM-ID"]),T.attributes.CHARACTERISTICS&&(C.characteristics=T.attributes.CHARACTERISTICS),T.attributes.FORCED&&(C.forced=/yes/i.test(T.attributes.FORCED)),E[T.attributes.NAME]=C},discontinuity:function(){p+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=T.dateTimeString,this.manifest.dateTimeObject=T.dateTimeObject),s.dateTimeString=T.dateTimeString,s.dateTimeObject=T.dateTimeObject},targetduration:function(){if(!isFinite(T.duration)||T.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+T.duration});return}this.manifest.targetDuration=T.duration,_c.call(this,this.manifest)},start:function(){if(!T.attributes||isNaN(T.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:T.attributes["TIME-OFFSET"],precise:T.attributes.PRECISE}},"cue-out":function(){s.cueOut=T.data},"cue-out-cont":function(){s.cueOutCont=T.data},"cue-in":function(){s.cueIn=T.data},skip:function(){this.manifest.skip=yn(T.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",T.attributes,["SKIPPED-SEGMENTS"])},part:function(){var D=this;l=!0;var N=this.manifest.segments.length,M=yn(T.attributes);s.parts=s.parts||[],s.parts.push(M),M.byterange&&(M.byterange.hasOwnProperty("offset")||(M.byterange.offset=_),_=M.byterange.offset+M.byterange.length);var L=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+L+" for segment #"+N,T.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(O,j){O.hasOwnProperty("lastPart")||D.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+j+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var D=this.manifest.serverControl=yn(T.attributes);D.hasOwnProperty("canBlockReload")||(D.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),_c.call(this,this.manifest),D.canSkipDateranges&&!D.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var D=this.manifest.segments.length,N=yn(T.attributes),M=N.type&&N.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(N),N.byterange&&(N.byterange.hasOwnProperty("offset")||(N.byterange.offset=M?_:0,M&&(_=N.byterange.offset+N.byterange.length)));var L=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+L+" for segment #"+D,T.attributes,["TYPE","URI"]),!!N.type)for(var O=0;O<s.preloadHints.length-1;O++){var j=s.preloadHints[O];j.type&&j.type===N.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+L+" for segment #"+D+" has the same TYPE "+N.type+" as preload hint #"+O})}},"rendition-report":function(){var D=yn(T.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(D);var N=this.manifest.renditionReports.length-1,M=["LAST-MSN","URI"];l&&M.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+N,T.attributes,M)},"part-inf":function(){this.manifest.partInf=yn(T.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",T.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),_c.call(this,this.manifest)}}[T.tagType]||c).call(t)},uri:function(){s.uri=T.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),u&&(s.key=u),s.timeline=p,o&&(s.map=o),_=0,s={}},comment:function(){},custom:function(){T.segment?(s.custom=s.custom||{},s.custom[T.customType]=T.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[T.customType]=T.data)}})[T.type].call(t)}),i}var r=e.prototype;return r.warnOnMissingAttributes_=function(t,a,s){var o=[];s.forEach(function(u){a.hasOwnProperty(u)||o.push(u)}),o.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+o.join(", ")})},r.push=function(t){this.lineStream.push(t)},r.end=function(){this.lineStream.push(`
`),this.trigger("end")},r.addParser=function(t){this.parseStream.addParser(t)},r.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(Uf),tn={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},ck=["video","audio","text"],eg=["Video","Audio","Text"],N_=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,i,t){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(t).toString(16)).slice(-2);return"avc1."+a+"00"+s})},Er=function(e){e===void 0&&(e="");var r=e.split(","),i=[];return r.forEach(function(t){t=t.trim();var a;ck.forEach(function(s){var o=tn[s].exec(t.toLowerCase());if(!(!o||o.length<=1)){a=s;var u=t.substring(0,o[1].length),l=t.replace(u,"");i.push({type:u,details:l,mediaType:s})}}),a||i.push({type:t,details:"",mediaType:"unknown"})}),i},dk=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var i=e.mediaGroups.AUDIO[r];if(!i)return null;for(var t in i){var a=i[t];if(a.default&&a.playlists)return Er(a.playlists[0].attributes.CODECS)}return null},B_=function(e){return e===void 0&&(e=""),tn.audio.test(e.trim().toLowerCase())},fk=function(e){return e===void 0&&(e=""),tn.text.test(e.trim().toLowerCase())},us=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(a){return N_(a.trim())}),i="video";r.length===1&&B_(r[0])?i="audio":r.length===1&&fk(r[0])&&(i="application");var t="mp4";return r.every(function(a){return tn.mp4.test(a)})?t="mp4":r.every(function(a){return tn.webm.test(a)})?t="webm":r.every(function(a){return tn.ogg.test(a)})&&(t="ogg"),i+"/"+t+';codecs="'+e+'"'}},So=function(e){return e===void 0&&(e=""),P.MediaSource&&P.MediaSource.isTypeSupported&&P.MediaSource.isTypeSupported(us(e))||!1},yc=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var i=0;i<eg.length;i++){var t=eg[i];if(tn["muxer"+t].test(r))return!0}return!1})},tg="mp4a.40.2",hk="avc1.4d400d",pk=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,mk=/^application\/dash\+xml/i,U_=function(e){return pk.test(e)?"hls":mk.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},gk=function(e){return e.toString(2).length},vk=function(e){return Math.ceil(gk(e)/8)},j_=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},_k=function(e){return j_(e)},oe=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!_k(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},dt=P.BigInt||Number,Cd=[dt("0x1"),dt("0x100"),dt("0x10000"),dt("0x1000000"),dt("0x100000000"),dt("0x10000000000"),dt("0x1000000000000"),dt("0x100000000000000"),dt("0x10000000000000000")];(function(){var n=new Uint16Array([65484]),e=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var yk=function(e,r){var i=r===void 0?{}:r,t=i.signed,a=t===void 0?!1:t,s=i.le,o=s===void 0?!1:s;e=oe(e);var u=o?"reduce":"reduceRight",l=e[u]?e[u]:Array.prototype[u],c=l.call(e,function(f,p,y){var _=o?y:Math.abs(y+1-e.length);return f+dt(p)*Cd[_]},dt(0));if(a){var d=Cd[e.length]/dt(2)-dt(1);c=dt(c),c>d&&(c-=d,c-=d,c-=dt(2))}return Number(c)},Tk=function(e,r){var i={},t=i.le,a=t===void 0?!1:t;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=dt(e);for(var s=vk(e),o=new Uint8Array(new ArrayBuffer(s)),u=0;u<s;u++){var l=a?u:Math.abs(u+1-o.length);o[l]=Number(e/Cd[u]&dt(255)),e<0&&(o[l]=Math.abs(~o[l]),o[l]-=u===0?1:2)}return o},V_=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i},bk=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return oe(r[0]);var t=r.reduce(function(o,u,l){return o+(u.byteLength||u.length)},0),a=new Uint8Array(t),s=0;return r.forEach(function(o){o=oe(o),a.set(o,s),s+=o.byteLength}),a},Re=function(e,r,i){var t=i===void 0?{}:i,a=t.offset,s=a===void 0?0:a,o=t.mask,u=o===void 0?[]:o;e=oe(e),r=oe(r);var l=r.every?r.every:Array.prototype.every;return r.length&&e.length-s>=r.length&&l.call(r,function(c,d){var f=u[d]?u[d]&e[s+d]:e[s+d];return c===f})},Sk=function(e,r,i){r.forEach(function(t){for(var a in e.mediaGroups[t])for(var s in e.mediaGroups[t][a]){var o=e.mediaGroups[t][a][s];i(o,t,a,s)}})},Oi={},li={};function xk(n,e,r){if(r===void 0&&(r=Array.prototype),n&&typeof r.find=="function")return r.find.call(n,e);for(var i=0;i<n.length;i++)if(Object.prototype.hasOwnProperty.call(n,i)){var t=n[i];if(e.call(void 0,t,i,n))return t}}function jf(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function Ek(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var H_=jf({HTML:"text/html",isHTML:function(n){return n===H_.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),q_=jf({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===q_.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});li.assign=Ek;li.find=xk;li.freeze=jf;li.MIME_TYPE=H_;li.NAMESPACE=q_;var W_=li,Lr=W_.find,ls=W_.NAMESPACE;function Ck(n){return n!==""}function wk(n){return n?n.split(/[\t\n\f\r ]+/).filter(Ck):[]}function Ak(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function rg(n){if(!n)return[];var e=wk(n);return Object.keys(e.reduce(Ak,{}))}function Dk(n){return function(e){return n&&n.indexOf(e)!==-1}}function Ss(n,e){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}function Vt(n,e){var r=n.prototype;if(!(r instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,Ss(r,i),n.prototype=r=i}r.constructor!=n&&(r.constructor=n)}var Ht={},gr=Ht.ELEMENT_NODE=1,Yn=Ht.ATTRIBUTE_NODE=2,Wo=Ht.TEXT_NODE=3,z_=Ht.CDATA_SECTION_NODE=4,G_=Ht.ENTITY_REFERENCE_NODE=5,kk=Ht.ENTITY_NODE=6,$_=Ht.PROCESSING_INSTRUCTION_NODE=7,K_=Ht.COMMENT_NODE=8,X_=Ht.DOCUMENT_NODE=9,Y_=Ht.DOCUMENT_TYPE_NODE=10,ai=Ht.DOCUMENT_FRAGMENT_NODE=11,Pk=Ht.NOTATION_NODE=12,Tt={},ot={};Tt.INDEX_SIZE_ERR=(ot[1]="Index size error",1);Tt.DOMSTRING_SIZE_ERR=(ot[2]="DOMString size error",2);var Lt=Tt.HIERARCHY_REQUEST_ERR=(ot[3]="Hierarchy request error",3);Tt.WRONG_DOCUMENT_ERR=(ot[4]="Wrong document",4);Tt.INVALID_CHARACTER_ERR=(ot[5]="Invalid character",5);Tt.NO_DATA_ALLOWED_ERR=(ot[6]="No data allowed",6);Tt.NO_MODIFICATION_ALLOWED_ERR=(ot[7]="No modification allowed",7);var Q_=Tt.NOT_FOUND_ERR=(ot[8]="Not found",8);Tt.NOT_SUPPORTED_ERR=(ot[9]="Not supported",9);var ig=Tt.INUSE_ATTRIBUTE_ERR=(ot[10]="Attribute in use",10);Tt.INVALID_STATE_ERR=(ot[11]="Invalid state",11);Tt.SYNTAX_ERR=(ot[12]="Syntax error",12);Tt.INVALID_MODIFICATION_ERR=(ot[13]="Invalid modification",13);Tt.NAMESPACE_ERR=(ot[14]="Invalid namespace",14);Tt.INVALID_ACCESS_ERR=(ot[15]="Invalid access",15);function Qe(n,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,ot[n]),this.message=ot[n],Error.captureStackTrace&&Error.captureStackTrace(this,Qe);return r.code=n,e&&(this.message=this.message+": "+e),r}Qe.prototype=Error.prototype;Ss(Tt,Qe);function Zr(){}Zr.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,e){for(var r=[],i=0;i<this.length;i++)In(this[i],r,n,e);return r.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function Qn(n,e){this._node=n,this._refresh=e,Vf(this)}function Vf(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==e){var r=n._refresh(n._node);if(ly(n,"length",r.length),!n.$$length||r.length<n.$$length)for(var i=r.length;i in n;i++)Object.prototype.hasOwnProperty.call(n,i)&&delete n[i];Ss(r,n),n._inc=e}}Qn.prototype.item=function(n){return Vf(this),this[n]||null};Vt(Qn,Zr);function zo(){}function J_(n,e){for(var r=n.length;r--;)if(n[r]===e)return r}function ng(n,e,r,i){if(i?e[J_(e,i)]=r:e[e.length++]=r,n){r.ownerElement=n;var t=n.ownerDocument;t&&(i&&ty(t,n,i),Ik(t,n,r))}}function ag(n,e,r){var i=J_(e,r);if(i>=0){for(var t=e.length-1;i<t;)e[i]=e[++i];if(e.length=t,n){var a=n.ownerDocument;a&&(ty(a,n,r),r.ownerElement=null)}}else throw new Qe(Q_,new Error(n.tagName+"@"+r))}zo.prototype={length:0,item:Zr.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==n)return r}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new Qe(ig);var r=this.getNamedItem(n.nodeName);return ng(this._ownerElement,this,n,r),r},setNamedItemNS:function(n){var e=n.ownerElement,r;if(e&&e!=this._ownerElement)throw new Qe(ig);return r=this.getNamedItemNS(n.namespaceURI,n.localName),ng(this._ownerElement,this,n,r),r},removeNamedItem:function(n){var e=this.getNamedItem(n);return ag(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var r=this.getNamedItemNS(n,e);return ag(this._ownerElement,this,r),r},getNamedItemNS:function(n,e){for(var r=this.length;r--;){var i=this[r];if(i.localName==e&&i.namespaceURI==n)return i}return null}};function Z_(){}Z_.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,r){var i=new xs;if(i.implementation=this,i.childNodes=new Zr,i.doctype=r||null,r&&i.appendChild(r),e){var t=i.createElementNS(n,e);i.appendChild(t)}return i},createDocumentType:function(n,e,r){var i=new Du;return i.name=n,i.nodeName=n,i.publicId=e||"",i.systemId=r||"",i}};function Ee(){}Ee.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return Go(this,n,e)},replaceChild:function(n,e){Go(this,n,e,iy),e&&this.removeChild(e)},removeChild:function(n){return ry(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return wd(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==Wo&&n.nodeType==Wo?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var r=e._nsMap;if(r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&r[i]===n)return i}e=e.nodeType==Yn?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n];e=e.nodeType==Yn?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function ey(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}Ss(Ht,Ee);Ss(Ht,Ee.prototype);function cs(n,e){if(e(n))return!0;if(n=n.firstChild)do if(cs(n,e))return!0;while(n=n.nextSibling)}function xs(){this.ownerDocument=this}function Ik(n,e,r){n&&n._inc++;var i=r.namespaceURI;i===ls.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function ty(n,e,r,i){n&&n._inc++;var t=r.namespaceURI;t===ls.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function Hf(n,e,r){if(n&&n._inc){n._inc++;var i=e.childNodes;if(r)i[i.length++]=r;else{for(var t=e.firstChild,a=0;t;)i[a++]=t,t=t.nextSibling;i.length=a,delete i[i.length]}}}function ry(n,e){var r=e.previousSibling,i=e.nextSibling;return r?r.nextSibling=i:n.firstChild=i,i?i.previousSibling=r:n.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Hf(n.ownerDocument,n),e}function Ok(n){return n&&(n.nodeType===Ee.DOCUMENT_NODE||n.nodeType===Ee.DOCUMENT_FRAGMENT_NODE||n.nodeType===Ee.ELEMENT_NODE)}function Lk(n){return n&&(Rr(n)||qf(n)||si(n)||n.nodeType===Ee.DOCUMENT_FRAGMENT_NODE||n.nodeType===Ee.COMMENT_NODE||n.nodeType===Ee.PROCESSING_INSTRUCTION_NODE)}function si(n){return n&&n.nodeType===Ee.DOCUMENT_TYPE_NODE}function Rr(n){return n&&n.nodeType===Ee.ELEMENT_NODE}function qf(n){return n&&n.nodeType===Ee.TEXT_NODE}function sg(n,e){var r=n.childNodes||[];if(Lr(r,Rr)||si(e))return!1;var i=Lr(r,si);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function og(n,e){var r=n.childNodes||[];function i(a){return Rr(a)&&a!==e}if(Lr(r,i))return!1;var t=Lr(r,si);return!(e&&t&&r.indexOf(t)>r.indexOf(e))}function Rk(n,e,r){if(!Ok(n))throw new Qe(Lt,"Unexpected parent node type "+n.nodeType);if(r&&r.parentNode!==n)throw new Qe(Q_,"child not in parent");if(!Lk(e)||si(e)&&n.nodeType!==Ee.DOCUMENT_NODE)throw new Qe(Lt,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function Mk(n,e,r){var i=n.childNodes||[],t=e.childNodes||[];if(e.nodeType===Ee.DOCUMENT_FRAGMENT_NODE){var a=t.filter(Rr);if(a.length>1||Lr(t,qf))throw new Qe(Lt,"More than one element or text in fragment");if(a.length===1&&!sg(n,r))throw new Qe(Lt,"Element in fragment can not be inserted before doctype")}if(Rr(e)&&!sg(n,r))throw new Qe(Lt,"Only one element can be added and only after doctype");if(si(e)){if(Lr(i,si))throw new Qe(Lt,"Only one doctype is allowed");var s=Lr(i,Rr);if(r&&i.indexOf(s)<i.indexOf(r))throw new Qe(Lt,"Doctype can only be inserted before an element");if(!r&&s)throw new Qe(Lt,"Doctype can not be appended since element is present")}}function iy(n,e,r){var i=n.childNodes||[],t=e.childNodes||[];if(e.nodeType===Ee.DOCUMENT_FRAGMENT_NODE){var a=t.filter(Rr);if(a.length>1||Lr(t,qf))throw new Qe(Lt,"More than one element or text in fragment");if(a.length===1&&!og(n,r))throw new Qe(Lt,"Element in fragment can not be inserted before doctype")}if(Rr(e)&&!og(n,r))throw new Qe(Lt,"Only one element can be added and only after doctype");if(si(e)){if(Lr(i,function(u){return si(u)&&u!==r}))throw new Qe(Lt,"Only one doctype is allowed");var s=Lr(i,Rr);if(r&&i.indexOf(s)<i.indexOf(r))throw new Qe(Lt,"Doctype can only be inserted before an element")}}function Go(n,e,r,i){Rk(n,e,r),n.nodeType===Ee.DOCUMENT_NODE&&(i||Mk)(n,e,r);var t=e.parentNode;if(t&&t.removeChild(e),e.nodeType===ai){var a=e.firstChild;if(a==null)return e;var s=e.lastChild}else a=s=e;var o=r?r.previousSibling:n.lastChild;a.previousSibling=o,s.nextSibling=r,o?o.nextSibling=a:n.firstChild=a,r==null?n.lastChild=s:r.previousSibling=s;do a.parentNode=n;while(a!==s&&(a=a.nextSibling));return Hf(n.ownerDocument||n,n),e.nodeType==ai&&(e.firstChild=e.lastChild=null),e}function Fk(n,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,Hf(n.ownerDocument,n,e),e}xs.prototype={nodeName:"#document",nodeType:X_,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==ai){for(var r=n.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,e),r=i}return n}return Go(this,n,e),n.ownerDocument=this,this.documentElement===null&&n.nodeType===gr&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),ry(this,n)},replaceChild:function(n,e){Go(this,n,e,iy),n.ownerDocument=this,e&&this.removeChild(e),Rr(n)&&(this.documentElement=n)},importNode:function(n,e){return uy(this,n,e)},getElementById:function(n){var e=null;return cs(this.documentElement,function(r){if(r.nodeType==gr&&r.getAttribute("id")==n)return e=r,!0}),e},getElementsByClassName:function(n){var e=rg(n);return new Qn(this,function(r){var i=[];return e.length>0&&cs(r.documentElement,function(t){if(t!==r&&t.nodeType===gr){var a=t.getAttribute("class");if(a){var s=n===a;if(!s){var o=rg(a);s=e.every(Dk(o))}s&&i.push(t)}}}),i})},createElement:function(n){var e=new un;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new Zr;var r=e.attributes=new zo;return r._ownerElement=e,e},createDocumentFragment:function(){var n=new ku;return n.ownerDocument=this,n.childNodes=new Zr,n},createTextNode:function(n){var e=new Wf;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new zf;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new Gf;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var r=new Kf;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=n,r.nodeValue=r.data=e,r},createAttribute:function(n){var e=new $o;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new $f;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var r=new un,i=e.split(":"),t=r.attributes=new zo;return r.childNodes=new Zr,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=n,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,t._ownerElement=r,r},createAttributeNS:function(n,e){var r=new $o,i=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=n,r.specified=!0,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,r}};Vt(xs,Ee);function un(){this._nsMap={}}un.prototype={nodeType:gr,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var r=this.ownerDocument.createAttribute(n);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===ai?this.insertBefore(n,null):Fk(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var r=this.getAttributeNodeNS(n,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var r=this.getAttributeNodeNS(n,e);return r&&r.value||""},setAttributeNS:function(n,e,r){var i=this.ownerDocument.createAttributeNS(n,e);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new Qn(this,function(e){var r=[];return cs(e,function(i){i!==e&&i.nodeType==gr&&(n==="*"||i.tagName==n)&&r.push(i)}),r})},getElementsByTagNameNS:function(n,e){return new Qn(this,function(r){var i=[];return cs(r,function(t){t!==r&&t.nodeType===gr&&(n==="*"||t.namespaceURI===n)&&(e==="*"||t.localName==e)&&i.push(t)}),i})}};xs.prototype.getElementsByTagName=un.prototype.getElementsByTagName;xs.prototype.getElementsByTagNameNS=un.prototype.getElementsByTagNameNS;Vt(un,Ee);function $o(){}$o.prototype.nodeType=Yn;Vt($o,Ee);function Es(){}Es.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(ot[Lt])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,r){var i=this.data.substring(0,n),t=this.data.substring(n+e);r=i+r+t,this.nodeValue=this.data=r,this.length=r.length}};Vt(Es,Ee);function Wf(){}Wf.prototype={nodeName:"#text",nodeType:Wo,splitText:function(n){var e=this.data,r=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};Vt(Wf,Es);function zf(){}zf.prototype={nodeName:"#comment",nodeType:K_};Vt(zf,Es);function Gf(){}Gf.prototype={nodeName:"#cdata-section",nodeType:z_};Vt(Gf,Es);function Du(){}Du.prototype.nodeType=Y_;Vt(Du,Ee);function ny(){}ny.prototype.nodeType=Pk;Vt(ny,Ee);function ay(){}ay.prototype.nodeType=kk;Vt(ay,Ee);function $f(){}$f.prototype.nodeType=G_;Vt($f,Ee);function ku(){}ku.prototype.nodeName="#document-fragment";ku.prototype.nodeType=ai;Vt(ku,Ee);function Kf(){}Kf.prototype.nodeType=$_;Vt(Kf,Ee);function sy(){}sy.prototype.serializeToString=function(n,e,r){return oy.call(n,e,r)};Ee.prototype.toString=oy;function oy(n,e){var r=[],i=this.nodeType==9&&this.documentElement||this,t=i.prefix,a=i.namespaceURI;if(a&&t==null){var t=i.lookupPrefix(a);if(t==null)var s=[{namespace:a,prefix:null}]}return In(this,r,n,e,s),r.join("")}function ug(n,e,r){var i=n.prefix||"",t=n.namespaceURI;if(!t||i==="xml"&&t===ls.XML||t===ls.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===i)return s.namespace!==t}return!0}function Tc(n,e,r){n.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,ey),'"')}function In(n,e,r,i,t){if(t||(t=[]),i)if(n=i(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case gr:var a=n.attributes,s=a.length,E=n.firstChild,o=n.tagName;r=ls.isHTML(n.namespaceURI)||r;var u=o;if(!r&&!n.prefix&&n.namespaceURI){for(var l,c=0;c<a.length;c++)if(a.item(c).name==="xmlns"){l=a.item(c).value;break}if(!l)for(var d=t.length-1;d>=0;d--){var f=t[d];if(f.prefix===""&&f.namespace===n.namespaceURI){l=f.namespace;break}}if(l!==n.namespaceURI)for(var d=t.length-1;d>=0;d--){var f=t[d];if(f.namespace===n.namespaceURI){f.prefix&&(u=f.prefix+":"+o);break}}}e.push("<",u);for(var p=0;p<s;p++){var y=a.item(p);y.prefix=="xmlns"?t.push({prefix:y.localName,namespace:y.value}):y.nodeName=="xmlns"&&t.push({prefix:"",namespace:y.value})}for(var p=0;p<s;p++){var y=a.item(p);if(ug(y,r,t)){var _=y.prefix||"",T=y.namespaceURI;Tc(e,_?"xmlns:"+_:"xmlns",T),t.push({prefix:_,namespace:T})}In(y,e,r,i,t)}if(o===u&&ug(n,r,t)){var _=n.prefix||"",T=n.namespaceURI;Tc(e,_?"xmlns:"+_:"xmlns",T),t.push({prefix:_,namespace:T})}if(E||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),r&&/^script$/i.test(o))for(;E;)E.data?e.push(E.data):In(E,e,r,i,t.slice()),E=E.nextSibling;else for(;E;)In(E,e,r,i,t.slice()),E=E.nextSibling;e.push("</",u,">")}else e.push("/>");return;case X_:case ai:for(var E=n.firstChild;E;)In(E,e,r,i,t.slice()),E=E.nextSibling;return;case Yn:return Tc(e,n.name,n.value);case Wo:return e.push(n.data.replace(/[<&>]/g,ey));case z_:return e.push("<![CDATA[",n.data,"]]>");case K_:return e.push("<!--",n.data,"-->");case Y_:var C=n.publicId,I=n.systemId;if(e.push("<!DOCTYPE ",n.name),C)e.push(" PUBLIC ",C),I&&I!="."&&e.push(" ",I),e.push(">");else if(I&&I!=".")e.push(" SYSTEM ",I,">");else{var k=n.internalSubset;k&&e.push(" [",k,"]"),e.push(">")}return;case $_:return e.push("<?",n.target," ",n.data,"?>");case G_:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function uy(n,e,r){var i;switch(e.nodeType){case gr:i=e.cloneNode(!1),i.ownerDocument=n;case ai:break;case Yn:r=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=n,i.parentNode=null,r)for(var t=e.firstChild;t;)i.appendChild(uy(n,t,r)),t=t.nextSibling;return i}function wd(n,e,r){var i=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=e[t];typeof a!="object"&&a!=i[t]&&(i[t]=a)}switch(e.childNodes&&(i.childNodes=new Zr),i.ownerDocument=n,i.nodeType){case gr:var s=e.attributes,o=i.attributes=new zo,u=s.length;o._ownerElement=i;for(var l=0;l<u;l++)i.setAttributeNode(wd(n,s.item(l),!0));break;case Yn:r=!0}if(r)for(var c=e.firstChild;c;)i.appendChild(wd(n,c,r)),c=c.nextSibling;return i}function ly(n,e,r){n[e]=r}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case gr:case ai:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(n(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(Qn.prototype,"length",{get:function(){return Vf(this),this.$$length}}),Object.defineProperty(Ee.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case gr:case ai:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ly=function(e,r,i){e["$$"+r]=i}}}catch{}Oi.DocumentType=Du;Oi.DOMException=Qe;Oi.DOMImplementation=Z_;Oi.Element=un;Oi.Node=Ee;Oi.NodeList=Zr;Oi.XMLSerializer=sy;var Pu={},cy={};(function(n){var e=li.freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),n.entityMap=n.HTML_ENTITIES})(cy);var Xf={},ds=li.NAMESPACE,Ad=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,lg=new RegExp("[\\-\\.0-9"+Ad.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),cg=new RegExp("^"+Ad.source+lg.source+"*(?::"+Ad.source+lg.source+"*)?$"),wa=0,pi=1,Tn=2,Aa=3,bn=4,Sn=5,Da=6,no=7;function Jn(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Jn)}Jn.prototype=new Error;Jn.prototype.name=Jn.name;function dy(){}dy.prototype={parse:function(n,e,r){var i=this.domBuilder;i.startDocument(),fy(e,e={}),Nk(n,e,r,i,this.errorHandler),i.endDocument()}};function Nk(n,e,r,i,t){function a(X){if(X>65535){X-=65536;var ne=55296+(X>>10),de=56320+(X&1023);return String.fromCharCode(ne,de)}else return String.fromCharCode(X)}function s(X){var ne=X.slice(1,-1);return Object.hasOwnProperty.call(r,ne)?r[ne]:ne.charAt(0)==="#"?a(parseInt(ne.substr(1).replace("x","0x"))):(t.error("entity not found:"+X),X)}function o(X){if(X>_){var ne=n.substring(_,X).replace(/&#?\w+;/g,s);f&&u(_),i.characters(ne,0,X-_),_=X}}function u(X,ne){for(;X>=c&&(ne=d.exec(n));)l=ne.index,c=l+ne[0].length,f.lineNumber++;f.columnNumber=X-l+1}for(var l=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,p=[{currentNSMap:e}],y={},_=0;;){try{var T=n.indexOf("<",_);if(T<0){if(!n.substr(_).match(/^\s*$/)){var E=i.doc,C=E.createTextNode(n.substr(_));E.appendChild(C),i.currentElement=C}return}switch(T>_&&o(T),n.charAt(T+1)){case"/":var q=n.indexOf(">",T+3),I=n.substring(T+2,q).replace(/[ \t\n\r]+$/g,""),k=p.pop();q<0?(I=n.substring(T+2).replace(/[\s<].*/,""),t.error("end tag name: "+I+" is not complete:"+k.tagName),q=T+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),t.error("end tag name: "+I+" maybe not complete"),q=T+1+I.length);var D=k.localNSMap,N=k.tagName==I,M=N||k.tagName&&k.tagName.toLowerCase()==I.toLowerCase();if(M){if(i.endElement(k.uri,k.localName,I),D)for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&i.endPrefixMapping(L);N||t.fatalError("end tag name: "+I+" is not match the current start tagName:"+k.tagName)}else p.push(k);q++;break;case"?":f&&u(T),q=Hk(n,T,i);break;case"!":f&&u(T),q=Vk(n,T,i,t);break;default:f&&u(T);var O=new hy,j=p[p.length-1].currentNSMap,q=Bk(n,T,O,j,s,t),H=O.length;if(!O.closed&&jk(n,q,O.tagName,y)&&(O.closed=!0,r.nbsp||t.warning("unclosed xml attribute")),f&&H){for(var G=dg(f,{}),re=0;re<H;re++){var ie=O[re];u(ie.offset),ie.locator=dg(f,{})}i.locator=G,fg(O,i,j)&&p.push(O),i.locator=f}else fg(O,i,j)&&p.push(O);ds.isHTML(O.uri)&&!O.closed?q=Uk(n,q,O.tagName,s,i):q++}}catch(X){if(X instanceof Jn)throw X;t.error("element parse error: "+X),q=-1}q>_?_=q:o(Math.max(T,_)+1)}}function dg(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function Bk(n,e,r,i,t,a){function s(f,p,y){r.attributeNames.hasOwnProperty(f)&&a.fatalError("Attribute "+f+" redefined"),r.addValue(f,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,t),y)}for(var o,u,l=++e,c=wa;;){var d=n.charAt(l);switch(d){case"=":if(c===pi)o=n.slice(e,l),c=Aa;else if(c===Tn)c=Aa;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Aa||c===pi)if(c===pi&&(a.warning('attribute value must after "="'),o=n.slice(e,l)),e=l+1,l=n.indexOf(d,e),l>0)u=n.slice(e,l),s(o,u,e-1),c=Sn;else throw new Error("attribute value no end '"+d+"' match");else if(c==bn)u=n.slice(e,l),s(o,u,e),a.warning('attribute "'+o+'" missed start quot('+d+")!!"),e=l+1,c=Sn;else throw new Error('attribute value must after "="');break;case"/":switch(c){case wa:r.setTagName(n.slice(e,l));case Sn:case Da:case no:c=no,r.closed=!0;case bn:case pi:break;case Tn:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),c==wa&&r.setTagName(n.slice(e,l)),l;case">":switch(c){case wa:r.setTagName(n.slice(e,l));case Sn:case Da:case no:break;case bn:case pi:u=n.slice(e,l),u.slice(-1)==="/"&&(r.closed=!0,u=u.slice(0,-1));case Tn:c===Tn&&(u=o),c==bn?(a.warning('attribute "'+u+'" missed quot(")!'),s(o,u,e)):((!ds.isHTML(i[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),s(u,u,e));break;case Aa:throw new Error("attribute value missed!!")}return l;case"":d=" ";default:if(d<=" ")switch(c){case wa:r.setTagName(n.slice(e,l)),c=Da;break;case pi:o=n.slice(e,l),c=Tn;break;case bn:var u=n.slice(e,l);a.warning('attribute "'+u+'" missed quot(")!!'),s(o,u,e);case Sn:c=Da;break}else switch(c){case Tn:r.tagName,(!ds.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,e),e=l,c=pi;break;case Sn:a.warning('attribute space is required"'+o+'"!!');case Da:c=pi,e=l;break;case Aa:c=bn,e=l;break;case no:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function fg(n,e,r){for(var i=n.tagName,t=null,d=n.length;d--;){var a=n[d],s=a.qName,o=a.value,f=s.indexOf(":");if(f>0)var u=a.prefix=s.slice(0,f),l=s.slice(f+1),c=u==="xmlns"&&l;else l=s,u=null,c=s==="xmlns"&&"";a.localName=l,c!==!1&&(t==null&&(t={},fy(r,r={})),r[c]=t[c]=o,a.uri=ds.XMLNS,e.startPrefixMapping(c,o))}for(var d=n.length;d--;){a=n[d];var u=a.prefix;u&&(u==="xml"&&(a.uri=ds.XML),u!=="xmlns"&&(a.uri=r[u||""]))}var f=i.indexOf(":");f>0?(u=n.prefix=i.slice(0,f),l=n.localName=i.slice(f+1)):(u=null,l=n.localName=i);var p=n.uri=r[u||""];if(e.startElement(p,l,i,n),n.closed){if(e.endElement(p,l,i),t)for(u in t)Object.prototype.hasOwnProperty.call(t,u)&&e.endPrefixMapping(u)}else return n.currentNSMap=r,n.localNSMap=t,!0}function Uk(n,e,r,i,t){if(/^(?:script|textarea)$/i.test(r)){var a=n.indexOf("</"+r+">",e),s=n.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(r)?(t.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),t.characters(s,0,s.length),a)}return e+1}function jk(n,e,r,i){var t=i[r];return t==null&&(t=n.lastIndexOf("</"+r+">"),t<e&&(t=n.lastIndexOf("</"+r)),i[r]=t),t<e}function fy(n,e){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}function Vk(n,e,r,i){var t=n.charAt(e+2);switch(t){case"-":if(n.charAt(e+3)==="-"){var a=n.indexOf("-->",e+4);return a>e?(r.comment(n,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var a=n.indexOf("]]>",e+9);return r.startCDATA(),r.characters(n,e+9,a-e-9),r.endCDATA(),a+3}var s=qk(n,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var u=s[1][0],l=!1,c=!1;o>3&&(/^public$/i.test(s[2][0])?(l=s[3][0],c=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var d=s[o-1];return r.startDTD(u,l,c),r.endDTD(),d.index+d[0].length}}return-1}function Hk(n,e,r){var i=n.indexOf("?>",e);if(i){var t=n.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return t?(t[0].length,r.processingInstruction(t[1],t[2]),i+2):-1}return-1}function hy(){this.attributeNames={}}hy.prototype={setTagName:function(n){if(!cg.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,r){if(!cg.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:r}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function qk(n,e){var r,i=[],t=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(t.lastIndex=e,t.exec(n);r=t.exec(n);)if(i.push(r),r[1])return i}Xf.XMLReader=dy;Xf.ParseError=Jn;var Wk=li,zk=Oi,hg=cy,py=Xf,Gk=zk.DOMImplementation,pg=Wk.NAMESPACE,$k=py.ParseError,Kk=py.XMLReader;function my(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function gy(n){this.options=n||{locator:{}}}gy.prototype.parseFromString=function(n,e){var r=this.options,i=new Kk,t=r.domBuilder||new Cs,a=r.errorHandler,s=r.locator,o=r.xmlns||{},u=/\/x?html?$/.test(e),l=u?hg.HTML_ENTITIES:hg.XML_ENTITIES;s&&t.setDocumentLocator(s),i.errorHandler=Xk(a,t,s),i.domBuilder=r.domBuilder||t,u&&(o[""]=pg.HTML),o.xml=o.xml||pg.XML;var c=r.normalizeLineEndings||my;return n&&typeof n=="string"?i.parse(c(n),o,l):i.errorHandler.error("invalid doc source"),t.doc};function Xk(n,e,r){if(!n){if(e instanceof Cs)return e;n=e}var i={},t=n instanceof Function;r=r||{};function a(s){var o=n[s];!o&&t&&(o=n.length==2?function(u){n(s,u)}:n),i[s]=o&&function(u){o("[xmldom "+s+"]	"+u+Yk(r))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function Cs(){this.cdata=!1}function xn(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}Cs.prototype={startDocument:function(){this.doc=new Gk().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,r,i){var t=this.doc,a=t.createElementNS(n,r||e),s=i.length;ao(this,a),this.currentElement=a,this.locator&&xn(this.locator,a);for(var o=0;o<s;o++){var n=i.getURI(o),u=i.getValue(o),r=i.getQName(o),l=t.createAttributeNS(n,r);this.locator&&xn(i.getLocator(o),l),l.value=l.nodeValue=u,a.setAttributeNode(l)}},endElement:function(n,e,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var r=this.doc.createProcessingInstruction(n,e);this.locator&&xn(this.locator,r),ao(this,r)},ignorableWhitespace:function(n,e,r){},characters:function(n,e,r){if(n=mg.apply(this,arguments),n){if(this.cdata)var i=this.doc.createCDATASection(n);else var i=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(n)&&this.doc.appendChild(i),this.locator&&xn(this.locator,i)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,r){n=mg.apply(this,arguments);var i=this.doc.createComment(n);this.locator&&xn(this.locator,i),ao(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var t=i.createDocumentType(n,e,r);this.locator&&xn(this.locator,t),ao(this,t),this.doc.doctype=t}},warning:function(n){},error:function(n){},fatalError:function(n){throw new $k(n,this.locator)}};function Yk(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function mg(n,e,r){return typeof n=="string"?n.substr(e,r):n.length>=e+r||e?new java.lang.String(n,e,r)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){Cs.prototype[n]=function(){return null}});function ao(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}Pu.__DOMHandler=Cs;Pu.normalizeLineEndings=my;Pu.DOMParser=gy;var Qk=Pu.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var gg=function(e){return!!e&&typeof e=="object"},At=function n(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.reduce(function(t,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(t[s])&&Array.isArray(a[s])?t[s]=t[s].concat(a[s]):gg(t[s])&&gg(a[s])?t[s]=n(t[s],a[s]):t[s]=a[s]}),t},{})},vy=function(e){return Object.keys(e).map(function(r){return e[r]})},Jk=function(e,r){for(var i=[],t=e;t<r;t++)i.push(t);return i},Iu=function(e){return e.reduce(function(r,i){return r.concat(i)},[])},_y=function(e){if(!e.length)return[];for(var r=[],i=0;i<e.length;i++)r.push(e[i]);return r},Zk=function(e,r){return e.reduce(function(i,t,a){return t[r]&&i.push(a),i},[])},Dd=function(e,r){for(var i=0;i<e.length;i++)if(r(e[i]))return i;return-1},eP=function(e,r){return vy(e.reduce(function(i,t){return t.forEach(function(a){i[r(a)]=a}),i},{}))},Zn={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},fs=function(e){var r=e.baseUrl,i=r===void 0?"":r,t=e.source,a=t===void 0?"":t,s=e.range,o=s===void 0?"":s,u=e.indexRange,l=u===void 0?"":u,c={uri:a,resolvedUri:Au(i||"",a)};if(o||l){var d=o||l,f=d.split("-"),p=P.BigInt?P.BigInt(f[0]):parseInt(f[0],10),y=P.BigInt?P.BigInt(f[1]):parseInt(f[1],10);p<Number.MAX_SAFE_INTEGER&&typeof p=="bigint"&&(p=Number(p)),y<Number.MAX_SAFE_INTEGER&&typeof y=="bigint"&&(y=Number(y));var _;typeof y=="bigint"||typeof p=="bigint"?_=P.BigInt(y)-P.BigInt(p)+P.BigInt(1):_=y-p+1,typeof _=="bigint"&&_<Number.MAX_SAFE_INTEGER&&(_=Number(_)),c.byterange={length:_,offset:p}}return c},tP=function(e){var r;return typeof e.offset=="bigint"||typeof e.length=="bigint"?r=P.BigInt(e.offset)+P.BigInt(e.length)-P.BigInt(1):r=e.offset+e.length-1,e.offset+"-"+r},vg=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},rP={static:function(e){var r=e.duration,i=e.timescale,t=i===void 0?1:i,a=e.sourceDuration,s=e.periodDuration,o=vg(e.endNumber),u=r/t;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/u}:{start:0,end:a/u}},dynamic:function(e){var r=e.NOW,i=e.clientOffset,t=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,o=e.duration,u=e.periodStart,l=u===void 0?0:u,c=e.minimumUpdatePeriod,d=c===void 0?0:c,f=e.timeShiftBufferDepth,p=f===void 0?1/0:f,y=vg(e.endNumber),_=(r+i)/1e3,T=t+l,E=_+d,C=E-T,I=Math.ceil(C*s/o),k=Math.floor((_-T-p)*s/o),D=Math.floor((_-T)*s/o);return{start:Math.max(0,k),end:typeof y=="number"?y:Math.min(I,D)}}},iP=function(e){return function(r){var i=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodStart,o=e.startNumber,u=o===void 0?1:o;return{number:u+r,duration:i/a,timeline:s,time:r*i}}},Yf=function(e){var r=e.type,i=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodDuration,o=e.sourceDuration,u=rP[r](e),l=u.start,c=u.end,d=Jk(l,c).map(iP(e));if(r==="static"){var f=d.length-1,p=typeof s=="number"?s:o;d[f].duration=p-i/a*f}return d},yy=function(e){var r=e.baseUrl,i=e.initialization,t=i===void 0?{}:i,a=e.sourceDuration,s=e.indexRange,o=s===void 0?"":s,u=e.periodStart,l=e.presentationTime,c=e.number,d=c===void 0?0:c,f=e.duration;if(!r)throw new Error(Zn.NO_BASE_URL);var p=fs({baseUrl:r,source:t.sourceURL,range:t.range}),y=fs({baseUrl:r,source:r,indexRange:o});if(y.map=p,f){var _=Yf(e);_.length&&(y.duration=_[0].duration,y.timeline=_[0].timeline)}else a&&(y.duration=a,y.timeline=u);return y.presentationTime=l||u,y.number=d,[y]},Qf=function(e,r,i){var t=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,o=e.sidx.byterange,u=o.offset+o.length,l=r.timescale,c=r.references.filter(function(O){return O.referenceType!==1}),d=[],f=e.endList?"static":"dynamic",p=e.sidx.timeline,y=p,_=e.mediaSequence||0,T;typeof r.firstOffset=="bigint"?T=P.BigInt(u)+r.firstOffset:T=u+r.firstOffset;for(var E=0;E<c.length;E++){var C=r.references[E],I=C.referencedSize,k=C.subsegmentDuration,D=void 0;typeof T=="bigint"?D=T+P.BigInt(I)-P.BigInt(1):D=T+I-1;var N=T+"-"+D,M={baseUrl:i,timescale:l,timeline:s,periodStart:p,presentationTime:y,number:_,duration:k,sourceDuration:a,indexRange:N,type:f},L=yy(M)[0];t&&(L.map=t),d.push(L),typeof T=="bigint"?T+=P.BigInt(I):T+=I,y+=k/l,_++}return e.segments=d,e},nP=["AUDIO","SUBTITLES"],aP=1/60,Ty=function(e){return eP(e,function(r){var i=r.timeline;return i}).sort(function(r,i){return r.timeline>i.timeline?1:-1})},sP=function(e,r){for(var i=0;i<e.length;i++)if(e[i].attributes.NAME===r)return e[i];return null},_g=function(e){var r=[];return Sk(e,nP,function(i,t,a,s){r=r.concat(i.playlists||[])}),r},yg=function(e){var r=e.playlist,i=e.mediaSequence;r.mediaSequence=i,r.segments.forEach(function(t,a){t.number=r.mediaSequence+a})},oP=function(e){var r=e.oldPlaylists,i=e.newPlaylists,t=e.timelineStarts;i.forEach(function(a){a.discontinuitySequence=Dd(t,function(c){var d=c.timeline;return d===a.timeline});var s=sP(r,a.attributes.NAME);if(s&&!a.sidx){var o=a.segments[0],u=Dd(s.segments,function(c){return Math.abs(c.presentationTime-o.presentationTime)<aP});if(u===-1){yg({playlist:a,mediaSequence:s.mediaSequence+s.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),(!s.segments.length&&a.timeline>s.timeline||s.segments.length&&a.timeline>s.segments[s.segments.length-1].timeline)&&a.discontinuitySequence--;return}var l=s.segments[u];l.discontinuity&&!o.discontinuity&&(o.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),yg({playlist:a,mediaSequence:s.segments[u].number})}})},uP=function(e){var r=e.oldManifest,i=e.newManifest,t=r.playlists.concat(_g(r)),a=i.playlists.concat(_g(i));return i.timelineStarts=Ty([r.timelineStarts,i.timelineStarts]),oP({oldPlaylists:t,newPlaylists:a,timelineStarts:i.timelineStarts}),i},Ou=function(e){return e&&e.uri+"-"+tP(e.byterange)},bc=function(e){var r=vy(e.reduce(function(i,t){var a=t.attributes.id+(t.attributes.lang||"");if(!i[a])i[a]=t,i[a].attributes.timelineStarts=[];else{if(t.segments){var s;t.segments[0]&&(t.segments[0].discontinuity=!0),(s=i[a].segments).push.apply(s,t.segments)}t.attributes.contentProtection&&(i[a].attributes.contentProtection=t.attributes.contentProtection)}return i[a].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),i},{}));return r.map(function(i){return i.discontinuityStarts=Zk(i.segments||[],"discontinuity"),i})},Jf=function(e,r){var i=Ou(e.sidx),t=i&&r[i]&&r[i].sidx;return t&&Qf(e,t,e.sidx.resolvedUri),e},lP=function(e,r){if(r===void 0&&(r={}),!Object.keys(r).length)return e;for(var i in e)e[i]=Jf(e[i],r);return e},cP=function(e,r){var i,t=e.attributes,a=e.segments,s=e.sidx,o=e.mediaSequence,u=e.discontinuitySequence,l=e.discontinuityStarts,c={attributes:(i={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuitySequence:u,discontinuityStarts:l,timelineStarts:t.timelineStarts,mediaSequence:o,segments:a};return t.contentProtection&&(c.contentProtection=t.contentProtection),s&&(c.sidx=s),r&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c},dP=function(e){var r,i=e.attributes,t=e.segments,a=e.mediaSequence,s=e.discontinuityStarts,o=e.discontinuitySequence;typeof t>"u"&&(t=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var u=(r={NAME:i.id,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r);return i.codecs&&(u.CODECS=i.codecs),{attributes:u,uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:s,discontinuitySequence:o,mediaSequence:a,segments:t}},fP=function(e,r,i){r===void 0&&(r={}),i===void 0&&(i=!1);var t,a=e.reduce(function(o,u){var l=u.attributes.role&&u.attributes.role.value||"",c=u.attributes.lang||"",d=u.attributes.label||"main";if(c&&!u.attributes.label){var f=l?" ("+l+")":"";d=""+u.attributes.lang+f}o[d]||(o[d]={language:c,autoselect:!0,default:l==="main",playlists:[],uri:""});var p=Jf(cP(u,i),r);return o[d].playlists.push(p),typeof t>"u"&&l==="main"&&(t=u,t.default=!0),o},{});if(!t){var s=Object.keys(a)[0];a[s].default=!0}return a},hP=function(e,r){return r===void 0&&(r={}),e.reduce(function(i,t){var a=t.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(Jf(dP(t),r)),i},{})},pP=function(e){return e.reduce(function(r,i){return i&&i.forEach(function(t){var a=t.channel,s=t.language;r[s]={autoselect:!1,default:!1,instreamId:a,language:s},t.hasOwnProperty("aspectRatio")&&(r[s].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(r[s].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(r[s]["3D"]=t["3D"])}),r},{})},mP=function(e){var r,i=e.attributes,t=e.segments,a=e.sidx,s=e.discontinuityStarts,o={attributes:(r={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:s,timelineStarts:i.timelineStarts,segments:t};return i.frameRate&&(o.attributes["FRAME-RATE"]=i.frameRate),i.contentProtection&&(o.contentProtection=i.contentProtection),a&&(o.sidx=a),o},gP=function(e){var r=e.attributes;return r.mimeType==="video/mp4"||r.mimeType==="video/webm"||r.contentType==="video"},vP=function(e){var r=e.attributes;return r.mimeType==="audio/mp4"||r.mimeType==="audio/webm"||r.contentType==="audio"},_P=function(e){var r=e.attributes;return r.mimeType==="text/vtt"||r.contentType==="text"},yP=function(e,r){e.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=Dd(r,function(t){var a=t.timeline;return a===i.timeline}),i.segments&&i.segments.forEach(function(t,a){t.number=a})})},Tg=function(e){return e?Object.keys(e).reduce(function(r,i){var t=e[i];return r.concat(t.playlists)},[]):[]},TP=function(e){var r,i=e.dashPlaylists,t=e.locations,a=e.sidxMapping,s=a===void 0?{}:a,o=e.previousManifest;if(!i.length)return{};var u=i[0].attributes,l=u.sourceDuration,c=u.type,d=u.suggestedPresentationDelay,f=u.minimumUpdatePeriod,p=bc(i.filter(gP)).map(mP),y=bc(i.filter(vP)),_=bc(i.filter(_P)),T=i.map(function(M){return M.attributes.captionServices}).filter(Boolean),E={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:l,playlists:lP(p,s)};f>=0&&(E.minimumUpdatePeriod=f*1e3),t&&(E.locations=t),c==="dynamic"&&(E.suggestedPresentationDelay=d);var C=E.playlists.length===0,I=y.length?fP(y,s,C):null,k=_.length?hP(_,s):null,D=p.concat(Tg(I),Tg(k)),N=D.map(function(M){var L=M.timelineStarts;return L});return E.timelineStarts=Ty(N),yP(D,E.timelineStarts),I&&(E.mediaGroups.AUDIO.audio=I),k&&(E.mediaGroups.SUBTITLES.subs=k),T.length&&(E.mediaGroups["CLOSED-CAPTIONS"].cc=pP(T)),o?uP({oldManifest:o,newManifest:E}):E},bP=function(e,r,i){var t=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,o=e.timescale,u=o===void 0?1:o,l=e.periodStart,c=l===void 0?0:l,d=e.minimumUpdatePeriod,f=d===void 0?0:d,p=(t+a)/1e3,y=s+c,_=p+f,T=_-y;return Math.ceil((T*u-r)/i)},by=function(e,r){for(var i=e.type,t=e.minimumUpdatePeriod,a=t===void 0?0:t,s=e.media,o=s===void 0?"":s,u=e.sourceDuration,l=e.timescale,c=l===void 0?1:l,d=e.startNumber,f=d===void 0?1:d,p=e.periodStart,y=[],_=-1,T=0;T<r.length;T++){var E=r[T],C=E.d,I=E.r||0,k=E.t||0;_<0&&(_=k),k&&k>_&&(_=k);var D=void 0;if(I<0){var N=T+1;N===r.length?i==="dynamic"&&a>0&&o.indexOf("$Number$")>0?D=bP(e,_,C):D=(u*c-_)/C:D=(r[N].t-_)/C}else D=I+1;for(var M=f+y.length+D,L=f+y.length;L<M;)y.push({number:L,duration:C/c,time:_,timeline:p}),_+=C,L++}return y},SP=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,xP=function(e){return function(r,i,t,a){if(r==="$$")return"$";if(typeof e[i]>"u")return r;var s=""+e[i];return i==="RepresentationID"||(t?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},bg=function(e,r){return e.replace(SP,xP(r))},EP=function(e,r){return!e.duration&&!r?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?Yf(e):by(e,r)},CP=function(e,r){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},t=e.initialization,a=t===void 0?{sourceURL:"",range:""}:t,s=fs({baseUrl:e.baseUrl,source:bg(a.sourceURL,i),range:a.range}),o=EP(e,r);return o.map(function(u){i.Number=u.number,i.Time=u.time;var l=bg(e.media||"",i),c=e.timescale||1,d=e.presentationTimeOffset||0,f=e.periodStart+(u.time-d)/c,p={uri:l,timeline:u.timeline,duration:u.duration,resolvedUri:Au(e.baseUrl||"",l),map:s,number:u.number,presentationTime:f};return p})},wP=function(e,r){var i=e.baseUrl,t=e.initialization,a=t===void 0?{}:t,s=fs({baseUrl:i,source:a.sourceURL,range:a.range}),o=fs({baseUrl:i,source:r.media,range:r.mediaRange});return o.map=s,o},AP=function(e,r){var i=e.duration,t=e.segmentUrls,a=t===void 0?[]:t,s=e.periodStart;if(!i&&!r||i&&r)throw new Error(Zn.SEGMENT_TIME_UNSPECIFIED);var o=a.map(function(c){return wP(e,c)}),u;i&&(u=Yf(e)),r&&(u=by(e,r));var l=u.map(function(c,d){if(o[d]){var f=o[d],p=e.timescale||1,y=e.presentationTimeOffset||0;return f.timeline=c.timeline,f.duration=c.duration,f.number=c.number,f.presentationTime=s+(c.time-y)/p,f}}).filter(function(c){return c});return l},DP=function(e){var r=e.attributes,i=e.segmentInfo,t,a;i.template?(a=CP,t=At(r,i.template)):i.base?(a=yy,t=At(r,i.base)):i.list&&(a=AP,t=At(r,i.list));var s={attributes:r};if(!a)return s;var o=a(t,i.segmentTimeline);if(t.duration){var u=t,l=u.duration,c=u.timescale,d=c===void 0?1:c;t.duration=l/d}else o.length?t.duration=o.reduce(function(f,p){return Math.max(f,Math.ceil(p.duration))},0):t.duration=0;return s.attributes=t,s.segments=o,i.base&&t.indexRange&&(s.sidx=o[0],s.segments=[]),s},kP=function(e){return e.map(DP)},Xe=function(e,r){return _y(e.childNodes).filter(function(i){var t=i.tagName;return t===r})},Zf=function(e){return e.textContent.trim()},PP=function(e){return parseFloat(e.split("/").reduce(function(r,i){return r/i}))},En=function(e){var r=31536e3,i=30*24*60*60,t=24*60*60,a=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,u=o.exec(e);if(!u)return 0;var l=u.slice(1),c=l[0],d=l[1],f=l[2],p=l[3],y=l[4],_=l[5];return parseFloat(c||0)*r+parseFloat(d||0)*i+parseFloat(f||0)*t+parseFloat(p||0)*a+parseFloat(y||0)*s+parseFloat(_||0)},IP=function(e){var r=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return r.test(e)&&(e+="Z"),Date.parse(e)},Sg={mediaPresentationDuration:function(e){return En(e)},availabilityStartTime:function(e){return IP(e)/1e3},minimumUpdatePeriod:function(e){return En(e)},suggestedPresentationDelay:function(e){return En(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return En(e)},start:function(e){return En(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return PP(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var r=parseInt(e,10);return isNaN(r)?En(e):r},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},mt=function(e){return e&&e.attributes?_y(e.attributes).reduce(function(r,i){var t=Sg[i.name]||Sg.DEFAULT;return r[i.name]=t(i.value),r},{}):{}},OP={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Lu=function(e,r){return r.length?Iu(e.map(function(i){return r.map(function(t){return Au(i,Zf(t))})})):e},eh=function(e){var r=Xe(e,"SegmentTemplate")[0],i=Xe(e,"SegmentList")[0],t=i&&Xe(i,"SegmentURL").map(function(f){return At({tag:"SegmentURL"},mt(f))}),a=Xe(e,"SegmentBase")[0],s=i||r,o=s&&Xe(s,"SegmentTimeline")[0],u=i||a||r,l=u&&Xe(u,"Initialization")[0],c=r&&mt(r);c&&l?c.initialization=l&&mt(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var d={template:c,segmentTimeline:o&&Xe(o,"S").map(function(f){return mt(f)}),list:i&&At(mt(i),{segmentUrls:t,initialization:mt(l)}),base:a&&At(mt(a),{initialization:mt(l)})};return Object.keys(d).forEach(function(f){d[f]||delete d[f]}),d},LP=function(e,r,i){return function(t){var a=Xe(t,"BaseURL"),s=Lu(r,a),o=At(e,mt(t)),u=eh(t);return s.map(function(l){return{segmentInfo:At(i,u),attributes:At(o,{baseUrl:l})}})}},RP=function(e){return e.reduce(function(r,i){var t=mt(i);t.schemeIdUri&&(t.schemeIdUri=t.schemeIdUri.toLowerCase());var a=OP[t.schemeIdUri];if(a){r[a]={attributes:t};var s=Xe(i,"cenc:pssh")[0];if(s){var o=Zf(s);r[a].pssh=o&&F_(o)}}return r},{})},MP=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var r=typeof e.value!="string"?[]:e.value.split(";");return r.map(function(t){var a,s;if(s=t,/^CC\d=/.test(t)){var o=t.split("=");a=o[0],s=o[1]}else/^CC\d$/.test(t)&&(a=t);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(t){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){var s=t.split("="),o=s[0],u=s[1],l=u===void 0?"":u;a.channel=o,a.language=t,l.split(",").forEach(function(c){var d=c.split(":"),f=d[0],p=d[1];f==="lang"?a.language=p:f==="er"?a.easyReader=Number(p):f==="war"?a.aspectRatio=Number(p):f==="3D"&&(a["3D"]=Number(p))})}else a.language=t;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},FP=function(e,r,i){return function(t){var a=mt(t),s=Lu(r,Xe(t,"BaseURL")),o=Xe(t,"Role")[0],u={role:mt(o)},l=At(e,a,u),c=Xe(t,"Accessibility")[0],d=MP(mt(c));d&&(l=At(l,{captionServices:d}));var f=Xe(t,"Label")[0];if(f&&f.childNodes.length){var p=f.childNodes[0].nodeValue.trim();l=At(l,{label:p})}var y=RP(Xe(t,"ContentProtection"));Object.keys(y).length&&(l=At(l,{contentProtection:y}));var _=eh(t),T=Xe(t,"Representation"),E=At(i,_);return Iu(T.map(LP(l,s,E)))}},NP=function(e,r){return function(i,t){var a=Lu(r,Xe(i.node,"BaseURL")),s=At(e,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);var o=Xe(i.node,"AdaptationSet"),u=eh(i.node);return Iu(o.map(FP(s,a,u)))}},BP=function(e){var r=e.attributes,i=e.priorPeriodAttributes,t=e.mpdType;return typeof r.start=="number"?r.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&t==="static"?0:null},UP=function(e,r){r===void 0&&(r={});var i=r,t=i.manifestUri,a=t===void 0?"":t,s=i.NOW,o=s===void 0?Date.now():s,u=i.clientOffset,l=u===void 0?0:u,c=Xe(e,"Period");if(!c.length)throw new Error(Zn.INVALID_NUMBER_OF_PERIOD);var d=Xe(e,"Location"),f=mt(e),p=Lu([a],Xe(e,"BaseURL"));f.type=f.type||"static",f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=o,f.clientOffset=l,d.length&&(f.locations=d.map(Zf));var y=[];return c.forEach(function(_,T){var E=mt(_),C=y[T-1];E.start=BP({attributes:E,priorPeriodAttributes:C?C.attributes:null,mpdType:f.type}),y.push({node:_,attributes:E})}),{locations:f.locations,representationInfo:Iu(y.map(NP(f,p)))}},Sy=function(e){if(e==="")throw new Error(Zn.DASH_EMPTY_MANIFEST);var r=new Qk,i,t;try{i=r.parseFromString(e,"application/xml"),t=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!t||t&&t.getElementsByTagName("parsererror").length>0)throw new Error(Zn.DASH_INVALID_XML);return t},jP=function(e){var r=Xe(e,"UTCTiming")[0];if(!r)return null;var i=mt(r);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Zn.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},VP=function(e,r){r===void 0&&(r={});var i=UP(Sy(e),r),t=kP(i.representationInfo);return TP({dashPlaylists:t,locations:i.locations,sidxMapping:r.sidxMapping,previousManifest:r.previousManifest})},HP=function(e){return jP(Sy(e))},xy=Math.pow(2,32),qP=function(n){var e=new DataView(n.buffer,n.byteOffset,n.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*xy+e.getUint32(4)},WP={getUint64:qP,MAX_UINT32:xy},xg=WP.getUint64,zP=function(n){var e=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;r.version===0?(r.earliestPresentationTime=e.getUint32(i),r.firstOffset=e.getUint32(i+4),i+=8):(r.earliestPresentationTime=xg(n.subarray(i)),r.firstOffset=xg(n.subarray(i+8)),i+=16),i+=2;var t=e.getUint16(i);for(i+=2;t>0;i+=12,t--)r.references.push({referenceType:(n[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(n[i+8]&128),sapType:(n[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return r},GP=zP;const $P=Pi(GP);var KP=oe([73,68,51]),XP=function(e,r){r===void 0&&(r=0),e=oe(e);var i=e[r+5],t=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],a=(i&16)>>4;return a?t+20:t+10},Na=function n(e,r){return r===void 0&&(r=0),e=oe(e),e.length-r<10||!Re(e,KP,{offset:r})?r:(r+=XP(e,r),n(e,r))},Eg=function(e){return typeof e=="string"?V_(e):e},YP=function(e){return Array.isArray(e)?e.map(function(r){return Eg(r)}):[Eg(e)]},QP=function n(e,r,i){i===void 0&&(i=!1),r=YP(r),e=oe(e);var t=[];if(!r.length)return t;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,o=e.subarray(a+4,a+8);if(s===0)break;var u=a+s;if(u>e.length){if(i)break;u=e.length}var l=e.subarray(a+8,u);Re(o,r[0])&&(r.length===1?t.push(l):t.push.apply(t,n(l,r.slice(1),i))),a=u}return t},so={EBML:oe([26,69,223,163]),DocType:oe([66,130]),Segment:oe([24,83,128,103]),SegmentInfo:oe([21,73,169,102]),Tracks:oe([22,84,174,107]),Track:oe([174]),TrackNumber:oe([215]),DefaultDuration:oe([35,227,131]),TrackEntry:oe([174]),TrackType:oe([131]),FlagDefault:oe([136]),CodecID:oe([134]),CodecPrivate:oe([99,162]),VideoTrack:oe([224]),AudioTrack:oe([225]),Cluster:oe([31,67,182,117]),Timestamp:oe([231]),TimestampScale:oe([42,215,177]),BlockGroup:oe([160]),BlockDuration:oe([155]),Block:oe([161]),SimpleBlock:oe([163])},kd=[128,64,32,16,8,4,2,1],JP=function(e){for(var r=1,i=0;i<kd.length&&!(e&kd[i]);i++)r++;return r},Ko=function(e,r,i,t){i===void 0&&(i=!0),t===void 0&&(t=!1);var a=JP(e[r]),s=e.subarray(r,r+a);return i&&(s=Array.prototype.slice.call(e,r,r+a),s[0]^=kd[a-1]),{length:a,value:yk(s,{signed:t}),bytes:s}},Cg=function n(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return n(r)}):typeof e=="number"?Tk(e):e},ZP=function(e){return Array.isArray(e)?e.map(function(r){return Cg(r)}):[Cg(e)]},eI=function n(e,r,i){if(i>=r.length)return r.length;var t=Ko(r,i,!1);if(Re(e.bytes,t.bytes))return i;var a=Ko(r,i+t.length);return n(e,r,i+a.length+a.value+t.length)},wg=function n(e,r){r=ZP(r),e=oe(e);var i=[];if(!r.length)return i;for(var t=0;t<e.length;){var a=Ko(e,t,!1),s=Ko(e,t+a.length),o=t+a.length+s.length;s.value===127&&(s.value=eI(a,e,o),s.value!==e.length&&(s.value-=o));var u=o+s.value>e.length?e.length:o+s.value,l=e.subarray(o,u);Re(r[0],a.bytes)&&(r.length===1?i.push(l):i=i.concat(n(l,r.slice(1))));var c=a.length+s.length+l.length;t+=c}return i},tI=oe([0,0,0,1]),rI=oe([0,0,1]),iI=oe([0,0,3]),nI=function(e){for(var r=[],i=1;i<e.length-2;)Re(e.subarray(i,i+3),iI)&&(r.push(i+2),i++),i++;if(r.length===0)return e;var t=e.length-r.length,a=new Uint8Array(t),s=0;for(i=0;i<t;s++,i++)s===r[0]&&(s++,r.shift()),a[i]=e[s];return a},Ey=function(e,r,i,t){e=oe(e),i=[].concat(i);for(var a=0,s,o=0;a<e.length&&(o<t||s);){var u=void 0;if(Re(e.subarray(a),tI)?u=4:Re(e.subarray(a),rI)&&(u=3),!u){a++;continue}if(o++,s)return nI(e.subarray(s,a));var l=void 0;r==="h264"?l=e[a+u]&31:r==="h265"&&(l=e[a+u]>>1&63),i.indexOf(l)!==-1&&(s=a+u),a+=u+(r==="h264"?1:2)}return e.subarray(0,0)},aI=function(e,r,i){return Ey(e,"h264",r,i)},sI=function(e,r,i){return Ey(e,"h265",r,i)},xt={webm:oe([119,101,98,109]),matroska:oe([109,97,116,114,111,115,107,97]),flac:oe([102,76,97,67]),ogg:oe([79,103,103,83]),ac3:oe([11,119]),riff:oe([82,73,70,70]),avi:oe([65,86,73]),wav:oe([87,65,86,69]),"3gp":oe([102,116,121,112,51,103]),mp4:oe([102,116,121,112]),fmp4:oe([115,116,121,112]),mov:oe([102,116,121,112,113,116]),moov:oe([109,111,111,118]),moof:oe([109,111,111,102])},ea={aac:function(e){var r=Na(e);return Re(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=Na(e);return Re(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=wg(e,[so.EBML,so.DocType])[0];return Re(r,xt.webm)},mkv:function(e){var r=wg(e,[so.EBML,so.DocType])[0];return Re(r,xt.matroska)},mp4:function(e){if(ea["3gp"](e)||ea.mov(e))return!1;if(Re(e,xt.mp4,{offset:4})||Re(e,xt.fmp4,{offset:4})||Re(e,xt.moof,{offset:4})||Re(e,xt.moov,{offset:4}))return!0},mov:function(e){return Re(e,xt.mov,{offset:4})},"3gp":function(e){return Re(e,xt["3gp"],{offset:4})},ac3:function(e){var r=Na(e);return Re(e,xt.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=Na(e);return Re(e,xt.flac,{offset:r})},ogg:function(e){return Re(e,xt.ogg)},avi:function(e){return Re(e,xt.riff)&&Re(e,xt.avi,{offset:8})},wav:function(e){return Re(e,xt.riff)&&Re(e,xt.wav,{offset:8})},h264:function(e){return aI(e,7,3).length},h265:function(e){return sI(e,[32,33],3).length}},Pd=Object.keys(ea).filter(function(n){return n!=="ts"&&n!=="h264"&&n!=="h265"}).concat(["ts","h264","h265"]);Pd.forEach(function(n){var e=ea[n];ea[n]=function(r){return e(oe(r))}});var oI=ea,th=function(e){e=oe(e);for(var r=0;r<Pd.length;r++){var i=Pd[r];if(oI[i](e))return i}return""},uI=function(e){return QP(e,["moof"]).length>0},rh=9e4,ih,nh,Ru,ah,Cy,wy,Ay;ih=function(n){return n*rh};nh=function(n,e){return n*e};Ru=function(n){return n/rh};ah=function(n,e){return n/e};Cy=function(n,e){return ih(ah(n,e))};wy=function(n,e){return nh(Ru(n),e)};Ay=function(n,e,r){return Ru(r?n:n-e)};var Xo={ONE_SECOND_IN_TS:rh,secondsToVideoTs:ih,secondsToAudioTs:nh,videoTsToSeconds:Ru,audioTsToSeconds:ah,audioTsToVideoTs:Cy,videoTsToAudioTs:wy,metadataTsToSeconds:Ay};function Id(n){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(n)}function lI(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function Od(n){var e=typeof Map=="function"?new Map:void 0;return Od=function(i){if(i===null||!lI(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,t)}function t(){return R_(i,arguments,Id(this).constructor)}return t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Xn(t,i)},Od(n)}/**
 * @license
 * Video.js 7.21.5 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Dy="7.21.5",Xr={},Ai=function(e,r){return Xr[e]=Xr[e]||[],r&&(Xr[e]=Xr[e].concat(r)),Xr[e]},cI=function(e,r){Ai(e,r)},ky=function(e,r){var i=Ai(e).indexOf(r);return i<=-1?!1:(Xr[e]=Xr[e].slice(),Xr[e].splice(i,1),!0)},dI=function(e,r){Ai(e,[].concat(r).map(function(i){var t=function a(){return ky(e,a),i.apply(void 0,arguments)};return t}))},Yo={prefixed:!0},xo=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Ag=xo[0],Ba;for(var oo=0;oo<xo.length;oo++)if(xo[oo][1]in K){Ba=xo[oo];break}if(Ba){for(var uo=0;uo<Ba.length;uo++)Yo[Ag[uo]]=Ba[uo];Yo.prefixed=Ba[0]!==Ag[0]}var Ot=[],fI=function(e,r){return function(i,t,a){var s=r.levels[t],o=new RegExp("^("+s+")$");if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(e+":"),Ot){Ot.push([].concat(a));var u=Ot.length-1e3;Ot.splice(0,u>0?u:0)}if(P.console){var l=P.console[i];!l&&i==="debug"&&(l=P.console.info||P.console.log),!(!l||!s||!o.test(i))&&l[Array.isArray(a)?"apply":"call"](P.console,a)}}};function Py(n){var e="info",r,i=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];r("log",e,s)};return r=fI(n,i),i.createLogger=function(t){return Py(n+": "+t)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(t){if(typeof t=="string"){if(!i.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');e=t}return e},i.history=function(){return Ot?[].concat(Ot):[]},i.history.filter=function(t){return(Ot||[]).filter(function(a){return new RegExp(".*"+t+".*").test(a[0])})},i.history.clear=function(){Ot&&(Ot.length=0)},i.history.disable=function(){Ot!==null&&(Ot.length=0,Ot=null)},i.history.enable=function(){Ot===null&&(Ot=[])},i.error=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r("error",e,a)},i.warn=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r("warn",e,a)},i.debug=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r("debug",e,a)},i}var he=Py("VIDEOJS"),Iy=he.createLogger,hI=Object.prototype.toString,Oy=function(e){return oi(e)?Object.keys(e):[]};function Bn(n,e){Oy(n).forEach(function(r){return e(n[r],r)})}function pI(n,e,r){return r===void 0&&(r=0),Oy(n).reduce(function(i,t){return e(i,n[t],t)},r)}function We(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return Object.assign?lr.apply(void 0,[n].concat(r)):(r.forEach(function(t){t&&Bn(t,function(a,s){n[s]=a})}),n)}function oi(n){return!!n&&typeof n=="object"}function hs(n){return oi(n)&&hI.call(n)==="[object Object]"&&n.constructor===Object}function ps(n,e){if(!n||!e)return"";if(typeof P.getComputedStyle=="function"){var r;try{r=P.getComputedStyle(n)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}var at=P.navigator&&P.navigator.userAgent||"",Dg=/AppleWebKit\/([\d.]+)/i.exec(at),mI=Dg?parseFloat(Dg.pop()):null,Ly=/iPod/i.test(at),gI=function(){var n=at.match(/OS (\d+)_/i);return n&&n[1]?n[1]:null}(),ci=/Android/i.test(at),sh=function(){var n=at.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!n)return null;var e=n[1]&&parseFloat(n[1]),r=n[2]&&parseFloat(n[2]);return e&&r?parseFloat(n[1]+"."+n[2]):e||null}(),Ry=ci&&sh<5&&mI<537,My=/Firefox/i.test(at),ws=/Edg/i.test(at),di=!ws&&(/Chrome/i.test(at)||/CriOS/i.test(at)),Fy=function(){var n=at.match(/(Chrome|CriOS)\/(\d+)/);return n&&n[2]?parseFloat(n[2]):null}(),As=function(){var n=/MSIE\s(\d+)\.\d/.exec(at),e=n&&parseFloat(n[1]);return!e&&/Trident\/7.0/i.test(at)&&/rv:11.0/.test(at)&&(e=11),e}(),oh=/Safari/i.test(at)&&!di&&!ci&&!ws,Ny=/Windows/i.test(at),ta=!!(ua()&&("ontouchstart"in P||P.navigator.maxTouchPoints||P.DocumentTouch&&P.document instanceof P.DocumentTouch)),uh=/iPad/i.test(at)||oh&&ta&&!/iPhone/i.test(at),lh=/iPhone/i.test(at)&&!uh,Pt=lh||uh||Ly,Mu=(oh||Pt)&&!di,vI=Object.freeze({__proto__:null,IS_IPOD:Ly,IOS_VERSION:gI,IS_ANDROID:ci,ANDROID_VERSION:sh,IS_NATIVE_ANDROID:Ry,IS_FIREFOX:My,IS_EDGE:ws,IS_CHROME:di,CHROME_VERSION:Fy,IE_VERSION:As,IS_SAFARI:oh,IS_WINDOWS:Ny,TOUCH_ENABLED:ta,IS_IPAD:uh,IS_IPHONE:lh,IS_IOS:Pt,IS_ANY_SAFARI:Mu});function kg(n){return typeof n=="string"&&!!n.trim()}function By(n){if(n.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function _I(n){return new RegExp("(^|\\s)"+n+"($|\\s)")}function ua(){return K===P.document}function la(n){return oi(n)&&n.nodeType===1}function Uy(){try{return P.parent!==P.self}catch{return!0}}function jy(n){return function(e,r){if(!kg(e))return K[n](null);kg(r)&&(r=K.querySelector(r));var i=la(r)?r:K;return i[n]&&i[n](e)}}function _e(n,e,r,i){n===void 0&&(n="div"),e===void 0&&(e={}),r===void 0&&(r={});var t=K.createElement(n);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(he.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),t.setAttribute(a,s)):a==="textContent"?hn(t,s):(t[a]!==s||a==="tabIndex")&&(t[a]=s)}),Object.getOwnPropertyNames(r).forEach(function(a){t.setAttribute(a,r[a])}),i&&dh(t,i),t}function hn(n,e){return typeof n.textContent>"u"?n.innerText=e:n.textContent=e,n}function Ld(n,e){e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}function rn(n,e){return By(e),n.classList?n.classList.contains(e):_I(e).test(n.className)}function ei(n,e){return n.classList?n.classList.add(e):rn(n,e)||(n.className=(n.className+" "+e).trim()),n}function Ds(n,e){return n?(n.classList?n.classList.remove(e):(By(e),n.className=n.className.split(/\s+/).filter(function(r){return r!==e}).join(" ")),n):(he.warn("removeClass was called with an element that doesn't exist"),null)}function Vy(n,e,r){var i=rn(n,e);if(typeof r=="function"&&(r=r(n,e)),typeof r!="boolean"&&(r=!i),r!==i)return r?ei(n,e):Ds(n,e),n}function Hy(n,e){Object.getOwnPropertyNames(e).forEach(function(r){var i=e[r];i===null||typeof i>"u"||i===!1?n.removeAttribute(r):n.setAttribute(r,i===!0?"":i)})}function zr(n){var e={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(n&&n.attributes&&n.attributes.length>0)for(var i=n.attributes,t=i.length-1;t>=0;t--){var a=i[t].name,s=i[t].value;(typeof n[a]=="boolean"||r.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function qy(n,e){return n.getAttribute(e)}function ra(n,e,r){n.setAttribute(e,r)}function Fu(n,e){n.removeAttribute(e)}function Wy(){K.body.focus(),K.onselectstart=function(){return!1}}function zy(){K.onselectstart=function(){return!0}}function ia(n){if(n&&n.getBoundingClientRect&&n.parentNode){var e=n.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(r[i]=e[i])}),r.height||(r.height=parseFloat(ps(n,"height"))),r.width||(r.width=parseFloat(ps(n,"width"))),r}}function ms(n){if(!n||n&&!n.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=n.offsetWidth,r=n.offsetHeight,i=0,t=0;n.offsetParent&&n!==K[Yo.fullscreenElement];)i+=n.offsetLeft,t+=n.offsetTop,n=n.offsetParent;return{left:i,top:t,width:e,height:r}}function Nu(n,e){var r={x:0,y:0};if(Pt)for(var i=n;i&&i.nodeName.toLowerCase()!=="html";){var t=ps(i,"transform");if(/^matrix/.test(t)){var a=t.slice(7,-1).split(/,\s/).map(Number);r.x+=a[4],r.y+=a[5]}else if(/^matrix3d/.test(t)){var s=t.slice(9,-1).split(/,\s/).map(Number);r.x+=s[12],r.y+=s[13]}i=i.parentNode}var o={},u=ms(e.target),l=ms(n),c=l.width,d=l.height,f=e.offsetY-(l.top-u.top),p=e.offsetX-(l.left-u.left);return e.changedTouches&&(p=e.changedTouches[0].pageX-l.left,f=e.changedTouches[0].pageY+l.top,Pt&&(p-=r.x,f-=r.y)),o.y=1-Math.max(0,Math.min(1,f/d)),o.x=Math.max(0,Math.min(1,p/c)),o}function Gy(n){return oi(n)&&n.nodeType===3}function ch(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function $y(n){return typeof n=="function"&&(n=n()),(Array.isArray(n)?n:[n]).map(function(e){if(typeof e=="function"&&(e=e()),la(e)||Gy(e))return e;if(typeof e=="string"&&/\S/.test(e))return K.createTextNode(e)}).filter(function(e){return e})}function dh(n,e){return $y(e).forEach(function(r){return n.appendChild(r)}),n}function Ky(n,e){return dh(ch(n),e)}function gs(n){return n.button===void 0&&n.buttons===void 0||n.button===0&&n.buttons===void 0||n.type==="mouseup"&&n.button===0&&n.buttons===0?!0:!(n.button!==0||n.buttons!==1)}var Di=jy("querySelector"),Xy=jy("querySelectorAll"),Yy=Object.freeze({__proto__:null,isReal:ua,isEl:la,isInFrame:Uy,createEl:_e,textContent:hn,prependTo:Ld,hasClass:rn,addClass:ei,removeClass:Ds,toggleClass:Vy,setAttributes:Hy,getAttributes:zr,getAttribute:qy,setAttribute:ra,removeAttribute:Fu,blockTextSelection:Wy,unblockTextSelection:zy,getBoundingClientRect:ia,findPosition:ms,getPointerPosition:Nu,isTextNode:Gy,emptyEl:ch,normalizeContent:$y,appendContent:dh,insertContent:Ky,isSingleLeftClick:gs,$:Di,$$:Xy}),Qy=!1,Rd,yI=function(){if(Rd.options.autoSetup!==!1){var e=Array.prototype.slice.call(K.getElementsByTagName("video")),r=Array.prototype.slice.call(K.getElementsByTagName("audio")),i=Array.prototype.slice.call(K.getElementsByTagName("video-js")),t=e.concat(r,i);if(t&&t.length>0)for(var a=0,s=t.length;a<s;a++){var o=t[a];if(o&&o.getAttribute){if(o.player===void 0){var u=o.getAttribute("data-setup");u!==null&&Rd(o)}}else{Md(1);break}}else Qy||Md(1)}};function Md(n,e){ua()&&(e&&(Rd=e),P.setTimeout(yI,n))}function Fd(){Qy=!0,P.removeEventListener("load",Fd)}ua()&&(K.readyState==="complete"?Fd():P.addEventListener("load",Fd));var Jy=function(e){var r=K.createElement("style");return r.className=e,r},Zy=function(e,r){e.styleSheet?e.styleSheet.cssText=r:e.textContent=r},TI=3,bI=TI;function fi(){return bI++}var eT;P.WeakMap||(eT=function(){function n(){this.vdata="vdata"+Math.floor(P.performance&&P.performance.now()||Date.now()),this.data={}}var e=n.prototype;return e.set=function(i,t){var a=i[this.vdata]||fi();return i[this.vdata]||(i[this.vdata]=a),this.data[a]=t,this},e.get=function(i){var t=i[this.vdata];if(t)return this.data[t];he("We have no data for this element",i)},e.has=function(i){var t=i[this.vdata];return t in this.data},e.delete=function(i){var t=i[this.vdata];t&&(delete this.data[t],delete i[this.vdata])},n}());var Dt=P.WeakMap?new WeakMap:new eT;function Pg(n,e){if(Dt.has(n)){var r=Dt.get(n);r.handlers[e].length===0&&(delete r.handlers[e],n.removeEventListener?n.removeEventListener(e,r.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&Dt.delete(n)}}function fh(n,e,r,i){r.forEach(function(t){n(e,t,i)})}function Bu(n){if(n.fixed_)return n;function e(){return!0}function r(){return!1}if(!n||!n.isPropagationStopped||!n.isImmediatePropagationStopped){var i=n||P.event;n={};for(var t in i)t!=="layerX"&&t!=="layerY"&&t!=="keyLocation"&&t!=="webkitMovementX"&&t!=="webkitMovementY"&&t!=="path"&&(t==="returnValue"&&i.preventDefault||(n[t]=i[t]));if(n.target||(n.target=n.srcElement||K),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){i.preventDefault&&i.preventDefault(),n.returnValue=!1,i.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),n.cancelBubble=!0,i.cancelBubble=!0,n.isPropagationStopped=e},n.isPropagationStopped=r,n.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),n.isImmediatePropagationStopped=e,n.stopPropagation()},n.isImmediatePropagationStopped=r,n.clientX!==null&&n.clientX!==void 0){var a=K.documentElement,s=K.body;n.pageX=n.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),n.pageY=n.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}n.which=n.charCode||n.keyCode,n.button!==null&&n.button!==void 0&&(n.button=n.button&1?0:n.button&4?1:n.button&2?2:0)}return n.fixed_=!0,n}var lo,SI=function(){if(typeof lo!="boolean"){lo=!1;try{var e=Object.defineProperty({},"passive",{get:function(){lo=!0}});P.addEventListener("test",null,e),P.removeEventListener("test",null,e)}catch{}}return lo},xI=["touchstart","touchmove"];function rr(n,e,r){if(Array.isArray(e))return fh(rr,n,e,r);Dt.has(n)||Dt.set(n,{});var i=Dt.get(n);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),r.guid||(r.guid=fi()),i.handlers[e].push(r),i.dispatcher||(i.disabled=!1,i.dispatcher=function(a,s){if(!i.disabled){a=Bu(a);var o=i.handlers[a.type];if(o)for(var u=o.slice(0),l=0,c=u.length;l<c&&!a.isImmediatePropagationStopped();l++)try{u[l].call(n,a,s)}catch(d){he.error(d)}}}),i.handlers[e].length===1)if(n.addEventListener){var t=!1;SI()&&xI.indexOf(e)>-1&&(t={passive:!0}),n.addEventListener(e,i.dispatcher,t)}else n.attachEvent&&n.attachEvent("on"+e,i.dispatcher)}function yt(n,e,r){if(Dt.has(n)){var i=Dt.get(n);if(i.handlers){if(Array.isArray(e))return fh(yt,n,e,r);var t=function(l,c){i.handlers[c]=[],Pg(l,c)};if(e===void 0){for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&t(n,a);return}var s=i.handlers[e];if(s){if(!r){t(n,e);return}if(r.guid)for(var o=0;o<s.length;o++)s[o].guid===r.guid&&s.splice(o--,1);Pg(n,e)}}}}function ca(n,e,r){var i=Dt.has(n)?Dt.get(n):{},t=n.parentNode||n.ownerDocument;if(typeof e=="string"?e={type:e,target:n}:e.target||(e.target=n),e=Bu(e),i.dispatcher&&i.dispatcher.call(n,e,r),t&&!e.isPropagationStopped()&&e.bubbles===!0)ca.call(null,t,e,r);else if(!t&&!e.defaultPrevented&&e.target&&e.target[e.type]){Dt.has(e.target)||Dt.set(e.target,{});var a=Dt.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function Uu(n,e,r){if(Array.isArray(e))return fh(Uu,n,e,r);var i=function t(){yt(n,e,t),r.apply(this,arguments)};i.guid=r.guid=r.guid||fi(),rr(n,e,i)}function tT(n,e,r){var i=function t(){yt(n,e,t),r.apply(this,arguments)};i.guid=r.guid=r.guid||fi(),rr(n,e,i)}var EI=Object.freeze({__proto__:null,fixEvent:Bu,on:rr,off:yt,trigger:ca,one:Uu,any:tT}),yr=30,Oe=function(e,r,i){r.guid||(r.guid=fi());var t=r.bind(e);return t.guid=i?i+"_"+r.guid:r.guid,t},ui=function(e,r){var i=P.performance.now(),t=function(){var s=P.performance.now();s-i>=r&&(e.apply(void 0,arguments),i=s)};return t},CI=function(e,r,i,t){t===void 0&&(t=P);var a,s=function(){t.clearTimeout(a),a=null},o=function(){var l=this,c=arguments,d=function(){a=null,d=null,e.apply(l,c)};!a&&i&&e.apply(l,c),t.clearTimeout(a),a=t.setTimeout(d,r)};return o.cancel=s,o},ut=function(){};ut.prototype.allowedEvents_={};ut.prototype.on=function(n,e){var r=this.addEventListener;this.addEventListener=function(){},rr(this,n,e),this.addEventListener=r};ut.prototype.addEventListener=ut.prototype.on;ut.prototype.off=function(n,e){yt(this,n,e)};ut.prototype.removeEventListener=ut.prototype.off;ut.prototype.one=function(n,e){var r=this.addEventListener;this.addEventListener=function(){},Uu(this,n,e),this.addEventListener=r};ut.prototype.any=function(n,e){var r=this.addEventListener;this.addEventListener=function(){},tT(this,n,e),this.addEventListener=r};ut.prototype.trigger=function(n){var e=n.type||n;typeof n=="string"&&(n={type:e}),n=Bu(n),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](n),ca(this,n)};ut.prototype.dispatchEvent=ut.prototype.trigger;var ka;ut.prototype.queueTrigger=function(n){var e=this;ka||(ka=new Map);var r=n.type||n,i=ka.get(this);i||(i=new Map,ka.set(this,i));var t=i.get(r);i.delete(r),P.clearTimeout(t);var a=P.setTimeout(function(){i.delete(r),i.size===0&&(i=null,ka.delete(e)),e.trigger(n)},0);i.set(r,a)};var ju=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},ti=function(e){return e instanceof ut||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(r){return typeof e[r]=="function"})},wI=function(e,r){ti(e)?r():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(r))},Nd=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Qo=function(e,r,i){if(!e||!e.nodeName&&!ti(e))throw new Error("Invalid target for "+ju(r)+"#"+i+"; must be a DOM node or evented object.")},rT=function(e,r,i){if(!Nd(e))throw new Error("Invalid event type for "+ju(r)+"#"+i+"; must be a non-empty string or array.")},iT=function(e,r,i){if(typeof e!="function")throw new Error("Invalid listener for "+ju(r)+"#"+i+"; must be a function.")},Sc=function(e,r,i){var t=r.length<3||r[0]===e||r[0]===e.eventBusEl_,a,s,o;return t?(a=e.eventBusEl_,r.length>=3&&r.shift(),s=r[0],o=r[1]):(a=r[0],s=r[1],o=r[2]),Qo(a,e,i),rT(s,e,i),iT(o,e,i),o=Oe(e,o),{isTargetingSelf:t,target:a,type:s,listener:o}},qi=function(e,r,i,t){Qo(e,e,r),e.nodeName?EI[r](e,i,t):e[r](i,t)},AI={on:function(){for(var e=this,r=arguments.length,i=new Array(r),t=0;t<r;t++)i[t]=arguments[t];var a=Sc(this,i,"on"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(qi(o,"on",u,l),!s){var c=function(){return e.off(o,u,l)};c.guid=l.guid;var d=function(){return e.off("dispose",c)};d.guid=l.guid,qi(this,"on","dispose",c),qi(o,"on","dispose",d)}},one:function(){for(var e=this,r=arguments.length,i=new Array(r),t=0;t<r;t++)i[t]=arguments[t];var a=Sc(this,i,"one"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(s)qi(o,"one",u,l);else{var c=function d(){e.off(o,u,d);for(var f=arguments.length,p=new Array(f),y=0;y<f;y++)p[y]=arguments[y];l.apply(null,p)};c.guid=l.guid,qi(o,"one",u,c)}},any:function(){for(var e=this,r=arguments.length,i=new Array(r),t=0;t<r;t++)i[t]=arguments[t];var a=Sc(this,i,"any"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(s)qi(o,"any",u,l);else{var c=function d(){e.off(o,u,d);for(var f=arguments.length,p=new Array(f),y=0;y<f;y++)p[y]=arguments[y];l.apply(null,p)};c.guid=l.guid,qi(o,"any",u,c)}},off:function(e,r,i){if(!e||Nd(e))yt(this.eventBusEl_,e,r);else{var t=e,a=r;Qo(t,this,"off"),rT(a,this,"off"),iT(i,this,"off"),i=Oe(this,i),this.off("dispose",i),t.nodeName?(yt(t,a,i),yt(t,"dispose",i)):ti(t)&&(t.off(a,i),t.off("dispose",i))}},trigger:function(e,r){Qo(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!Nd(i)){var t="Invalid event type for "+ju(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||he).error(t);else throw new Error(t)}return ca(this.eventBusEl_,e,r)}};function hh(n,e){e===void 0&&(e={});var r=e,i=r.eventBusKey;if(i){if(!n[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');n.eventBusEl_=n[i]}else n.eventBusEl_=_e("span",{className:"vjs-event-bus"});return We(n,AI),n.eventedCallbacks&&n.eventedCallbacks.forEach(function(t){t()}),n.on("dispose",function(){n.off(),[n,n.el_,n.eventBusEl_].forEach(function(t){t&&Dt.has(t)&&Dt.delete(t)}),P.setTimeout(function(){n.eventBusEl_=null},0)}),n}var DI={state:{},setState:function(e){var r=this;typeof e=="function"&&(e=e());var i;return Bn(e,function(t,a){r.state[a]!==t&&(i=i||{},i[a]={from:r.state[a],to:t}),r.state[a]=t}),i&&ti(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function nT(n,e){return We(n,DI),n.state=We({},n.state,e),typeof n.handleStateChanged=="function"&&ti(n)&&n.on("statechanged",n.handleStateChanged),n}var Eo=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toLowerCase()})},Ye=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},kI=function(e,r){return Ye(e)===Ye(r)};function Ie(){for(var n={},e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.forEach(function(t){t&&Bn(t,function(a,s){if(!hs(a)){n[s]=a;return}hs(n[s])||(n[s]={}),n[s]=Ie(n[s],a)})}),n}var PI=function(){function n(){this.map_={}}var e=n.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var t=this.has(i);return delete this.map_[i],t},e.set=function(i,t){return this.map_[i]=t,this},e.forEach=function(i,t){for(var a in this.map_)i.call(t,this.map_[a],a,this)},n}(),II=P.Map?P.Map:PI,OI=function(){function n(){this.set_={}}var e=n.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var t=this.has(i);return delete this.set_[i],t},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,t){for(var a in this.set_)i.call(t,a,a,this)},n}(),xc=P.Set?P.Set:OI,z=function(){function n(r,i,t){var a=this;if(!r&&this.play?this.player_=r=this:this.player_=r,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ie({},this.options_),i=this.options_=Ie(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var s=r&&r.id&&r.id()||"no_player";this.id_=s+"_component_"+fi()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(function(o){return a.addClass(o)}),i.evented!==!1&&(hh(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),nT(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new xc,this.setIntervalIds_=new xc,this.rafIds_=new xc,this.namedRafs_=new II,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(t),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=n.prototype;return e.dispose=function(i){if(i===void 0&&(i={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(i.restoreEl?this.el_.parentNode.replaceChild(i.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return!!this.isDisposed_},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=Ie(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,t,a){return _e(i,t,a)},e.localize=function(i,t,a){a===void 0&&(a=i);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),u=o&&o[s],l=s&&s.split("-")[0],c=o&&o[l],d=a;return u&&u[i]?d=u[i]:c&&c[i]&&(d=c[i]),t&&(d=d.replace(/\{(\d+)\}/g,function(f,p){var y=t[p-1],_=y;return typeof y>"u"&&(_=f),_})),d},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];t=t.reduce(function(u,l){return u.concat(l)},[]);for(var s=this,o=0;o<t.length;o++)if(s=s.getChild(t[o]),!s||!s.getChild)return;return s},e.addChild=function(i,t,a){t===void 0&&(t={}),a===void 0&&(a=this.children_.length);var s,o;if(typeof i=="string"){o=Ye(i);var u=t.componentClass||o;t.name=o;var l=n.getComponent(u);if(!l)throw new Error("Component "+u+" does not exist");if(typeof l!="function")return null;s=new l(this.player_||this,t)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&Ye(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[Eo(o)]=s),typeof s.el=="function"&&s.el()){var c=null;this.children_[a+1]&&(this.children_[a+1].el_?c=this.children_[a+1].el_:la(this.children_[a+1])&&(c=this.children_[a+1])),this.contentEl().insertBefore(s.el(),c)}return s},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var t=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===i){t=!0,this.children_.splice(a,1);break}if(t){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[Ye(i.name())]=null,this.childNameIndex_[Eo(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,t=this.options_.children;if(t){var a=this.options_,s=function(c){var d=c.name,f=c.opts;if(a[d]!==void 0&&(f=a[d]),f!==!1){f===!0&&(f={}),f.playerOptions=i.options_.playerOptions;var p=i.addChild(d,f);p&&(i[d]=p)}},o,u=n.getComponent("Tech");Array.isArray(t)?o=t:o=Object.keys(t),o.concat(Object.keys(this.options_).filter(function(l){return!o.some(function(c){return typeof c=="string"?l===c:l===c.name})})).map(function(l){var c,d;return typeof l=="string"?(c=l,d=t[c]||i.options_[c]||{}):(c=l.name,d=l),{name:c,opts:d}}).filter(function(l){var c=n.getComponent(l.opts.componentClass||Ye(l.name));return c&&!u.isTech(c)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(i,t){if(t===void 0&&(t=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}t?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(i,t){return Di(i,t||this.contentEl())},e.$$=function(i,t){return Xy(i,t||this.contentEl())},e.hasClass=function(i){return rn(this.el_,i)},e.addClass=function(i){ei(this.el_,i)},e.removeClass=function(i){Ds(this.el_,i)},e.toggleClass=function(i,t){Vy(this.el_,i,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return qy(this.el_,i)},e.setAttribute=function(i,t){ra(this.el_,i,t)},e.removeAttribute=function(i){Fu(this.el_,i)},e.width=function(i,t){return this.dimension("width",i,t)},e.height=function(i,t){return this.dimension("height",i,t)},e.dimensions=function(i,t){this.width(i,!0),this.height(t)},e.dimension=function(i,t,a){if(t!==void 0){(t===null||t!==t)&&(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[i]=t:t==="auto"?this.el_.style[i]="":this.el_.style[i]=t+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+Ye(i)],10)},e.currentDimension=function(i){var t=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(t=ps(this.el_,i),t=parseFloat(t),t===0||isNaN(t)){var a="offset"+Ye(i);t=this.el_[a]}return t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(ce.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,t=null,a=10,s=200,o;this.on("touchstart",function(l){l.touches.length===1&&(t={pageX:l.touches[0].pageX,pageY:l.touches[0].pageY},i=P.performance.now(),o=!0)}),this.on("touchmove",function(l){if(l.touches.length>1)o=!1;else if(t){var c=l.touches[0].pageX-t.pageX,d=l.touches[0].pageY-t.pageY,f=Math.sqrt(c*c+d*d);f>a&&(o=!1)}});var u=function(){o=!1};this.on("touchleave",u),this.on("touchcancel",u),this.on("touchend",function(l){if(t=null,o===!0){var c=P.performance.now()-i;c<s&&(l.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=Oe(this.player(),this.player().reportUserActivity),t;this.on("touchstart",function(){i(),this.clearInterval(t),t=this.setInterval(i,250)});var a=function(o){i(),this.clearInterval(t)};this.on("touchmove",i),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(i,t){var a=this,s;return i=Oe(this,i),this.clearTimersOnDispose_(),s=P.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),i()},t),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),P.clearTimeout(i)),i},e.setInterval=function(i,t){i=Oe(this,i),this.clearTimersOnDispose_();var a=P.setInterval(i,t);return this.setIntervalIds_.add(a),a},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),P.clearInterval(i)),i},e.requestAnimationFrame=function(i){var t=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var a;return i=Oe(this,i),a=P.requestAnimationFrame(function(){t.rafIds_.has(a)&&t.rafIds_.delete(a),i()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(i,t){var a=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),t=Oe(this,t);var s=this.requestAnimationFrame(function(){t(),a.namedRafs_.has(i)&&a.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},e.cancelNamedAnimationFrame=function(i){this.namedRafs_.has(i)&&(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),P.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var a=t[0],s=t[1];i[a].forEach(function(o,u){return i[s](u)})}),i.clearingTimersOnDispose_=!1}))},n.registerComponent=function(i,t){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var a=n.getComponent("Tech"),s=a&&a.isTech(t),o=n===t||n.prototype.isPrototypeOf(t.prototype);if(s||!o){var u;throw s?u="techs must be registered using Tech.registerTech()":u="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+u+".")}i=Ye(i),n.components_||(n.components_={});var l=n.getComponent("Player");if(i==="Player"&&l&&l.players){var c=l.players,d=Object.keys(c);if(c&&d.length>0&&d.map(function(f){return c[f]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return n.components_[i]=t,n.components_[Eo(i)]=t,t},n.getComponent=function(i){if(!(!i||!n.components_))return n.components_[i]},n}();z.prototype.supportsRaf_=typeof P.requestAnimationFrame=="function"&&typeof P.cancelAnimationFrame=="function";z.registerComponent("Component",z);function LI(n,e,r){if(typeof e!="number"||e<0||e>r)throw new Error("Failed to execute '"+n+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+r+").")}function Ig(n,e,r,i){return LI(n,i,r.length-1),r[i][e]}function Ec(n){var e;return n===void 0||n.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:n.length,start:Ig.bind(null,"start",0,n),end:Ig.bind(null,"end",1,n)},P.Symbol&&P.Symbol.iterator&&(e[P.Symbol.iterator]=function(){return(n||[]).values()}),e}function nn(n,e){return Array.isArray(n)?Ec(n):n===void 0||e===void 0?Ec():Ec([[n,e]])}function aT(n,e){var r=0,i,t;if(!e)return 0;(!n||!n.length)&&(n=nn(0,0));for(var a=0;a<n.length;a++)i=n.start(a),t=n.end(a),t>e&&(t=e),r+=t-i;return r/e}function kt(n){if(n instanceof kt)return n;typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:oi(n)&&(typeof n.code=="number"&&(this.code=n.code),We(this,n)),this.message||(this.message=kt.defaultMessages[this.code]||"")}kt.prototype.code=0;kt.prototype.message="";kt.prototype.status=null;kt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];kt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Cn=0;Cn<kt.errorTypes.length;Cn++)kt[kt.errorTypes[Cn]]=Cn,kt.prototype[kt.errorTypes[Cn]]=Cn;function Ka(n){return n!=null&&typeof n.then=="function"}function Dr(n){Ka(n)&&n.then(null,function(e){})}var Bd=function(e){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,t,a){return e[t]&&(i[t]=e[t]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return r},RI=function(e){var r=e.$$("track"),i=Array.prototype.map.call(r,function(a){return a.track}),t=Array.prototype.map.call(r,function(a){var s=Bd(a.track);return a.src&&(s.src=a.src),s});return t.concat(Array.prototype.filter.call(e.textTracks(),function(a){return i.indexOf(a)===-1}).map(Bd))},MI=function(e,r){return e.forEach(function(i){var t=r.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(a){return t.addCue(a)})}),r.textTracks()},Og={textTracksToJson:RI,jsonToTextTracks:MI,trackToJson_:Bd},Cc="vjs-modal-dialog",da=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=_e("div",{className:Cc+"-content"},{role:"document"}),a.descEl_=_e("p",{className:Cc+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),hn(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},r.buildCSSClass=function(){return Cc+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},r.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(t){if(typeof t=="boolean"){var a=this.closeable_=!!t,s=this.getChild("closeButton");if(a&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(t){var a=this.contentEl(),s=a.parentNode,o=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),Ky(a,t),this.trigger("modalfill"),o?s.insertBefore(a,o):s.appendChild(a);var u=this.getChild("closeButton");u&&s.appendChild(u.el_)},r.empty=function(){this.trigger("beforemodalempty"),ch(this.contentEl()),this.trigger("modalempty")},r.content=function(t){return typeof t<"u"&&(this.content_=t),this.content_},r.conditionalFocus_=function(){var t=K.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(t)||a===t)&&(this.previouslyActiveEl_=t,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(t){if(t.stopPropagation(),ce.isEventKey(t,"Escape")&&this.closeable()){t.preventDefault(),this.close();return}if(ce.isEventKey(t,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,u=0;u<a.length;u++)if(s===a[u]){o=u;break}K.activeElement===this.el_&&(o=0),t.shiftKey&&o===0?(a[a.length-1].focus(),t.preventDefault()):!t.shiftKey&&o===a.length-1&&(a[0].focus(),t.preventDefault())}},r.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(a){return(a instanceof P.HTMLAnchorElement||a instanceof P.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof P.HTMLInputElement||a instanceof P.HTMLSelectElement||a instanceof P.HTMLTextAreaElement||a instanceof P.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof P.HTMLIFrameElement||a instanceof P.HTMLObjectElement||a instanceof P.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(z);da.prototype.options_={pauseOnOpen:!0,temporary:!0};z.registerComponent("ModalDialog",da);var na=function(n){Y(e,n);function e(i){var t;i===void 0&&(i=[]),t=n.call(this)||this,t.tracks_=[],Object.defineProperty(le(t),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<i.length;a++)t.addTrack(i[a]);return t}var r=e.prototype;return r.addTrack=function(t){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){a.trigger({track:t,type:"labelchange",target:a})},ti(t)&&t.addEventListener("labelchange",t.labelchange_)},r.removeTrack=function(t){for(var a,s=0,o=this.length;s<o;s++)if(this[s]===t){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}a&&this.trigger({track:a,type:"removetrack",target:this})},r.getTrackById=function(t){for(var a=null,s=0,o=this.length;s<o;s++){var u=this[s];if(u.id===t){a=u;break}}return a},e}(ut);na.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var FI in na.prototype.allowedEvents_)na.prototype["on"+FI]=null;var wc=function(e,r){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||r.id===e[i].id||(e[i].enabled=!1)},NI=function(n){Y(e,n);function e(i){var t;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].enabled){wc(i,i[a]);break}return t=n.call(this,i)||this,t.changing_=!1,t}var r=e.prototype;return r.addTrack=function(t){var a=this;t.enabled&&wc(this,t),n.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){a.changing_||(a.changing_=!0,wc(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},r.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},e}(na),Ac=function(e,r){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||r.id===e[i].id||(e[i].selected=!1)},BI=function(n){Y(e,n);function e(i){var t;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].selected){Ac(i,i[a]);break}return t=n.call(this,i)||this,t.changing_=!1,Object.defineProperty(le(t),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),t}var r=e.prototype;return r.addTrack=function(t){var a=this;t.selected&&Ac(this,t),n.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){a.changing_||(a.changing_=!0,Ac(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},r.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},e}(na),sT=function(n){Y(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.addTrack=function(t){var a=this;n.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(na),UI=function(){function n(r){r===void 0&&(r=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,t=r.length;i<t;i++)this.addTrackElement_(r[i])}var e=n.prototype;return e.addTrackElement_=function(i){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var t,a=0,s=this.trackElements_.length;a<s;a++)if(i===this.trackElements_[a].track){t=this.trackElements_[a];break}return t},e.removeTrackElement_=function(i){for(var t=0,a=this.trackElements_.length;t<a;t++)if(i===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},n}(),Lg=function(){function n(r){n.prototype.setCues_.call(this,r),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=n.prototype;return e.setCues_=function(i){var t=this.length||0,a=0,s=i.length;this.cues_=i,this.length_=i.length;var o=function(l){""+l in this||Object.defineProperty(this,""+l,{get:function(){return this.cues_[l]}})};if(t<s)for(a=t;a<s;a++)o.call(this,a)},e.getCueById=function(i){for(var t=null,a=0,s=this.length;a<s;a++){var o=this[a];if(o.id===i){t=o;break}}return t},n}(),jI={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},VI={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},HI={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Rg={disabled:"disabled",hidden:"hidden",showing:"showing"},ph=function(n){Y(e,n);function e(r){var i;r===void 0&&(r={}),i=n.call(this)||this;var t={id:r.id||"vjs_track_"+fi(),kind:r.kind||"",language:r.language||""},a=r.label||"",s=function(l){Object.defineProperty(le(i),l,{get:function(){return t[l]},set:function(){}})};for(var o in t)s(o);return Object.defineProperty(le(i),"label",{get:function(){return a},set:function(l){l!==a&&(a=l,this.trigger("labelchange"))}}),i}return e}(ut),mh=function(e){var r=["protocol","hostname","port","pathname","search","hash","host"],i=K.createElement("a");i.href=e;for(var t={},a=0;a<r.length;a++)t[r[a]]=i[r[a]];return t.protocol==="http:"&&(t.host=t.host.replace(/:80$/,"")),t.protocol==="https:"&&(t.host=t.host.replace(/:443$/,"")),t.protocol||(t.protocol=P.location.protocol),t.host||(t.host=P.location.host),t},oT=function(e){if(!e.match(/^https?:\/\//)){var r=K.createElement("a");r.href=e,e=r.href}return e},gh=function(e){if(typeof e=="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=r.exec(e);if(i)return i.pop().toLowerCase()}return""},Vu=function(e,r){r===void 0&&(r=P.location);var i=mh(e),t=i.protocol===":"?r.protocol:i.protocol,a=t+i.host!==r.protocol+r.host;return a},qI=Object.freeze({__proto__:null,parseUrl:mh,getAbsoluteURL:oT,getFileExtension:gh,isCrossOrigin:Vu}),Mg=function(e,r){var i=new P.WebVTT.Parser(P,P.vttjs,P.WebVTT.StringDecoder()),t=[];i.oncue=function(a){r.addCue(a)},i.onparsingerror=function(a){t.push(a)},i.onflush=function(){r.trigger({type:"loadeddata",target:r})},i.parse(e),t.length>0&&(P.console&&P.console.groupCollapsed&&P.console.groupCollapsed("Text Track parsing errors for "+r.src),t.forEach(function(a){return he.error(a)}),P.console&&P.console.groupEnd&&P.console.groupEnd()),i.flush()},Fg=function(e,r){var i={uri:e},t=Vu(e);t&&(i.cors=t);var a=r.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),k_(i,Oe(this,function(s,o,u){if(s)return he.error(s,o);r.loaded_=!0,typeof P.WebVTT!="function"?r.tech_&&r.tech_.any(["vttjsloaded","vttjserror"],function(l){if(l.type==="vttjserror"){he.error("vttjs failed to load, stopping trying to process "+r.src);return}return Mg(u,r)}):Mg(u,r)}))},ks=function(n){Y(e,n);function e(i){var t;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var a=Ie(i,{kind:HI[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=Rg[a.mode]||"disabled",o=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),t=n.call(this,a)||this,t.tech_=a.tech,t.cues_=[],t.activeCues_=[],t.preload_=t.tech_.preloadTextTracks!==!1;var u=new Lg(t.cues_),l=new Lg(t.activeCues_),c=!1;t.timeupdateHandler=Oe(le(t),function(f){if(f===void 0&&(f={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){f.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1),f.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var d=function(){t.stopTracking()};return t.tech_.one("dispose",d),s!=="disabled"&&t.startTracking(),Object.defineProperties(le(t),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(p){Rg[p]&&s!==p&&(s=p,!this.preload_&&s!=="disabled"&&this.cues.length===0&&Fg(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?u:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return l;for(var p=this.tech_.currentTime(),y=[],_=0,T=this.cues.length;_<T;_++){var E=this.cues[_];(E.startTime<=p&&E.endTime>=p||E.startTime===E.endTime&&E.startTime<=p&&E.startTime+.5>=p)&&y.push(E)}if(c=!1,y.length!==this.activeCues_.length)c=!0;else for(var C=0;C<y.length;C++)this.activeCues_.indexOf(y[C])===-1&&(c=!0);return this.activeCues_=y,l.setCues_(this.activeCues_),l},set:function(){}}}),a.src?(t.src=a.src,t.preload_||(t.loaded_=!0),(t.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&Fg(t.src,le(t))):t.loaded_=!0,t}var r=e.prototype;return r.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},r.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},r.addCue=function(t){var a=t;if(a.constructor&&a.constructor.name!=="VTTCue"){a=new P.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var s in t)s in a||(a[s]=t[s]);a.id=t.id,a.originalCue_=t}for(var o=this.tech_.textTracks(),u=0;u<o.length;u++)o[u]!==this&&o[u].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},r.removeCue=function(t){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===t||s.originalCue_&&s.originalCue_===t){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(ph);ks.prototype.allowedEvents_={cuechange:"cuechange"};var uT=function(n){Y(e,n);function e(r){var i;r===void 0&&(r={});var t=Ie(r,{kind:VI[r.kind]||""});i=n.call(this,t)||this;var a=!1;return Object.defineProperty(le(i),"enabled",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("enabledchange"))}}),t.enabled&&(i.enabled=t.enabled),i.loaded_=!0,i}return e}(ph),lT=function(n){Y(e,n);function e(r){var i;r===void 0&&(r={});var t=Ie(r,{kind:jI[r.kind]||""});i=n.call(this,t)||this;var a=!1;return Object.defineProperty(le(i),"selected",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("selectedchange"))}}),t.selected&&(i.selected=t.selected),i}return e}(ph),cT=0,WI=1,dT=2,zI=3,fa=function(n){Y(e,n);function e(r){var i;r===void 0&&(r={}),i=n.call(this)||this;var t,a=new ks(r);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i.default=a.default,Object.defineProperties(le(i),{readyState:{get:function(){return t}},track:{get:function(){return a}}}),t=cT,a.addEventListener("loadeddata",function(){t=dT,i.trigger({type:"load",target:le(i)})}),i}return e}(ut);fa.prototype.allowedEvents_={load:"load"};fa.NONE=cT;fa.LOADING=WI;fa.LOADED=dT;fa.ERROR=zI;var or={audio:{ListClass:NI,TrackClass:uT,capitalName:"Audio"},video:{ListClass:BI,TrackClass:lT,capitalName:"Video"},text:{ListClass:sT,TrackClass:ks,capitalName:"Text"}};Object.keys(or).forEach(function(n){or[n].getterName=n+"Tracks",or[n].privateName=n+"Tracks_"});var aa={remoteText:{ListClass:sT,TrackClass:ks,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:UI,TrackClass:fa,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Et=lr({},or,aa);aa.names=Object.keys(aa);or.names=Object.keys(or);Et.names=[].concat(aa.names).concat(or.names);function GI(n,e,r,i,t){t===void 0&&(t={});var a=n.textTracks();t.kind=e,r&&(t.label=r),i&&(t.language=i),t.tech=n;var s=new Et.text.TrackClass(t);return a.addTrack(s),s}var we=function(n){Y(e,n);function e(i,t){var a;return i===void 0&&(i={}),t===void 0&&(t=function(){}),i.reportTouchActivity=!1,a=n.call(this,null,i,t)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.queuedHanders_=new Set,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),Et.names.forEach(function(s){var o=Et[s];i&&i[o.getterName]&&(a[o.privateName]=i[o.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=i.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new Et.text.ListClass,a.initTrackListeners(),i.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var r=e.prototype;return r.triggerSourceset=function(t){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Oe(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(t){this.duration_=this.duration()},r.buffered=function(){return nn(0,0)},r.bufferedPercent=function(){return aT(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(or.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),n.prototype.dispose.call(this)},r.clearTracks=function(t){var a=this;t=[].concat(t),t.forEach(function(s){for(var o=a[s+"Tracks"]()||[],u=o.length;u--;){var l=o[u];s==="text"&&a.removeRemoteTextTrack(l),o.removeTrack(l)}})},r.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],a=t.length;a--;){var s=t[a];this.removeRemoteTextTrack(s)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(t){return t!==void 0&&(this.error_=new kt(t),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?nn(0,0):nn()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var t=this;or.names.forEach(function(a){var s=or[a],o=function(){t.trigger(a+"trackchange")},u=t[s.getterName]();u.addEventListener("removetrack",o),u.addEventListener("addtrack",o),t.on("dispose",function(){u.removeEventListener("removetrack",o),u.removeEventListener("addtrack",o)})})},r.addWebVttScript_=function(){var t=this;if(!P.WebVTT)if(K.body.contains(this.el())){if(!this.options_["vtt.js"]&&hs(Qm)&&Object.keys(Qm).length>0){this.trigger("vttjsloaded");return}var a=K.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){t.trigger("vttjsloaded")},a.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),P.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var t=this,a=this.textTracks(),s=this.remoteTextTracks(),o=function(f){return a.addTrack(f.track)},u=function(f){return a.removeTrack(f.track)};s.on("addtrack",o),s.on("removetrack",u),this.addWebVttScript_();var l=function(){return t.trigger("texttrackchange")},c=function(){l();for(var f=0;f<a.length;f++){var p=a[f];p.removeEventListener("cuechange",l),p.mode==="showing"&&p.addEventListener("cuechange",l)}};c(),a.addEventListener("change",c),a.addEventListener("addtrack",c),a.addEventListener("removetrack",c),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",u),a.removeEventListener("change",c),a.removeEventListener("addtrack",c),a.removeEventListener("removetrack",c);for(var d=0;d<a.length;d++){var f=a[d];f.removeEventListener("cuechange",l)}})},r.addTextTrack=function(t,a,s){if(!t)throw new Error("TextTrack kind is required but was not provided");return GI(this,t,a,s)},r.createRemoteTextTrack=function(t){var a=Ie(t,{tech:this});return new aa.remoteTextEl.TrackClass(a)},r.addRemoteTextTrack=function(t,a){var s=this;t===void 0&&(t={});var o=this.createRemoteTextTrack(t);return a!==!0&&a!==!1&&(he.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},r.removeRemoteTextTrack=function(t){var a=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var t=this.options_.Promise||P.Promise;if(t)return t.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.requestVideoFrameCallback=function(t){var a=this,s=fi();return!this.isReady_||this.paused()?(this.queuedHanders_.add(s),this.one("playing",function(){a.queuedHanders_.has(s)&&(a.queuedHanders_.delete(s),t())})):this.requestNamedAnimationFrame(s,t),s},r.cancelVideoFrameCallback=function(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,a){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Ye(t),e.techs_[t]=a,e.techs_[Eo(t)]=a,t!=="Tech"&&e.defaultTechOrder_.push(t),a},e.getTech=function(t){if(t){if(e.techs_&&e.techs_[t])return e.techs_[t];if(t=Ye(t),P&&P.videojs&&P.videojs[t])return he.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),P.videojs[t]}},e}(z);Et.names.forEach(function(n){var e=Et[n];we.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});we.prototype.featuresVolumeControl=!0;we.prototype.featuresMuteControl=!0;we.prototype.featuresFullscreenResize=!1;we.prototype.featuresPlaybackRate=!1;we.prototype.featuresProgressEvents=!1;we.prototype.featuresSourceset=!1;we.prototype.featuresTimeupdateEvents=!1;we.prototype.featuresNativeTextTracks=!1;we.prototype.featuresVideoFrameCallback=!1;we.withSourceHandlers=function(n){n.registerSourceHandler=function(r,i){var t=n.sourceHandlers;t||(t=n.sourceHandlers=[]),i===void 0&&(i=t.length),t.splice(i,0,r)},n.canPlayType=function(r){for(var i=n.sourceHandlers||[],t,a=0;a<i.length;a++)if(t=i[a].canPlayType(r),t)return t;return""},n.selectSourceHandler=function(r,i){for(var t=n.sourceHandlers||[],a,s=0;s<t.length;s++)if(a=t[s].canHandleSource(r,i),a)return t[s];return null},n.canPlaySource=function(r,i){var t=n.selectSourceHandler(r,i);return t?t.canHandleSource(r,i):""};var e=["seekable","seeking","duration"];e.forEach(function(r){var i=this[r];typeof i=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},n.prototype),n.prototype.setSource=function(r){var i=n.selectSourceHandler(r,this.options_);i||(n.nativeSourceHandler?i=n.nativeSourceHandler:he.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==n.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=i.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};z.registerComponent("Tech",we);we.registerTech("Tech",we);we.defaultTechOrder_=[];var an={},Ud={},Jo={};function $I(n,e){an[n]=an[n]||[],an[n].push(e)}function KI(n,e,r){n.setTimeout(function(){return Gi(e,an[e.type],r,n)},1)}function XI(n,e){n.forEach(function(r){return r.setTech&&r.setTech(e)})}function YI(n,e,r){return n.reduceRight(vh(r),e[r]())}function QI(n,e,r,i){return e[r](n.reduce(vh(r),i))}function Ng(n,e,r,i){i===void 0&&(i=null);var t="call"+Ye(r),a=n.reduce(vh(t),i),s=a===Jo,o=s?null:e[r](a);return eO(n,r,o,s),o}var JI={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},ZI={setCurrentTime:1,setMuted:1,setVolume:1},Bg={play:1,pause:1};function vh(n){return function(e,r){return e===Jo?Jo:r[n]?r[n](e):e}}function eO(n,e,r,i){for(var t=n.length-1;t>=0;t--){var a=n[t];a[e]&&a[e](i,r)}}function tO(n){Ud[n.id()]=null}function rO(n,e){var r=Ud[n.id()],i=null;if(r==null)return i=e(n),Ud[n.id()]=[[e,i]],i;for(var t=0;t<r.length;t++){var a=r[t],s=a[0],o=a[1];s===e&&(i=o)}return i===null&&(i=e(n),r.push([e,i])),i}function Gi(n,e,r,i,t,a){n===void 0&&(n={}),e===void 0&&(e=[]),t===void 0&&(t=[]),a===void 0&&(a=!1);var s=e,o=s[0],u=s.slice(1);if(typeof o=="string")Gi(n,an[o],r,i,t,a);else if(o){var l=rO(i,o);if(!l.setSource)return t.push(l),Gi(n,u,r,i,t,a);l.setSource(We({},n),function(c,d){if(c)return Gi(n,u,r,i,t,a);t.push(l),Gi(d,n.type===d.type?u:an[d.type],r,i,t,a)})}else u.length?Gi(n,u,r,i,t,a):a?r(n,t):Gi(n,an["*"],r,i,t,!0)}var iO={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Zo=function(e){e===void 0&&(e="");var r=gh(e),i=iO[r.toLowerCase()];return i||""},nO=function(e,r){if(!r)return"";if(e.cache_.source.src===r&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(o){return o.src===r});if(i.length)return i[0].type;for(var t=e.$$("source"),a=0;a<t.length;a++){var s=t[a];if(s.type&&s.src&&s.src===r)return s.type}return Zo(r)},aO=function n(e){if(Array.isArray(e)){var r=[];e.forEach(function(i){i=n(i),Array.isArray(i)?r=r.concat(i):oi(i)&&r.push(i)}),e=r}else typeof e=="string"&&e.trim()?e=[Ug({src:e})]:oi(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[Ug(e)]:e=[];return e};function Ug(n){if(!n.type){var e=Zo(n.src);e&&(n.type=e)}return n}var sO=function(n){Y(e,n);function e(r,i,t){var a,s=Ie({createEl:!1},i);if(a=n.call(this,r,s,t)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var o=0,u=i.playerOptions.techOrder;o<u.length;o++){var l=Ye(u[o]),c=we.getTech(l);if(l||(c=z.getComponent(l)),c&&c.isSupported()){r.loadTech_(l);break}}else r.src(i.playerOptions.sources);return a}return e}(z);z.registerComponent("MediaLoader",sO);var Hu=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.options_.controlText&&a.controlText(a.options_.controlText),a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var r=e.prototype;return r.createEl=function(t,a,s){t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=We({className:this.buildCSSClass(),tabIndex:0},a),t==="button"&&he.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),s=We({role:"button"},s),this.tabIndex_=a.tabIndex;var o=_e(t,a,s);return o.appendChild(_e("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.dispose=function(){this.controlTextEl_=null,n.prototype.dispose.call(this)},r.createControlTextEl=function(t){return this.controlTextEl_=_e("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},r.controlText=function(t,a){if(a===void 0&&(a=this.el()),t===void 0)return this.controlText_||"Need Text";var s=this.localize(t);this.controlText_=t,hn(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},r.buildCSSClass=function(){return"vjs-control vjs-button "+n.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(t){ce.isEventKey(t,"Space")||ce.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,t)},e}(z);z.registerComponent("ClickableComponent",Hu);var oO=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.update(),a.update_=function(s){return a.update(s)},i.on("posterchange",a.update_),a}var r=e.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),n.prototype.dispose.call(this)},r.createEl=function(){var t=_e("div",{className:"vjs-poster",tabIndex:-1});return t},r.update=function(t){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},r.setSrc=function(t){var a="";t&&(a='url("'+t+'")'),this.el_.style.backgroundImage=a},r.handleClick=function(t){if(this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((As||ws)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?Dr(this.player_.play()):this.player_.pause()}},e}(Hu);z.registerComponent("PosterImage",oO);var ir="#222",jg="#ccc",uO={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Dc(n,e){var r;if(n.length===4)r=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else if(n.length===7)r=n.slice(1);else throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function kc(n,e,r){try{n.style[e]=r}catch{return}}var lO=function(n){Y(e,n);function e(i,t,a){var s;s=n.call(this,i,t,a)||this;var o=function(l){return s.updateDisplay(l)};return i.on("loadstart",function(u){return s.toggleDisplay(u)}),i.on("texttrackchange",o),i.on("loadedmetadata",function(u){return s.preselectTrack(u)}),i.ready(Oe(le(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",o),i.on("playerresize",o),P.addEventListener("orientationchange",o),i.on("dispose",function(){return P.removeEventListener("orientationchange",o)});for(var u=this.options_.playerOptions.tracks||[],l=0;l<u.length;l++)this.player_.addRemoteTextTrack(u[l],!0);this.preselectTrack()})),s}var r=e.prototype;return r.preselectTrack=function(){for(var t={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,u,l,c=0;c<a.length;c++){var d=a[c];s&&s.enabled&&s.language&&s.language===d.language&&d.kind in t?d.kind===s.kind?l=d:l||(l=d):s&&!s.enabled?(l=null,o=null,u=null):d.default&&(d.kind==="descriptions"&&!o?o=d:d.kind in t&&!u&&(u=d))}l?l.mode="showing":u?u.mode="showing":o&&(o.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){typeof P.WebVTT=="function"&&P.WebVTT.processCues(P,[],this.el_)},r.updateDisplay=function(){var t=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],o=0;o<t.length;++o){var u=t[o];u.mode==="showing"&&s.push(u)}this.updateForTrack(s);return}for(var l=null,c=null,d=t.length;d--;){var f=t[d];f.mode==="showing"&&(f.kind==="descriptions"?l=f:c=f)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):l&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(l))},r.updateDisplayState=function(t){for(var a=this.player_.textTrackSettings.getValues(),s=t.activeCues,o=s.length;o--;){var u=s[o];if(u){var l=u.displayState;if(a.color&&(l.firstChild.style.color=a.color),a.textOpacity&&kc(l.firstChild,"color",Dc(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(l.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&kc(l.firstChild,"backgroundColor",Dc(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?kc(l,"backgroundColor",Dc(a.windowColor,a.windowOpacity)):l.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?l.firstChild.style.textShadow="2px 2px 3px "+ir+", 2px 2px 4px "+ir+", 2px 2px 5px "+ir:a.edgeStyle==="raised"?l.firstChild.style.textShadow="1px 1px "+ir+", 2px 2px "+ir+", 3px 3px "+ir:a.edgeStyle==="depressed"?l.firstChild.style.textShadow="1px 1px "+jg+", 0 1px "+jg+", -1px -1px "+ir+", 0 -1px "+ir:a.edgeStyle==="uniform"&&(l.firstChild.style.textShadow="0 0 4px "+ir+", 0 0 4px "+ir+", 0 0 4px "+ir+", 0 0 4px "+ir)),a.fontPercent&&a.fontPercent!==1){var c=P.parseFloat(l.style.fontSize);l.style.fontSize=c*a.fontPercent+"px",l.style.height="auto",l.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?l.firstChild.style.fontVariant="small-caps":l.firstChild.style.fontFamily=uO[a.fontFamily])}}},r.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),!(typeof P.WebVTT!="function"||t.every(function(p){return!p.activeCues}))){for(var a=[],s=0;s<t.length;++s)for(var o=t[s],u=0;u<o.activeCues.length;++u)a.push(o.activeCues[u]);P.WebVTT.processCues(P,a,this.el_);for(var l=0;l<t.length;++l){for(var c=t[l],d=0;d<c.activeCues.length;++d){var f=c.activeCues[d].displayState;ei(f,"vjs-text-track-cue"),ei(f,"vjs-text-track-cue-"+(c.language?c.language:l)),c.language&&ra(f,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},e}(z);z.registerComponent("TextTrackDisplay",lO);var cO=function(n){Y(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var t=this.player_.isAudio(),a=this.localize(t?"Audio Player":"Video Player"),s=_e("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),o=n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},e}(z);z.registerComponent("LoadingSpinner",cO);var vr=function(n){Y(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(t,a,s){a===void 0&&(a={}),s===void 0&&(s={}),t="button",a=We({className:this.buildCSSClass()},a),s=We({type:"button"},s);var o=_e(t,a,s);return o.appendChild(_e("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.addChild=function(t,a){a===void 0&&(a={});var s=this.constructor.name;return he.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),z.prototype.addChild.call(this,t,a)},r.enable=function(){n.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){n.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(t){if(ce.isEventKey(t,"Space")||ce.isEventKey(t,"Enter")){t.stopPropagation();return}n.prototype.handleKeyDown.call(this,t)},e}(Hu);z.registerComponent("Button",vr);var fT=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(t){var a=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Dr(a),this.player_.tech(!0)&&!((As||ws)&&s)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),u=o&&o.getChild("playToggle");if(!u){this.player_.tech(!0).focus();return}var l=function(){return u.focus()};Ka(a)?a.then(l,function(){}):this.setTimeout(l,1)},r.handleKeyDown=function(t){this.mouseused_=!1,n.prototype.handleKeyDown.call(this,t)},r.handleMouseDown=function(t){this.mouseused_=!0},e}(vr);fT.prototype.controlText_="Play Video";z.registerComponent("BigPlayButton",fT);var dO=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.controlText(t&&t.controlText||a.localize("Close")),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},r.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(t){ce.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,t)},e}(vr);z.registerComponent("CloseButton",dO);var hT=function(n){Y(e,n);function e(i,t){var a;return t===void 0&&(t={}),a=n.call(this,i,t)||this,t.replay=t.replay===void 0||t.replay,a.on(i,"play",function(s){return a.handlePlay(s)}),a.on(i,"pause",function(s){return a.handlePause(s)}),t.replay&&a.on(i,"ended",function(s){return a.handleEnded(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},r.handleClick=function(t){this.player_.paused()?Dr(this.player_.play()):this.player_.pause()},r.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},r.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(t){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}(vr);hT.prototype.controlText_="Play";z.registerComponent("PlayToggle",hT);var pT=function(e,r){e=e<0?0:e;var i=Math.floor(e%60),t=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(r/60%60),o=Math.floor(r/3600);return(isNaN(e)||e===1/0)&&(a=t=i="-"),a=a>0||o>0?a+":":"",t=((a||s>=10)&&t<10?"0"+t:t)+":",i=i<10?"0"+i:i,a+t+i},_h=pT;function fO(n){_h=n}function hO(){_h=pT}function sa(n,e){return e===void 0&&(e=n),_h(n,e)}var ha=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.on(i,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var r=e.prototype;return r.createEl=function(){var t=this.buildCSSClass(),a=n.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),s=_e("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return a.appendChild(s),this.contentEl_=_e("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},r.dispose=function(){this.contentEl_=null,this.textNode_=null,n.prototype.dispose.call(this)},r.updateTextNode_=function(t){var a=this;t===void 0&&(t=0),t=sa(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,he.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=K.createTextNode(a.formattedTime_),a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},r.updateContent=function(t){},e}(z);ha.prototype.labelText_="Time";ha.prototype.controlText_="Time";z.registerComponent("TimeDisplay",ha);var yh=function(n){Y(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(t){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(ha);yh.prototype.labelText_="Current Time";yh.prototype.controlText_="Current Time";z.registerComponent("CurrentTimeDisplay",yh);var Th=function(n){Y(e,n);function e(i,t){var a;a=n.call(this,i,t)||this;var s=function(u){return a.updateContent(u)};return a.on(i,"durationchange",s),a.on(i,"loadstart",s),a.on(i,"loadedmetadata",s),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(t){var a=this.player_.duration();this.updateTextNode_(a)},e}(ha);Th.prototype.labelText_="Duration";Th.prototype.controlText_="Duration";z.registerComponent("DurationDisplay",Th);var pO=function(n){Y(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=n.prototype.createEl.call(this,"div"),s=n.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),t.appendChild(a),t},e}(z);z.registerComponent("TimeDivider",pO);var bh=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.on(i,"durationchange",function(s){return a.updateContent(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var t=n.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&t.insertBefore(_e("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},r.updateContent=function(t){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(ha);bh.prototype.labelText_="Remaining Time";bh.prototype.controlText_="Remaining Time";z.registerComponent("RemainingTimeDisplay",bh);var mO=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var r=e.prototype;return r.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=_e("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(_e("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(K.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},r.dispose=function(){this.contentEl_=null,n.prototype.dispose.call(this)},r.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(z);z.registerComponent("LiveDisplay",mO);var mT=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var r=e.prototype;return r.createEl=function(){var t=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=_e("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,n.prototype.dispose.call(this)},e}(vr);mT.prototype.controlText_="Seek to live, currently playing live";z.registerComponent("SeekToLive",mT);var qu=function(e,r,i){return e=Number(e),Math.min(i,Math.max(r,isNaN(e)?r:e))},Sh=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var r=e.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(t,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=We({tabIndex:0},a),s=We({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),n.prototype.createEl.call(this,t,a,s)},r.handleMouseDown=function(t){var a=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type==="touchstart"&&!di&&t.preventDefault(),Wy(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)},r.handleMouseMove=function(t){},r.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;zy(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var t=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=t.vertical()?"height":"width";t.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},r.getProgress=function(){return Number(qu(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(t){var a=Nu(this.el_,t);return this.vertical()?a.y:a.x},r.handleKeyDown=function(t){ce.isEventKey(t,"Left")||ce.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):ce.isEventKey(t,"Right")||ce.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):n.prototype.handleKeyDown.call(this,t)},r.handleClick=function(t){t.stopPropagation(),t.preventDefault()},r.vertical=function(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(z);z.registerComponent("Slider",Sh);var Pc=function(e,r){return qu(e/r*100,0,100).toFixed(2)+"%"},gO=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.partEls_=[],a.on(i,"progress",function(s){return a.update(s)}),a}var r=e.prototype;return r.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=_e("span",{className:"vjs-control-text"}),s=_e("span",{textContent:this.localize("Loaded")}),o=K.createTextNode(": ");return this.percentageEl_=_e("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(a),a.appendChild(s),a.appendChild(o),a.appendChild(this.percentageEl_),t},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,n.prototype.dispose.call(this)},r.update=function(t){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,o=a.player_.buffered(),u=s&&s.isLive()?s.seekableEnd():a.player_.duration(),l=a.player_.bufferedEnd(),c=a.partEls_,d=Pc(l,u);a.percent_!==d&&(a.el_.style.width=d,hn(a.percentageEl_,d),a.percent_=d);for(var f=0;f<o.length;f++){var p=o.start(f),y=o.end(f),_=c[f];_||(_=a.el_.appendChild(_e()),c[f]=_),!(_.dataset.start===p&&_.dataset.end===y)&&(_.dataset.start=p,_.dataset.end=y,_.style.left=Pc(p,l),_.style.width=Pc(y-p,l))}for(var T=c.length;T>o.length;T--)a.el_.removeChild(c[T-1]);c.length=o.length})},e}(z);z.registerComponent("LoadProgressBar",gO);var vO=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.update=ui(Oe(le(a),a.update),yr),a}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(t,a,s){var o=ms(this.el_),u=ia(this.player_.el()),l=t.width*a;if(!(!u||!o)){var c=t.left-u.left+l,d=t.width-l+(u.right-t.right),f=o.width/2;c<f?f+=f-c:d<f&&(f=d),f<0?f=0:f>o.width&&(f=o.width),f=Math.round(f),this.el_.style.right="-"+f+"px",this.write(s)}},r.write=function(t){hn(this.el_,t)},r.updateTime=function(t,a,s,o){var u=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var l,c=u.player_.duration();if(u.player_.liveTracker&&u.player_.liveTracker.isLive()){var d=u.player_.liveTracker.liveWindow(),f=d-a*d;l=(f<1?"":"-")+sa(f,d)}else l=sa(s,c);u.update(t,a,l),o&&o()})},e}(z);z.registerComponent("TimeTooltip",vO);var xh=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.update=ui(Oe(le(a),a.update),yr),a}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(t,a){var s=this.getChild("timeTooltip");if(s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(t,a,o)}},e}(z);xh.prototype.options_={children:[]};!Pt&&!ci&&xh.prototype.options_.children.push("timeTooltip");z.registerComponent("PlayProgressBar",xh);var gT=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.update=ui(Oe(le(a),a.update),yr),a}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(t,a){var s=this,o=a*this.player_.duration();this.getChild("timeTooltip").updateTime(t,a,o,function(){s.el_.style.left=t.width*a+"px"})},e}(z);gT.prototype.options_={children:["timeTooltip"]};z.registerComponent("MouseTimeDisplay",gT);var co=5,Vg=12,Eh=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.setEventHandlers_(),a}var r=e.prototype;return r.setEventHandlers_=function(){var t=this;this.update_=Oe(this,this.update),this.update=ui(this.update_,yr),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return t.enableInterval_(a)},this.disableIntervalHandler_=function(a){return t.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in K&&"visibilityState"in K&&this.on(K,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(t){K.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,yr))},r.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&t.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(t){var a=this;if(K.visibilityState!=="hidden"){var s=n.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),u=a.player_.liveTracker,l=a.player_.duration();u&&u.isLive()&&(l=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==o||a.duration_!==l)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[sa(o,l),sa(l,l)],"{1} of {2}")),a.currentTime_=o,a.duration_=l),a.bar&&a.bar.update(ia(a.el()),a.getProgress())}),s}},r.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var t=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(t-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=t/this.player_.duration(),a},r.handleMouseDown=function(t){gs(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),n.prototype.handleMouseDown.call(this,t))},r.handleMouseMove=function(t,a){if(a===void 0&&(a=!1),!!gs(t)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var s,o=this.calculateDistance(t),u=this.player_.liveTracker;if(!u||!u.isLive())s=o*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(o>=.99){u.seekToLiveEdge();return}var l=u.seekableStart(),c=u.liveCurrentTime();if(s=l+o*u.liveWindow(),s>=c&&(s=c),s<=l&&(s=l+.1),s===1/0)return}this.userSeek_(s)}},r.enable=function(){n.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},r.disable=function(){n.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},r.handleMouseUp=function(t){n.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Dr(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+co)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-co)},r.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(t){var a=this.player_.liveTracker;if(ce.isEventKey(t,"Space")||ce.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(ce.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(ce.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(ce(t))){t.preventDefault(),t.stopPropagation();var s=(ce.codes[ce(t)]-ce.codes[0])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else ce.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-co*Vg)):ce.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+co*Vg)):n.prototype.handleKeyDown.call(this,t)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in K&&"visibilityState"in K&&this.off(K,"visibilitychange",this.toggleVisibility_),n.prototype.dispose.call(this)},e}(Sh);Eh.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Pt&&!ci&&Eh.prototype.options_.children.splice(1,0,"mouseTimeDisplay");z.registerComponent("SeekBar",Eh);var vT=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.handleMouseMove=ui(Oe(le(a),a.handleMouseMove),yr),a.throttledHandleMouseSeek=ui(Oe(le(a),a.handleMouseSeek),yr),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(t){var a=this.getChild("seekBar");if(a){var s=a.getChild("playProgressBar"),o=a.getChild("mouseTimeDisplay");if(!(!s&&!o)){var u=a.el(),l=ms(u),c=Nu(u,t).x;c=qu(c,0,1),o&&o.update(l,c),s&&s.update(l,a.getProgress())}}},r.handleMouseSeek=function(t){var a=this.getChild("seekBar");a&&a.handleMouseMove(t)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&Dr(this.player_.play())}},r.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(t){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(t),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(t){var a=this.getChild("seekBar");a&&a.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},e}(z);vT.prototype.options_={children:["seekBar"]};z.registerComponent("ProgressControl",vT);var _T=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.on(i,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var s=i.currentType().substring(0,5)==="audio";s||i.audioPosterMode()||i.audioOnlyMode()?(i.isInPictureInPicture()&&i.exitPictureInPicture(),a.hide()):a.show()}),a.disable(),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+n.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){K.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},r.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(vr);_T.prototype.controlText_="Picture-in-Picture";z.registerComponent("PictureInPictureToggle",_T);var yT=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.on(i,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),K[i.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(vr);yT.prototype.controlText_="Fullscreen";z.registerComponent("FullscreenToggle",yT);var _O=function(e,r){r.tech_&&!r.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},yO=function(n){Y(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(n.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},e}(z);z.registerComponent("VolumeLevel",yO);var TO=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.update=ui(Oe(le(a),a.update),yr),a}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(t,a,s,o){if(!s){var u=ia(this.el_),l=ia(this.player_.el()),c=t.width*a;if(!l||!u)return;var d=t.left-l.left+c,f=t.width-c+(l.right-t.right),p=u.width/2;d<p?p+=p-d:f<p&&(p=f),p<0?p=0:p>u.width&&(p=u.width),this.el_.style.right="-"+p+"px"}this.write(o+"%")},r.write=function(t){hn(this.el_,t)},r.updateVolume=function(t,a,s,o,u){var l=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){l.update(t,a,s,o.toFixed(0)),u&&u()})},e}(z);z.registerComponent("VolumeLevelTooltip",TO);var TT=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.update=ui(Oe(le(a),a.update),yr),a}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(t,a,s){var o=this,u=100*a;this.getChild("volumeLevelTooltip").updateVolume(t,a,s,u,function(){s?o.el_.style.bottom=t.height*a+"px":o.el_.style.left=t.width*a+"px"})},e}(z);TT.prototype.options_={children:["volumeLevelTooltip"]};z.registerComponent("MouseVolumeLevelDisplay",TT);var Wu=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(i,"volumechange",function(s){return a.updateARIAAttributes(s)}),i.ready(function(){return a.updateARIAAttributes()}),a}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(t){gs(t)&&n.prototype.handleMouseDown.call(this,t)},r.handleMouseMove=function(t){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),o=ia(s),u=this.vertical(),l=Nu(s,t);l=u?l.y:l.x,l=qu(l,0,1),a.update(o,l,u)}gs(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(t){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},r.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},r.updateLastVolume_=function(){var t=this,a=this.player_.volume();this.one("sliderinactive",function(){t.player_.volume()===0&&t.player_.lastVolume_(a)})},e}(Sh);Wu.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Pt&&!ci&&Wu.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Wu.prototype.playerEvent="volumechange";z.registerComponent("VolumeBar",Wu);var bT=function(n){Y(e,n);function e(i,t){var a;return t===void 0&&(t={}),t.vertical=t.vertical||!1,(typeof t.volumeBar>"u"||hs(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),a=n.call(this,i,t)||this,_O(le(a),i),a.throttledHandleMouseMove=ui(Oe(le(a),a.handleMouseMove),yr),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var r=e.prototype;return r.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},r.handleMouseDown=function(t){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(t){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(z);bT.prototype.options_={children:["volumeBar"]};z.registerComponent("VolumeControl",bT);var bO=function(e,r){r.tech_&&!r.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},ST=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,bO(le(a),i),a.on(i,["loadstart","volumechange"],function(s){return a.update(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},r.handleClick=function(t){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(t){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var t=this.player_.volume(),a=3;Pt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?a=0:t<.33?a=1:t<.67&&(a=2);for(var s=0;s<4;s++)Ds(this.el_,"vjs-vol-"+s);ei(this.el_,"vjs-vol-"+a)},r.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0,a=t?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}(vr);ST.prototype.controlText_="Mute";z.registerComponent("MuteToggle",ST);var xT=function(n){Y(e,n);function e(i,t){var a;return t===void 0&&(t={}),typeof t.inline<"u"?t.inline=t.inline:t.inline=!0,(typeof t.volumeControl>"u"||hs(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),a=n.call(this,i,t)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(i,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var r=e.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},r.dispose=function(){this.handleMouseOut(),n.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(t){ce.isEventKey(t,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(t){this.addClass("vjs-hover"),rr(K,"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(t){this.removeClass("vjs-hover"),yt(K,"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(t){ce.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(z);xT.prototype.options_={children:["muteToggle","volumeControl"]};z.registerComponent("VolumePanel",xT);var ET=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,t&&(a.menuButton_=t.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var r=e.prototype;return r.addEventListenerForItem=function(t){t instanceof z&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(t){t instanceof z&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),n.prototype.removeChild.call(this,t)},r.addItem=function(t){var a=this.addChild(t);a&&this.addEventListenerForItem(a)},r.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=_e(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),rr(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,n.prototype.dispose.call(this)},r.handleBlur=function(t){var a=t.relatedTarget||K.activeElement;if(!this.children().some(function(o){return o.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},r.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(o){return o.el()===t.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},r.handleKeyDown=function(t){ce.isEventKey(t,"Left")||ce.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(ce.isEventKey(t,"Right")||ce.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},r.stepForward=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)},r.stepBack=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)},r.focus=function(t){t===void 0&&(t=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(t<0?t=0:t>=a.length&&(t=a.length-1),this.focusedChild_=t,a[t].el_.focus())},e}(z);z.registerComponent("Menu",ET);var Ch=function(n){Y(e,n);function e(i,t){var a;t===void 0&&(t={}),a=n.call(this,i,t)||this,a.menuButton_=new vr(i,t),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=vr.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var o=function(l){return a.handleClick(l)};return a.handleMenuKeyUp_=function(u){return a.handleMenuKeyUp(u)},a.on(a.menuButton_,"tap",o),a.on(a.menuButton_,"click",o),a.on(a.menuButton_,"keydown",function(u){return a.handleKeyDown(u)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),rr(K,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(u){return a.handleMouseLeave(u)}),a.on("keydown",function(u){return a.handleSubmenuKeyDown(u)}),a}var r=e.prototype;return r.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},r.createMenu=function(){var t=new ET(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=_e("li",{className:"vjs-menu-title",textContent:Ye(this.options_.title),tabIndex:-1}),s=new z(this.player_,{el:a});t.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)t.addItem(this.items[o]);return t},r.createItems=function(){},r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var t="vjs-menu-button";this.options_.inline===!0?t+="-inline":t+="-popup";var a=vr.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+a+" "+n.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+n.prototype.buildCSSClass.call(this)},r.controlText=function(t,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(t,a)},r.dispose=function(){this.handleMouseLeave(),n.prototype.dispose.call(this)},r.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(t){this.removeClass("vjs-hover"),yt(K,"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(t){ce.isEventKey(t,"Esc")||ce.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),ce.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(ce.isEventKey(t,"Up")||ce.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(t){(ce.isEventKey(t,"Esc")||ce.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},r.handleSubmenuKeyDown=function(t){(ce.isEventKey(t,"Esc")||ce.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),ce.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Pt&&Uy())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(z);z.registerComponent("MenuButton",Ch);var wh=function(n){Y(e,n);function e(r,i){var t,a=i.tracks;if(t=n.call(this,r,i)||this,t.items.length<=1&&t.hide(),!a)return le(t);var s=Oe(le(t),t.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),t.player_.on("ready",s),t.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),t}return e}(Ch);z.registerComponent("TrackButton",wh);var SO=["Tab","Esc","Up","Down","Right","Left"],Ps=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.selectable=t.selectable,a.isSelected_=t.selected||!1,a.multiSelectable=t.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var r=e.prototype;return r.createEl=function(t,a,s){this.nonIconControl=!0;var o=n.prototype.createEl.call(this,"li",We({className:"vjs-menu-item",tabIndex:-1},a),s);return o.replaceChild(_e("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},r.handleKeyDown=function(t){SO.some(function(a){return ce.isEventKey(t,a)})||n.prototype.handleKeyDown.call(this,t)},r.handleClick=function(t){this.selected(!0)},r.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Hu);z.registerComponent("MenuItem",Ps);var Is=function(n){Y(e,n);function e(i,t){var a,s=t.track,o=i.textTracks();t.label=s.label||s.language||"Unknown",t.selected=s.mode==="showing",a=n.call(this,i,t)||this,a.track=s,a.kinds=(t.kinds||[t.kind||a.track.kind]).filter(Boolean);var u=function(){for(var f=arguments.length,p=new Array(f),y=0;y<f;y++)p[y]=arguments[y];a.handleTracksChange.apply(le(a),p)},l=function(){for(var f=arguments.length,p=new Array(f),y=0;y<f;y++)p[y]=arguments[y];a.handleSelectedLanguageChange.apply(le(a),p)};if(i.on(["loadstart","texttrackchange"],u),o.addEventListener("change",u),o.addEventListener("selectedlanguagechange",l),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],u),o.removeEventListener("change",u),o.removeEventListener("selectedlanguagechange",l)}),o.onchange===void 0){var c;a.on(["tap","click"],function(){if(typeof P.Event!="object")try{c=new P.Event("change")}catch{}c||(c=K.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return a.handleTracksChange(),a}var r=e.prototype;return r.handleClick=function(t){var a=this.track,s=this.player_.textTracks();if(n.prototype.handleClick.call(this,t),!!s)for(var o=0;o<s.length;o++){var u=s[o];this.kinds.indexOf(u.kind)!==-1&&(u===a?u.mode!=="showing"&&(u.mode="showing"):u.mode!=="disabled"&&(u.mode="disabled"))}},r.handleTracksChange=function(t){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},r.handleSelectedLanguageChange=function(t){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,n.prototype.dispose.call(this)},e}(Ps);z.registerComponent("TextTrackMenuItem",Is);var CT=function(n){Y(e,n);function e(i,t){return t.track={player:i,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,n.call(this,i,t)||this}var r=e.prototype;return r.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!0,o=0,u=a.length;o<u;o++){var l=a[o];if(this.options_.kinds.indexOf(l.kind)>-1&&l.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},r.handleSelectedLanguageChange=function(t){for(var a=this.player().textTracks(),s=!0,o=0,u=a.length;o<u;o++){var l=a[o];if(["captions","descriptions","subtitles"].indexOf(l.kind)>-1&&l.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Is);z.registerComponent("OffTextTrackMenuItem",CT);var pa=function(n){Y(e,n);function e(i,t){return t===void 0&&(t={}),t.tracks=i.textTracks(),n.call(this,i,t)||this}var r=e.prototype;return r.createItems=function(t,a){t===void 0&&(t=[]),a===void 0&&(a=Is);var s;this.label_&&(s=this.label_+" off"),t.push(new CT(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var u=0;u<o.length;u++){var l=o[u];if(this.kinds_.indexOf(l.kind)>-1){var c=new a(this.player_,{track:l,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+l.kind+"-menu-item"),t.push(c)}}return t},e}(wh);z.registerComponent("TextTrackButton",pa);var wT=function(n){Y(e,n);function e(i,t){var a,s=t.track,o=t.cue,u=i.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=o.text,t.selected=o.startTime<=u&&u<o.endTime,a=n.call(this,i,t)||this,a.track=s,a.cue=o,a}var r=e.prototype;return r.handleClick=function(t){n.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(Ps);z.registerComponent("ChaptersTrackMenuItem",wT);var Ah=function(n){Y(e,n);function e(i,t,a){var s;return s=n.call(this,i,t,a)||this,s.selectCurrentItem_=function(){s.items.forEach(function(o){o.selected(s.track_.activeCues[0]===o.cue)})},s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},r.update=function(t){if(!(t&&t.track&&t.track.kind!=="chapters")){var a=this.findChaptersTrack();a!==this.track_?(this.setTrack(a),n.prototype.update.call(this)):(!this.items||a&&a.cues&&a.cues.length!==this.items.length)&&n.prototype.update.call(this)}},r.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},r.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],a=t.length-1;a>=0;a--){var s=t[a];if(s.kind===this.kind_)return s}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ye(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},r.createItems=function(){var t=[];if(!this.track_)return t;var a=this.track_.cues;if(!a)return t;for(var s=0,o=a.length;s<o;s++){var u=a[s],l=new wT(this.player_,{track:this.track_,cue:u});t.push(l)}return t},e}(pa);Ah.prototype.kind_="chapters";Ah.prototype.controlText_="Chapters";z.registerComponent("ChaptersButton",Ah);var Dh=function(n){Y(e,n);function e(i,t,a){var s;s=n.call(this,i,t,a)||this;var o=i.textTracks(),u=Oe(le(s),s.handleTracksChange);return o.addEventListener("change",u),s.on("dispose",function(){o.removeEventListener("change",u)}),s}var r=e.prototype;return r.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!1,o=0,u=a.length;o<u;o++){var l=a[o];if(l.kind!==this.kind_&&l.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildWrapperCSSClass.call(this)},e}(pa);Dh.prototype.kind_="descriptions";Dh.prototype.controlText_="Descriptions";z.registerComponent("DescriptionsButton",Dh);var kh=function(n){Y(e,n);function e(i,t,a){return n.call(this,i,t,a)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},e}(pa);kh.prototype.kind_="subtitles";kh.prototype.controlText_="Subtitles";z.registerComponent("SubtitlesButton",kh);var Ph=function(n){Y(e,n);function e(i,t){var a;return t.track={player:i,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",a=n.call(this,i,t)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+t.kind+" settings dialog"),a}var r=e.prototype;return r.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Is);z.registerComponent("CaptionSettingsMenuItem",Ph);var Ih=function(n){Y(e,n);function e(i,t,a){return n.call(this,i,t,a)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new Ph(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t)},e}(pa);Ih.prototype.kind_="captions";Ih.prototype.controlText_="Captions";z.registerComponent("CaptionsButton",Ih);var AT=function(n){Y(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(t,a,s){var o=n.prototype.createEl.call(this,t,a,s),u=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(u.appendChild(_e("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(_e("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}(Is);z.registerComponent("SubsCapsMenuItem",AT);var Oh=function(n){Y(e,n);function e(i,t){var a;return t===void 0&&(t={}),a=n.call(this,i,t)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(Ye(a.label_)),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new Ph(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=n.prototype.createItems.call(this,t,AT),t},e}(pa);Oh.prototype.kinds_=["captions","subtitles"];Oh.prototype.controlText_="Subtitles";z.registerComponent("SubsCapsButton",Oh);var DT=function(n){Y(e,n);function e(i,t){var a,s=t.track,o=i.audioTracks();t.label=s.label||s.language||"Unknown",t.selected=s.enabled,a=n.call(this,i,t)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var u=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];a.handleTracksChange.apply(le(a),d)};return o.addEventListener("change",u),a.on("dispose",function(){o.removeEventListener("change",u)}),a}var r=e.prototype;return r.createEl=function(t,a,s){var o=n.prototype.createEl.call(this,t,a,s),u=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(u.appendChild(_e("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(_e("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},r.handleClick=function(t){if(n.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];o!==this.track&&(o.enabled=o===this.track)}},r.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Ps);z.registerComponent("AudioTrackMenuItem",DT);var kT=function(n){Y(e,n);function e(i,t){return t===void 0&&(t={}),t.tracks=i.audioTracks(),n.call(this,i,t)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(t){t===void 0&&(t=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];t.push(new DT(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return t},e}(wh);kT.prototype.controlText_="Audio Track";z.registerComponent("AudioTrackButton",kT);var Lh=function(n){Y(e,n);function e(i,t){var a,s=t.rate,o=parseFloat(s,10);return t.label=s,t.selected=o===i.playbackRate(),t.selectable=!0,t.multiSelectable=!1,a=n.call(this,i,t)||this,a.label=s,a.rate=o,a.on(i,"ratechange",function(u){return a.update(u)}),a}var r=e.prototype;return r.handleClick=function(t){n.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Ps);Lh.prototype.contentElType="button";z.registerComponent("PlaybackRateMenuItem",Lh);var PT=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(i,"loadstart",function(s){return a.updateVisibility(s)}),a.on(i,"ratechange",function(s){return a.updateLabel(s)}),a.on(i,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var r=e.prototype;return r.createEl=function(){var t=n.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=_e("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},r.dispose=function(){this.labelEl_=null,n.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var t=this.playbackRates(),a=[],s=t.length-1;s>=0;s--)a.push(new Lh(this.player(),{rate:t[s]+"x"}));return a},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(t){var a=this.player().playbackRate(),s=this.playbackRates(),o=s.indexOf(a),u=(o+1)%s.length;this.player().playbackRate(s[u])},r.handlePlaybackRateschange=function(t){this.update()},r.playbackRates=function(){var t=this.player();return t.playbackRates&&t.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Ch);PT.prototype.controlText_="Playback Rate";z.registerComponent("PlaybackRateMenuButton",PT);var IT=function(n){Y(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},r.createEl=function(t,a,s){return t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),n.prototype.createEl.call(this,t,a,s)},e}(z);z.registerComponent("Spacer",IT);var xO=function(n){Y(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)},r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},e}(IT);z.registerComponent("CustomControlSpacer",xO);var eu=function(n){Y(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(z);eu.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in K&&eu.prototype.options_.children.splice(eu.prototype.options_.children.length-1,0,"pictureInPictureToggle");z.registerComponent("ControlBar",eu);var OT=function(n){Y(e,n);function e(i,t){var a;return a=n.call(this,i,t)||this,a.on(i,"error",function(s){return a.open(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},r.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(da);OT.prototype.options_=lr({},da.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});z.registerComponent("ErrorDisplay",OT);var Ic="vjs-text-track-settings",Hg=["#000","Black"],qg=["#00F","Blue"],Wg=["#0FF","Cyan"],zg=["#0F0","Green"],Gg=["#F0F","Magenta"],$g=["#F00","Red"],Kg=["#FFF","White"],Xg=["#FF0","Yellow"],Oc=["1","Opaque"],Lc=["0.5","Semi-Transparent"],Yg=["0","Transparent"],$i={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Hg,Kg,$g,zg,qg,Xg,Gg,Wg]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Oc,Lc,Yg]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Kg,Hg,$g,zg,qg,Xg,Gg,Wg]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Oc,Lc]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Yg,Lc,Oc]}};$i.windowColor.options=$i.backgroundColor.options;function LT(n,e){if(e&&(n=e(n)),n&&n!=="none")return n}function EO(n,e){var r=n.options[n.options.selectedIndex].value;return LT(r,e)}function CO(n,e,r){if(e){for(var i=0;i<n.options.length;i++)if(LT(n.options[i].value,r)===e){n.selectedIndex=i;break}}}var wO=function(n){Y(e,n);function e(i,t){var a;return t.temporary=!1,a=n.call(this,i,t)||this,a.updateDisplay=a.updateDisplay.bind(le(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=_e("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),t.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),Bn($i,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var r=e.prototype;return r.dispose=function(){this.endDialog=null,n.prototype.dispose.call(this)},r.createElSelect_=function(t,a,s){var o=this;a===void 0&&(a=""),s===void 0&&(s="label");var u=$i[t],l=u.id.replace("%s",this.id_),c=[a,l].join(" ").trim();return["<"+s+' id="'+l+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(u.label),"</"+s+">",'<select aria-labelledby="'+c+'">'].concat(u.options.map(function(d){var f=l+"-"+d[1].replace(/\W+/g,"");return['<option id="'+f+'" value="'+d[0]+'" ','aria-labelledby="'+c+" "+f+'">',o.localize(d[1]),"</option>"].join("")})).concat("</select>").join("")},r.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return _e("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return _e("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var t=this.localize("restore all settings to the default values");return _e("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return n.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var t=this;return pI($i,function(a,s,o){var u=EO(t.$(s.selector),s.parser);return u!==void 0&&(a[o]=u),a},{})},r.setValues=function(t){var a=this;Bn($i,function(s,o){CO(a.$(s.selector),t[o],s.parser)})},r.setDefaults=function(){var t=this;Bn($i,function(a){var s=a.hasOwnProperty("default")?a.default:0;t.$(a.selector).selectedIndex=s})},r.restoreSettings=function(){var t;try{t=JSON.parse(P.localStorage.getItem(Ic))}catch(a){he.warn(a)}t&&this.setValues(t)},r.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?P.localStorage.setItem(Ic,JSON.stringify(t)):P.localStorage.removeItem(Ic)}catch(a){he.warn(a)}}},r.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,a=t&&t.subsCapsButton,s=t&&t.captionsButton;a?a.focus():s&&s.focus()},e}(da);z.registerComponent("TextTrackSettings",wO);var AO=function(n){Y(e,n);function e(i,t){var a,s=t.ResizeObserver||P.ResizeObserver;t.ResizeObserver===null&&(s=!1);var o=Ie({createEl:!s,reportTouchActivity:!1},t);return a=n.call(this,i,o)||this,a.ResizeObserver=t.ResizeObserver||P.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=CI(function(){a.resizeHandler()},100,!1,le(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var u=a.debouncedHandler_,l=a.unloadListener_=function(){yt(this,"resize",u),yt(this,"unload",l),l=null};rr(a.el_.contentWindow,"unload",l),rr(a.el_.contentWindow,"resize",u)}},a.one("load",a.loadListener_)),a}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},r.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,n.prototype.dispose.call(this)},e}(z);z.registerComponent("ResizeManager",AO);var DO={trackingThreshold:20,liveTolerance:15},kO=function(n){Y(e,n);function e(i,t){var a,s=Ie(DO,t,{createEl:!1});return a=n.call(this,i,s)||this,a.handleVisibilityChange_=function(o){return a.handleVisibilityChange(o)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(o){return a.handlePlay(o)},a.handleFirstTimeupdate_=function(o){return a.handleFirstTimeupdate(o)},a.handleSeeked_=function(o){return a.handleSeeked(o)},a.seekToLiveEdge_=function(o){return a.seekToLiveEdge(o)},a.reset_(),a.on(a.player_,"durationchange",function(o){return a.handleDurationchange(o)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),As&&"hidden"in K&&"visibilityState"in K&&a.on(K,"visibilitychange",a.handleVisibilityChange_),a}var r=e.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(K.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var t=this.player_.seekable();if(!(!t||!t.length)){var a=Number(P.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var o=this.liveCurrentTime(),u=this.player_.currentTime(),l=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-u)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(l=!1),l!==this.behindLiveEdge_&&(this.behindLiveEdge_=l,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,yr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.end(s));return a.length?a.sort()[a.length-1]:1/0},r.seekableStart=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.start(s));return a.length?a.sort()[0]:0},r.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var t=this.seekableEnd();return this.lastSeekEnd_!==-1&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return typeof this.trackingInterval_=="number"},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(K,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),n.prototype.dispose.call(this)},e}(z);z.registerComponent("LiveTracker",kO);var jd=function(e){var r=e.el();if(r.hasAttribute("src"))return e.triggerSourceset(r.src),!0;var i=e.$$("source"),t=[],a="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&t.indexOf(o)===-1&&t.push(o)}return t.length?(t.length===1&&(a=t[0]),e.triggerSourceset(a),!0):!1},PO=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var r=K.createElement(this.nodeName.toLowerCase());r.innerHTML=e;for(var i=K.createDocumentFragment();r.childNodes.length;)i.appendChild(r.childNodes[0]);return this.innerText="",P.Element.prototype.appendChild.call(this,i),this.innerHTML}}),RT=function(e,r){for(var i={},t=0;t<e.length&&(i=Object.getOwnPropertyDescriptor(e[t],r),!(i&&i.set&&i.get));t++);return i.enumerable=!0,i.configurable=!0,i},IO=function(e){return RT([e.el(),P.HTMLMediaElement.prototype,P.Element.prototype,PO],"innerHTML")},Qg=function(e){var r=e.el();if(!r.resetSourceWatch_){var i={},t=IO(e),a=function(o){return function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var d=o.apply(r,l);return jd(e),d}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){r[s]&&(i[s]=r[s],r[s]=a(i[s]))}),Object.defineProperty(r,"innerHTML",Ie(t,{set:a(t.set)})),r.resetSourceWatch_=function(){r.resetSourceWatch_=null,Object.keys(i).forEach(function(s){r[s]=i[s]}),Object.defineProperty(r,"innerHTML",t)},e.one("sourceset",r.resetSourceWatch_)}},OO=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?oT(P.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return P.Element.prototype.setAttribute.call(this,"src",e),e}}),LO=function(e){return RT([e.el(),P.HTMLMediaElement.prototype,OO],"src")},RO=function(e){if(e.featuresSourceset){var r=e.el();if(!r.resetSourceset_){var i=LO(e),t=r.setAttribute,a=r.load;Object.defineProperty(r,"src",Ie(i,{set:function(o){var u=i.set.call(r,o);return e.triggerSourceset(r.src),u}})),r.setAttribute=function(s,o){var u=t.call(r,s,o);return/src/i.test(s)&&e.triggerSourceset(r.src),u},r.load=function(){var s=a.call(r);return jd(e)||(e.triggerSourceset(""),Qg(e)),s},r.currentSrc?e.triggerSourceset(r.currentSrc):jd(e)||Qg(e),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=a,r.setAttribute=t,Object.defineProperty(r,"src",i),r.resetSourceWatch_&&r.resetSourceWatch_()}}}},Rh=function(e,r,i,t){t===void 0&&(t=!0);var a=function(u){return Object.defineProperty(e,r,{value:u,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var u=i();return a(u),u}};return t&&(s.set=a),Object.defineProperty(e,r,s)},Z=function(n){Y(e,n);function e(i,t){var a;a=n.call(this,i,t)||this;var s=i.source,o=!1;if(a.featuresVideoFrameCallback=a.featuresVideoFrameCallback&&a.el_.tagName==="VIDEO",s&&(a.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),i.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var u=a.el_.childNodes,l=u.length,c=[];l--;){var d=u[l],f=d.nodeName.toLowerCase();f==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(d),a.remoteTextTracks().addTrack(d.track),a.textTracks().addTrack(d.track),!o&&!a.el_.hasAttribute("crossorigin")&&Vu(d.src)&&(o=!0)):c.push(d))}for(var p=0;p<c.length;p++)a.el_.removeChild(c[p])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&o&&he.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(ta||lh||Ry)&&i.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var r=e.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,n.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){RO(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),a,s=function(){a=[];for(var l=0;l<t.length;l++){var c=t[l];c.kind==="metadata"&&a.push({track:c,storedMode:c.mode})}};s(),t.addEventListener("change",s),this.on("dispose",function(){return t.removeEventListener("change",s)});var o=function u(){for(var l=0;l<a.length;l++){var c=a[l];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}t.removeEventListener("change",u)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",s),t.removeEventListener("change",o),t.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",s),t.addEventListener("change",s),t.removeEventListener("change",o)})},r.overrideNative_=function(t,a){var s=this;if(a===this["featuresNative"+t+"Tracks"]){var o=t.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(u){var l=s.el()[o+"Tracks"];l.removeEventListener(u,s[o+"TracksListeners_"][u])}),this["featuresNative"+t+"Tracks"]=!a,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},r.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},r.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},r.proxyNativeTracksForType_=function(t){var a=this,s=or[t],o=this.el()[s.getterName],u=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var l={change:function(f){var p={type:"change",target:u,currentTarget:u,srcElement:u};u.trigger(p),t==="text"&&a[aa.remoteText.getterName]().trigger(p)},addtrack:function(f){u.addTrack(f.track)},removetrack:function(f){u.removeTrack(f.track)}},c=function(){for(var f=[],p=0;p<u.length;p++){for(var y=!1,_=0;_<o.length;_++)if(o[_]===u[p]){y=!0;break}y||f.push(u[p])}for(;f.length;)u.removeTrack(f.shift())};this[s.getterName+"Listeners_"]=l,Object.keys(l).forEach(function(d){var f=l[d];o.addEventListener(d,f),a.on("dispose",function(p){return o.removeEventListener(d,f)})}),this.on("loadstart",c),this.on("dispose",function(d){return a.off("loadstart",c)})}},r.proxyNativeTracks_=function(){var t=this;or.names.forEach(function(a){t.proxyNativeTracksForType_(a)})},r.createEl=function(){var t=this.options_.tag;if(!t||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(t){var a=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(a,t),e.disposeMediaElement(t),t=a}else{t=K.createElement("video");var s=this.options_.tag&&zr(this.options_.tag),o=Ie({},s);(!ta||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,Hy(t,We(o,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&ra(t,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var u=["loop","muted","playsinline","autoplay"],l=0;l<u.length;l++){var c=u[l],d=this.options_[c];typeof d<"u"&&(d?ra(t,c,c):Fu(t,c),t[c]=d)}return t},r.handleLateInit_=function(t){if(!(t.networkState===0||t.networkState===3)){if(t.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var o=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),a||this.trigger("loadstart")});return}var u=["loadstart"];u.push("loadedmetadata"),t.readyState>=2&&u.push("loadeddata"),t.readyState>=3&&u.push("canplay"),t.readyState>=4&&u.push("canplaythrough"),this.ready(function(){u.forEach(function(l){this.trigger(l)},this)})}},r.setScrubbing=function(t){this.isScrubbing_=t},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&Mu?this.el_.fastSeek(t):this.el_.currentTime=t}catch(a){he(a,"Video is not ready. (Video.js)")}},r.duration=function(){var t=this;if(this.el_.duration===1/0&&ci&&di&&this.el_.currentTime===0){var a=function s(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){t.off("webkitbeginfullscreen",s),t.off("webkitendfullscreen",a)})}},r.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var t=P.navigator&&P.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},r.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Dr(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},r.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):n.prototype.requestVideoFrameCallback.call(this,t)},r.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):n.prototype.cancelVideoFrameCallback.call(this,t)},r.src=function(t){if(t===void 0)return this.el_.src;this.setSrc(t)},r.reset=function(){e.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(t){this.el_.controls=!!t},r.addTextTrack=function(t,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,a,s):n.prototype.addTextTrack.call(this,t,a,s)},r.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return n.prototype.createRemoteTextTrack.call(this,t);var a=K.createElement("track");return t.kind&&(a.kind=t.kind),t.label&&(a.label=t.label),(t.language||t.srclang)&&(a.srclang=t.language||t.srclang),t.default&&(a.default=t.default),t.id&&(a.id=t.id),t.src&&(a.src=t.src),a},r.addRemoteTextTrack=function(t,a){var s=n.prototype.addRemoteTextTrack.call(this,t,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},r.removeRemoteTextTrack=function(t){if(n.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(t===a[s]||t===a[s].track)&&this.el().removeChild(a[s])},r.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var t={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),P.performance&&typeof P.performance.now=="function"?t.creationTime=P.performance.now():P.performance&&P.performance.timing&&typeof P.performance.timing.navigationStart=="number"&&(t.creationTime=P.Date.now()-P.performance.timing.navigationStart),t},e}(we);Rh(Z,"TEST_VID",function(){if(ua()){var n=K.createElement("video"),e=K.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",n.appendChild(e),n}});Z.isSupported=function(){try{Z.TEST_VID.volume=.5}catch{return!1}return!!(Z.TEST_VID&&Z.TEST_VID.canPlayType)};Z.canPlayType=function(n){return Z.TEST_VID.canPlayType(n)};Z.canPlaySource=function(n,e){return Z.canPlayType(n.type)};Z.canControlVolume=function(){try{var n=Z.TEST_VID.volume;Z.TEST_VID.volume=n/2+.1;var e=n!==Z.TEST_VID.volume;return e&&Pt?(P.setTimeout(function(){Z&&Z.prototype&&(Z.prototype.featuresVolumeControl=n!==Z.TEST_VID.volume)}),!1):e}catch{return!1}};Z.canMuteVolume=function(){try{var n=Z.TEST_VID.muted;return Z.TEST_VID.muted=!n,Z.TEST_VID.muted?ra(Z.TEST_VID,"muted","muted"):Fu(Z.TEST_VID,"muted","muted"),n!==Z.TEST_VID.muted}catch{return!1}};Z.canControlPlaybackRate=function(){if(ci&&di&&Fy<58)return!1;try{var n=Z.TEST_VID.playbackRate;return Z.TEST_VID.playbackRate=n/2+.1,n!==Z.TEST_VID.playbackRate}catch{return!1}};Z.canOverrideAttributes=function(){try{var n=function(){};Object.defineProperty(K.createElement("video"),"src",{get:n,set:n}),Object.defineProperty(K.createElement("audio"),"src",{get:n,set:n}),Object.defineProperty(K.createElement("video"),"innerHTML",{get:n,set:n}),Object.defineProperty(K.createElement("audio"),"innerHTML",{get:n,set:n})}catch{return!1}return!0};Z.supportsNativeTextTracks=function(){return Mu||Pt&&di};Z.supportsNativeVideoTracks=function(){return!!(Z.TEST_VID&&Z.TEST_VID.videoTracks)};Z.supportsNativeAudioTracks=function(){return!!(Z.TEST_VID&&Z.TEST_VID.audioTracks)};Z.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(n){var e=n[0],r=n[1];Rh(Z.prototype,e,function(){return Z[r]()},!0)});Z.prototype.featuresVolumeControl=Z.canControlVolume();Z.prototype.movingMediaElementInDOM=!Pt;Z.prototype.featuresFullscreenResize=!0;Z.prototype.featuresProgressEvents=!0;Z.prototype.featuresTimeupdateEvents=!0;Z.prototype.featuresVideoFrameCallback=!!(Z.TEST_VID&&Z.TEST_VID.requestVideoFrameCallback);var tu;Z.patchCanPlayType=function(){sh>=4&&!My&&!di&&(tu=Z.TEST_VID&&Z.TEST_VID.constructor.prototype.canPlayType,Z.TEST_VID.constructor.prototype.canPlayType=function(n){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return n&&e.test(n)?"maybe":tu.call(this,n)})};Z.unpatchCanPlayType=function(){var n=Z.TEST_VID.constructor.prototype.canPlayType;return tu&&(Z.TEST_VID.constructor.prototype.canPlayType=tu),n};Z.patchCanPlayType();Z.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch{}}()}};Z.resetMediaElement=function(n){if(n){for(var e=n.querySelectorAll("source"),r=e.length;r--;)n.removeChild(e[r]);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(n){Z.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){Z.prototype["set"+Ye(n)]=function(e){this.el_[n]=e,e?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(n){Z.prototype[n]=function(){return this.el_[n]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(n){Z.prototype["set"+Ye(n)]=function(e){this.el_[n]=e}});["pause","load","play"].forEach(function(n){Z.prototype[n]=function(){return this.el_[n]()}});we.withSourceHandlers(Z);Z.nativeSourceHandler={};Z.nativeSourceHandler.canPlayType=function(n){try{return Z.TEST_VID.canPlayType(n)}catch{return""}};Z.nativeSourceHandler.canHandleSource=function(n,e){if(n.type)return Z.nativeSourceHandler.canPlayType(n.type);if(n.src){var r=gh(n.src);return Z.nativeSourceHandler.canPlayType("video/"+r)}return""};Z.nativeSourceHandler.handleSource=function(n,e,r){e.setSrc(n.src)};Z.nativeSourceHandler.dispose=function(){};Z.registerSourceHandler(Z.nativeSourceHandler);we.registerTech("Html5",Z);var MT=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Rc={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Vd=["tiny","xsmall","small","medium","large","xlarge","huge"],Co={};Vd.forEach(function(n){var e=n.charAt(0)==="x"?"x-"+n.substring(1):n;Co[n]="vjs-layout-"+e});var MO={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},et=function(n){Y(e,n);function e(i,t,a){var s;if(i.id=i.id||t.id||"vjs_video_"+fi(),t=We(e.getTagSettings(i),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if(typeof i.closest=="function"){var o=i.closest("[lang]");o&&o.getAttribute&&(t.language=o.getAttribute("lang"))}else for(var u=i;u&&u.nodeType===1;){if(zr(u).hasOwnProperty("lang")){t.language=u.getAttribute("lang");break}u=u.parentNode}if(s=n.call(this,null,t,a)||this,s.boundDocumentFullscreenChange_=function(f){return s.documentFullscreenChange_(f)},s.boundFullWindowOnEscKey_=function(f){return s.fullWindowOnEscKey(f)},s.boundUpdateStyleEl_=function(f){return s.updateStyleEl_(f)},s.boundApplyInitTime_=function(f){return s.applyInitTime_(f)},s.boundUpdateCurrentBreakpoint_=function(f){return s.updateCurrentBreakpoint_(f)},s.boundHandleTechClick_=function(f){return s.handleTechClick_(f)},s.boundHandleTechDoubleClick_=function(f){return s.handleTechDoubleClick_(f)},s.boundHandleTechTouchStart_=function(f){return s.handleTechTouchStart_(f)},s.boundHandleTechTouchMove_=function(f){return s.handleTechTouchMove_(f)},s.boundHandleTechTouchEnd_=function(f){return s.handleTechTouchEnd_(f)},s.boundHandleTechTap_=function(f){return s.handleTechTap_(f)},s.isFullscreen_=!1,s.log=Iy(s.id_),s.fsApi_=Yo,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&zr(i),s.language(s.options_.language),t.languages){var l={};Object.getOwnPropertyNames(t.languages).forEach(function(f){l[f.toLowerCase()]=t.languages[f]}),s.languages_=l}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=t.poster||"",s.controls_=!!t.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(f){if(typeof s[f]!="function")throw new Error('plugin "'+f+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),hh(le(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(rr(K,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var c=Ie(s.options_);t.plugins&&Object.keys(t.plugins).forEach(function(f){s[f](t.plugins[f])}),t.debug&&s.debug(!0),s.options_.playerOptions=c,s.middleware_=[],s.playbackRates(t.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),ta&&s.addClass("vjs-touch-enabled"),Pt||s.addClass("vjs-workinghover"),e.players[s.id_]=le(s);var d=Dy.split(".")[0];return s.addClass("vjs-v"+d),s.userActive(!0),s.reportUserActivity(),s.one("play",function(f){return s.listenForUserActivity_(f)}),s.on("stageclick",function(f){return s.handleStageClick_(f)}),s.on("keydown",function(f){return s.handleKeyDown(f)}),s.on("languagechange",function(f){return s.handleLanguagechange(f)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}var r=e.prototype;return r.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),yt(K,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),yt(K,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),tO(this),Et.names.forEach(function(a){var s=Et[a],o=t[s.getterName]();o&&o.off&&o.off()}),n.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},r.createEl=function(){var t=this.tag,a,s=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=t.parentNode:o||(a=this.el_=n.prototype.createEl.call(this,"div"));var u=zr(t);if(o){for(a=this.el_=t,t=this.tag=K.createElement("video");a.children.length;)t.appendChild(a.firstChild);rn(a,"video-js")||ei(a,"video-js"),a.appendChild(t),s=this.playerElIngest_=a,Object.keys(a).forEach(function(y){try{t[y]=a[y]}catch{}})}if(t.setAttribute("tabindex","-1"),u.tabindex="-1",(As||di&&Ny)&&(t.setAttribute("role","application"),u.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in u&&delete u.width,"height"in u&&delete u.height,Object.getOwnPropertyNames(u).forEach(function(y){o&&y==="class"||a.setAttribute(y,u[y]),o&&t.setAttribute(y,u[y])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=a.player=this,this.addClass("vjs-paused"),P.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=Jy("vjs-styles-dimensions");var l=Di(".vjs-styles-defaults"),c=Di("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var d=t.getElementsByTagName("a"),f=0;f<d.length;f++){var p=d.item(f);ei(p,"vjs-hidden"),p.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!s&&t.parentNode.insertBefore(a,t),Ld(t,a),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},r.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");if(t!=="anonymous"&&t!=="use-credentials"){he.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"');return}this.techCall_("setCrossOrigin",t)},r.width=function(t){return this.dimension("width",t)},r.height=function(t){return this.dimension("height",t)},r.dimension=function(t,a){var s=t+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(a);if(isNaN(o)){he.error('Improper value "'+a+'" supplied for for '+t);return}this[s]=o,this.updateStyleEl_()},r.fluid=function(t){var a=this;if(t===void 0)return!!this.fluid_;this.fluid_=!!t,ti(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),wI(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(P.VIDEOJS_NO_DYNAMIC_STYLE===!0){var t=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(t>=0&&(s.width=t),a>=0&&(s.height=a));return}var o,u,l,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?l=this.aspectRatio_:this.videoWidth()>0?l=this.videoWidth()+":"+this.videoHeight():l="16:9";var d=l.split(":"),f=d[1]/d[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/f:o=this.videoWidth()||300,this.height_!==void 0?u=this.height_:u=o*f,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),Zy(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+u+`px;
      }

      .`+c+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+f*100+`%;
      }
    `)},r.loadTech_=function(t,a){var s=this;this.tech_&&this.unloadTech_();var o=Ye(t),u=t.charAt(0).toLowerCase()+t.slice(1);o!=="Html5"&&this.tag&&(we.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var l=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(l=!1);var c={source:a,autoplay:l,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+u+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Et.names.forEach(function(f){var p=Et[f];c[p.getterName]=s[p.privateName]}),We(c,this.options_[o]),We(c,this.options_[u]),We(c,this.options_[t.toLowerCase()]),this.tag&&(c.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var d=we.getTech(t);if(!d)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new d(c),this.tech_.ready(Oe(this,this.handleTechReady_),!0),Og.jsonToTextTracks(this.textTracksJson_||[],this.tech_),MT.forEach(function(f){s.on(s.tech_,f,function(p){return s["handleTech"+Ye(f)+"_"](p)})}),Object.keys(Rc).forEach(function(f){s.on(s.tech_,f,function(p){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+Rc[f]+"_"].bind(s),event:p});return}s["handleTech"+Rc[f]+"_"](p)})}),this.on(this.tech_,"loadstart",function(f){return s.handleTechLoadStart_(f)}),this.on(this.tech_,"sourceset",function(f){return s.handleTechSourceset_(f)}),this.on(this.tech_,"waiting",function(f){return s.handleTechWaiting_(f)}),this.on(this.tech_,"ended",function(f){return s.handleTechEnded_(f)}),this.on(this.tech_,"seeking",function(f){return s.handleTechSeeking_(f)}),this.on(this.tech_,"play",function(f){return s.handleTechPlay_(f)}),this.on(this.tech_,"firstplay",function(f){return s.handleTechFirstPlay_(f)}),this.on(this.tech_,"pause",function(f){return s.handleTechPause_(f)}),this.on(this.tech_,"durationchange",function(f){return s.handleTechDurationChange_(f)}),this.on(this.tech_,"fullscreenchange",function(f,p){return s.handleTechFullscreenChange_(f,p)}),this.on(this.tech_,"fullscreenerror",function(f,p){return s.handleTechFullscreenError_(f,p)}),this.on(this.tech_,"enterpictureinpicture",function(f){return s.handleTechEnterPictureInPicture_(f)}),this.on(this.tech_,"leavepictureinpicture",function(f){return s.handleTechLeavePictureInPicture_(f)}),this.on(this.tech_,"error",function(f){return s.handleTechError_(f)}),this.on(this.tech_,"posterchange",function(f){return s.handleTechPosterChange_(f)}),this.on(this.tech_,"textdata",function(f){return s.handleTechTextData_(f)}),this.on(this.tech_,"ratechange",function(f){return s.handleTechRateChange_(f)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&Ld(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var t=this;Et.names.forEach(function(a){var s=Et[a];t[s.privateName]=t[s.getterName]()}),this.textTracksJson_=Og.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(t){return t===void 0&&he.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(t){var a=this;if(!(!this.tech_||typeof t!="string")){var s=function(){var l=a.muted();a.muted(!0);var c=function(){a.muted(l)};a.playTerminatedQueue_.push(c);var d=a.play();if(Ka(d))return d.catch(function(f){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(f||""))})},o;if(t==="any"&&!this.muted()?(o=this.play(),Ka(o)&&(o=o.catch(s))):t==="muted"&&!this.muted()?o=s():o=this.play(),!!Ka(o))return o.then(function(){a.trigger({type:"autoplay-success",autoplay:t})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:t})})}},r.updateSourceCaches_=function(t){t===void 0&&(t="");var a=t,s="";typeof a!="string"&&(a=t.src,s=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=nO(this,a)),this.cache_.source=Ie({},t,{src:a,type:s});for(var o=this.cache_.sources.filter(function(p){return p.src&&p.src===a}),u=[],l=this.$$("source"),c=[],d=0;d<l.length;d++){var f=zr(l[d]);u.push(f),f.src&&f.src===a&&c.push(f.src)}c.length&&!o.length?this.cache_.sources=u:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},r.handleTechSourceset_=function(t){var a=this;if(!this.changingSrc_){var s=function(c){return a.updateSourceCaches_(c)},o=this.currentSource().src,u=t.src;o&&!/^blob:/.test(o)&&/^blob:/.test(u)&&(!this.lastSource_||this.lastSource_.tech!==u&&this.lastSource_.player!==o)&&(s=function(){}),s(u),t.src||this.tech_.any(["sourceset","loadstart"],function(l){if(l.type!=="sourceset"){var c=a.techGet("currentSrc");a.lastSource_.tech=c,a.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},r.hasStarted=function(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function o(){a!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",o))};this.on("timeupdate",s)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(he.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(t){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,t):this.paused()?Dr(this.play()):this.pause())},r.handleTechDoubleClick_=function(t){if(this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(t.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(t){var a=t.target.player;if(!(a&&a!==this)){var s=this.el(),o=K[this.fsApi_.fullscreenElement]===s;!o&&s.matches?o=s.matches(":"+this.fsApi_.fullscreen):!o&&s.msMatchesSelector&&(o=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},r.handleTechFullscreenChange_=function(t,a){var s=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){s.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},r.handleTechFullscreenError_=function(t,a){this.trigger("fullscreenerror",a)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var t=this.tech_.error();this.error(t)},r.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(t,a){this.ready(function(){if(t in ZI)return QI(this.middleware_,this.tech_,t,a);if(t in Bg)return Ng(this.middleware_,this.tech_,t,a);try{this.tech_&&this.tech_[t](a)}catch(s){throw he(s),s}},!0)},r.techGet_=function(t){if(!(!this.tech_||!this.tech_.isReady_)){if(t in JI)return YI(this.middleware_,this.tech_,t);if(t in Bg)return Ng(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(a){throw this.tech_[t]===void 0?(he("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(he("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(he(a),a)}}},r.play=function(){var t=this,a=this.options_.Promise||P.Promise;return a?new a(function(s){t.play_(s)}):this.play_()},r.play_=function(t){var a=this;t===void 0&&(t=Dr),this.playCallbacks_.push(t);var s=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),o=!!(Mu||Pt);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(c){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&o&&this.load();return}var u=this.techGet_("play"),l=o&&this.hasClass("vjs-ended");l&&this.resetProgressBar_(),u===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(u)},r.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(a){a()})},r.runPlayCallbacks_=function(t){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(t)})},r.pause=function(){this.techCall_("pause")},r.paused=function(){return this.techGet_("paused")!==!1},r.played=function(){return this.techGet_("played")||nn(0,0)},r.scrubbing=function(t){if(typeof t>"u")return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(t){if(typeof t<"u"){if(t<0&&(t=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",t),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var t=this.techGet_("buffered");return(!t||!t.length)&&(t=nn(0,0)),t},r.bufferedPercent=function(){return aT(this.buffered(),this.duration())},r.bufferedEnd=function(){var t=this.buffered(),a=this.duration(),s=t.end(t.length-1);return s>a&&(s=a),s},r.volume=function(t){var a;if(t!==void 0){a=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},r.muted=function(t){if(t!==void 0){this.techCall_("setMuted",t);return}return this.techGet_("muted")||!1},r.defaultMuted=function(t){return t!==void 0?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(t){if(t!==void 0&&t!==0){this.cache_.lastVolume=t;return}return this.cache_.lastVolume},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(t){if(t!==void 0){var a=this.isFullscreen_;this.isFullscreen_=!!t,this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},r.requestFullscreen=function(t){var a=this.options_.Promise||P.Promise;if(a){var s=this;return new a(function(o,u){function l(){s.off("fullscreenerror",d),s.off("fullscreenchange",c)}function c(){l(),o()}function d(p,y){l(),u(y)}s.one("fullscreenchange",c),s.one("fullscreenerror",d);var f=s.requestFullscreenHelper_(t);f&&(f.then(l,l),f.then(o,u))})}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(t){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(s=t)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](s);return o&&o.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var t=this.options_.Promise||P.Promise;if(t){var a=this;return new t(function(s,o){function u(){a.off("fullscreenerror",c),a.off("fullscreenchange",l)}function l(){u(),s()}function c(f,p){u(),o(p)}a.one("fullscreenchange",l),a.one("fullscreenerror",c);var d=a.exitFullscreenHelper_();d&&(d.then(u,u),d.then(s,o))})}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var a=K[this.fsApi_.exitFullscreen]();return a&&Dr(a.then(function(){return t.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=K.documentElement.style.overflow,rr(K,"keydown",this.boundFullWindowOnEscKey_),K.documentElement.style.overflow="hidden",ei(K.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(t){ce.isEventKey(t,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,yt(K,"keydown",this.boundFullWindowOnEscKey_),K.documentElement.style.overflow=this.docOrigOverflow,Ds(K.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(t){if(t===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(t){if(t!==void 0){this.isInPictureInPicture_=!!t,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in K&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in K)return K.exitPictureInPicture()},r.handleKeyDown=function(t){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(u){var l=u.tagName.toLowerCase();if(u.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(l==="input")return c.indexOf(u.type)===-1;var d=["textarea"];return d.indexOf(l)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,t):this.handleHotkeys(t))}},r.handleHotkeys=function(t){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,o=s===void 0?function(_){return ce.isEventKey(_,"f")}:s,u=a.muteKey,l=u===void 0?function(_){return ce.isEventKey(_,"m")}:u,c=a.playPauseKey,d=c===void 0?function(_){return ce.isEventKey(_,"k")||ce.isEventKey(_,"Space")}:c;if(o.call(this,t)){t.preventDefault(),t.stopPropagation();var f=z.getComponent("FullscreenToggle");K[this.fsApi_.fullscreenEnabled]!==!1&&f.prototype.handleClick.call(this,t)}else if(l.call(this,t)){t.preventDefault(),t.stopPropagation();var p=z.getComponent("MuteToggle");p.prototype.handleClick.call(this,t)}else if(d.call(this,t)){t.preventDefault(),t.stopPropagation();var y=z.getComponent("PlayToggle");y.prototype.handleClick.call(this,t)}},r.canPlayType=function(t){for(var a,s=0,o=this.options_.techOrder;s<o.length;s++){var u=o[s],l=we.getTech(u);if(l||(l=z.getComponent(u)),!l){he.error('The "'+u+'" tech is undefined. Skipped browser support check for that tech.');continue}if(l.isSupported()&&(a=l.canPlayType(t),a))return a}return""},r.selectSource=function(t){var a=this,s=this.options_.techOrder.map(function(d){return[d,we.getTech(d)]}).filter(function(d){var f=d[0],p=d[1];return p?p.isSupported():(he.error('The "'+f+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(f,p,y){var _;return f.some(function(T){return p.some(function(E){if(_=y(T,E),_)return!0})}),_},u,l=function(f){return function(p,y){return f(y,p)}},c=function(f,p){var y=f[0],_=f[1];if(_.canPlaySource(p,a.options_[y.toLowerCase()]))return{source:p,tech:y}};return this.options_.sourceOrder?u=o(t,s,l(c)):u=o(s,t,c),u||!1},r.handleSrc_=function(t,a){var s=this;if(typeof t>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=aO(t);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),KI(this,o[0],function(c,d){s.middleware_=d,a||(s.cache_.sources=o),s.updateSourceCaches_(c);var f=s.src_(c);if(f){if(o.length>1)return s.handleSrc_(o.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),s.triggerReady();return}XI(d,s.tech_)}),this.options_.retryOnError&&o.length>1){var u=function(){s.error(null),s.handleSrc_(o.slice(1),!0)},l=function(){s.off("error",u)};this.one("error",u),this.one("playing",l),this.resetRetryOnError_=function(){s.off("error",u),s.off("playing",l)}}},r.src=function(t){return this.handleSrc_(t,!1)},r.src_=function(t){var a=this,s=this.selectSource([t]);return s?kI(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},r.load=function(){this.techCall_("load")},r.reset=function(){var t=this,a=this.options_.Promise||P.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();Dr(s.then(function(){return t.doReset_()}))}},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ti(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar||{},a=t.durationDisplay,s=t.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var t=this.currentSource(),a=[];return Object.keys(t).length!==0&&a.push(t),this.cache_.sources||a},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(t){if(t!==void 0){this.techCall_("setPreload",t),this.options_.preload=t;return}return this.techGet_("preload")},r.autoplay=function(t){if(t===void 0)return this.options_.autoplay||!1;var a;typeof t=="string"&&/(any|play|muted)/.test(t)||t===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_(typeof t=="string"?t:"play"),a=!1):t?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a>"u"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},r.playsinline=function(t){return t!==void 0?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},r.loop=function(t){if(t!==void 0){this.techCall_("setLoop",t),this.options_.loop=t;return}return this.techGet_("loop")},r.poster=function(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(t){var a=this;if(t===void 0)return this.error_||null;if(Ai("beforeerror").forEach(function(o){var u=o(a,t);if(!(oi(u)&&!Array.isArray(u)||typeof u=="string"||typeof u=="number"||u===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}t=u}),this.options_.suppressNotSupportedError&&t&&t.code===4){var s=function(){this.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(t===null){this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new kt(t),this.addClass("vjs-error"),he.error("(CODE:"+this.error_.code+" "+kt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Ai("error").forEach(function(o){return o(a,a.error_)})},r.reportUserActivity=function(t){this.userActivity_=!0},r.userActive=function(t){if(t===void 0)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var t,a,s,o=Oe(this,this.reportUserActivity),u=function(y){(y.screenX!==a||y.screenY!==s)&&(a=y.screenX,s=y.screenY,o())},l=function(){o(),this.clearInterval(t),t=this.setInterval(o,250)},c=function(y){o(),this.clearInterval(t)};this.on("mousedown",l),this.on("mousemove",u),this.on("mouseup",c),this.on("mouseleave",c);var d=this.getChild("controlBar");d&&!Pt&&!ci&&(d.on("mouseenter",function(p){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),d.on("mouseleave",function(p){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var f;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(f);var p=this.options_.inactivityTimeout;p<=0||(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},p))}},250)},r.playbackRate=function(t){if(t!==void 0){this.techCall_("setPlaybackRate",t);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},r.defaultPlaybackRate=function(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(t){if(t!==void 0){this.isAudio_=!!t;return}return!!this.isAudio_},r.enableAudioOnlyUI_=function(){var t=this;this.addClass("vjs-audio-only-mode");var a=this.children(),s=this.getChild("ControlBar"),o=s&&s.currentHeight();a.forEach(function(u){u!==s&&u.el_&&!u.hasClass("vjs-hidden")&&(u.hide(),t.audioOnlyCache_.hiddenChildren.push(u))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")},r.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(t){return t.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},r.audioOnlyMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=t;var s=this.options_.Promise||P.Promise;if(s){if(t){var o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),s.all(o).then(function(){return a.enableAudioOnlyUI_()})}return s.resolve().then(function(){return a.disableAudioOnlyUI_()})}t?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},r.enablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.disablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.audioPosterMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=t;var s=this.options_.Promise||P.Promise;if(s){if(t){if(this.audioOnlyMode()){var o=this.audioOnlyMode(!1);return o.then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.disablePosterModeUI_()})}if(t){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},r.addTextTrack=function(t,a,s){if(this.tech_)return this.tech_.addTextTrack(t,a,s)},r.addRemoteTextTrack=function(t,a){if(this.tech_)return this.tech_.addRemoteTextTrack(t,a)},r.removeRemoteTextTrack=function(t){t===void 0&&(t={});var a=t,s=a.track;if(s||(s=t),this.tech_)return this.tech_.removeRemoteTextTrack(s)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(t){if(t===void 0)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),ti(this)&&this.trigger("languagechange"))},r.languages=function(){return Ie(e.prototype.options_.languages,this.languages_)},r.toJSON=function(){var t=Ie(this.options_),a=t.tracks;t.tracks=[];for(var s=0;s<a.length;s++){var o=a[s];o=Ie(o),o.player=void 0,t.tracks[s]=o}return t},r.createModal=function(t,a){var s=this;a=a||{},a.content=t||"";var o=new da(this,a);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},r.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<Vd.length;s++){var o=Vd[s],u=this.breakpoints_[o];if(a<=u){if(t===o)return;t&&this.removeClass(Co[t]),this.addClass(Co[o]),this.breakpoint_=o;break}}},r.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},r.breakpoints=function(t){return t===void 0?We(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=We({},MO,t),this.updateCurrentBreakpoint_(),We(this.breakpoints_))},r.responsive=function(t){if(t===void 0)return this.responsive_;t=!!t;var a=this.responsive_;if(t!==a)return this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return Co[this.breakpoint_]||""},r.loadMedia=function(t,a){var s=this;if(!(!t||typeof t!="object")){this.reset(),this.cache_.media=Ie(t);var o=this.cache_.media,u=o.artwork,l=o.poster,c=o.src,d=o.textTracks;!u&&l&&(this.cache_.media.artwork=[{src:l,type:Zo(l)}]),c&&this.src(c),l&&this.poster(l),Array.isArray(d)&&d.forEach(function(f){return s.addRemoteTextTrack(f,!1)}),this.ready(a)}},r.getMedia=function(){if(!this.cache_.media){var t=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(u){return{kind:u.kind,label:u.label,language:u.language,src:u.src}}),o={src:a,textTracks:s};return t&&(o.poster=t,o.artwork=[{src:o.poster,type:Zo(o.poster)}]),o}return Ie(this.cache_.media)},e.getTagSettings=function(t){var a={sources:[],tracks:[]},s=zr(t),o=s["data-setup"];if(rn(t,"vjs-fill")&&(s.fill=!0),rn(t,"vjs-fluid")&&(s.fluid=!0),o!==null){var u=hD(o||"{}"),l=u[0],c=u[1];l&&he.error(l),We(s,c)}if(We(a,s),t.hasChildNodes())for(var d=t.childNodes,f=0,p=d.length;f<p;f++){var y=d[f],_=y.nodeName.toLowerCase();_==="source"?a.sources.push(zr(y)):_==="track"&&a.tracks.push(zr(y))}return a},r.flexNotSupported_=function(){var t=K.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},r.debug=function(t){if(t===void 0)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(t){if(t===void 0)return this.cache_.playbackRates;Array.isArray(t)&&t.every(function(a){return typeof a=="number"})&&(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))},e}(z);Et.names.forEach(function(n){var e=Et[n];et.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});et.prototype.crossorigin=et.prototype.crossOrigin;et.players={};var Pa=P.navigator;et.prototype.options_={techOrder:we.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Pa&&(Pa.languages&&Pa.languages[0]||Pa.userLanguage||Pa.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(n){et.prototype[n]=function(){return this.techGet_(n)}});MT.forEach(function(n){et.prototype["handleTech"+Ye(n)+"_"]=function(){return this.trigger(n)}});z.registerComponent("Player",et);var ru="plugin",Un="activePlugins_",On={},iu=function(e){return On.hasOwnProperty(e)},wo=function(e){return iu(e)?On[e]:void 0},FT=function(e,r){e[Un]=e[Un]||{},e[Un][r]=!0},nu=function(e,r,i){var t=(i?"before":"")+"pluginsetup";e.trigger(t,r),e.trigger(t+":"+r.name,r)},FO=function(e,r){var i=function(){nu(this,{name:e,plugin:r,instance:null},!0);var a=r.apply(this,arguments);return FT(this,e),nu(this,{name:e,plugin:r,instance:a}),a};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i},Jg=function(e,r){return r.prototype.name=e,function(){nu(this,{name:e,plugin:r,instance:null},!0);for(var i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];var s=R_(r,[this].concat(t));return this[e]=function(){return s},nu(this,s.getEventHash()),s}},Fr=function(){function n(r){if(this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=r,this.log||(this.log=this.player.log.createLogger(this.name)),hh(this),delete this.trigger,nT(this,this.constructor.defaultState),FT(r,this.name),this.dispose=this.dispose.bind(this),r.on("dispose",this.dispose)}var e=n.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,t){return t===void 0&&(t={}),ca(this.eventBusEl_,i,this.getEventHash(t))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Un][i]=!1,this.player=this.state=null,t[i]=Jg(i,On[i])},n.isBasic=function(i){var t=typeof i=="string"?wo(i):i;return typeof t=="function"&&!n.prototype.isPrototypeOf(t.prototype)},n.registerPlugin=function(i,t){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(iu(i))he.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(et.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof t!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof t+".");return On[i]=t,i!==ru&&(n.isBasic(t)?et.prototype[i]=FO(i,t):et.prototype[i]=Jg(i,t)),t},n.deregisterPlugin=function(i){if(i===ru)throw new Error("Cannot de-register base plugin.");iu(i)&&(delete On[i],delete et.prototype[i])},n.getPlugins=function(i){i===void 0&&(i=Object.keys(On));var t;return i.forEach(function(a){var s=wo(a);s&&(t=t||{},t[a]=s)}),t},n.getPluginVersion=function(i){var t=wo(i);return t&&t.VERSION||""},n}();Fr.getPlugin=wo;Fr.BASE_PLUGIN_NAME=ru;Fr.registerPlugin(ru,Fr);et.prototype.usingPlugin=function(n){return!!this[Un]&&this[Un][n]===!0};et.prototype.hasPlugin=function(n){return!!iu(n)};var Zg=!1,NO=function(e,r){r===void 0&&(r={}),Zg||(he.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),Zg=!0);var i=function(){e.apply(this,arguments)},t={};typeof r=="object"?(r.constructor!==Object.prototype.constructor&&(i=r.constructor),t=r):typeof r=="function"&&(i=r),tk(i,e),e&&(i.super_=e);for(var a in t)t.hasOwnProperty(a)&&(i.prototype[a]=t[a]);return i},NT=function(e){return e.indexOf("#")===0?e.slice(1):e};function U(n,e,r){var i=U.getPlayer(n);if(i)return e&&he.warn('Player "'+n+'" is already initialised. Options will not be applied.'),r&&i.ready(r),i;var t=typeof n=="string"?Di("#"+NT(n)):n;if(!la(t))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!t.ownerDocument.defaultView||!t.ownerDocument.body.contains(t))&&he.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(t.parentNode&&t.parentNode.hasAttribute("data-vjs-player")?t.parentNode:t).cloneNode(!0)),Ai("beforesetup").forEach(function(s){var o=s(t,Ie(e));if(!oi(o)||Array.isArray(o)){he.error("please return an object in beforesetup hooks");return}e=Ie(e,o)});var a=z.getComponent("Player");return i=new a(t,e,r),Ai("setup").forEach(function(s){return s(i)}),i}U.hooks_=Xr;U.hooks=Ai;U.hook=cI;U.hookOnce=dI;U.removeHook=ky;if(P.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&ua()){var fo=Di(".vjs-styles-defaults");if(!fo){fo=Jy("vjs-styles-defaults");var Mc=Di("head");Mc&&Mc.insertBefore(fo,Mc.firstChild),Zy(fo,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Md(1,U);U.VERSION=Dy;U.options=et.prototype.options_;U.getPlayers=function(){return et.players};U.getPlayer=function(n){var e=et.players,r;if(typeof n=="string"){var i=NT(n),t=e[i];if(t)return t;r=Di("#"+i)}else r=n;if(la(r)){var a=r,s=a.player,o=a.playerId;if(s||e[o])return s||e[o]}};U.getAllPlayers=function(){return Object.keys(et.players).map(function(n){return et.players[n]}).filter(Boolean)};U.players=et.players;U.getComponent=z.getComponent;U.registerComponent=function(n,e){we.isTech(e)&&he.warn("The "+n+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),z.registerComponent.call(z,n,e)};U.getTech=we.getTech;U.registerTech=we.registerTech;U.use=$I;Object.defineProperty(U,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(U.middleware,"TERMINATOR",{value:Jo,writeable:!1,enumerable:!0});U.browser=vI;U.TOUCH_ENABLED=ta;U.extend=NO;U.mergeOptions=Ie;U.bind=Oe;U.registerPlugin=Fr.registerPlugin;U.deregisterPlugin=Fr.deregisterPlugin;U.plugin=function(n,e){return he.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Fr.registerPlugin(n,e)};U.getPlugins=Fr.getPlugins;U.getPlugin=Fr.getPlugin;U.getPluginVersion=Fr.getPluginVersion;U.addLanguage=function(n,e){var r;return n=(""+n).toLowerCase(),U.options.languages=Ie(U.options.languages,(r={},r[n]=e,r)),U.options.languages[n]};U.log=he;U.createLogger=Iy;U.createTimeRange=U.createTimeRanges=nn;U.formatTime=sa;U.setFormatTime=fO;U.resetFormatTime=hO;U.parseUrl=mh;U.isCrossOrigin=Vu;U.EventTarget=ut;U.on=rr;U.one=Uu;U.off=yt;U.trigger=ca;U.xhr=k_;U.TextTrack=ks;U.AudioTrack=uT;U.VideoTrack=lT;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(n){U[n]=function(){return he.warn("videojs."+n+"() is deprecated; use videojs.dom."+n+"() instead"),Yy[n].apply(null,arguments)}});U.computedStyle=ps;U.dom=Yy;U.url=qI;U.defineLazyProperty=Rh;U.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.2 @license Apache-2.0 */var pr=Au,au=function(e,r,i){return e&&i&&i.responseURL&&r!==i.responseURL?i.responseURL:r},Tr=function(e){return U.log.debug?U.log.debug.bind(U,"VHS:",e+" >"):function(){}},ki=1/30,kr=ki*3,BT=function(e,r){var i=[],t;if(e&&e.length)for(t=0;t<e.length;t++)r(e.start(t),e.end(t))&&i.push([e.start(t),e.end(t)]);return U.createTimeRanges(i)},Ln=function(e,r){return BT(e,function(i,t){return i-kr<=r&&t+kr>=r})},ho=function(e,r){return BT(e,function(i){return i-ki>=r})},BO=function(e){if(e.length<2)return U.createTimeRanges();for(var r=[],i=1;i<e.length;i++){var t=e.end(i-1),a=e.start(i);r.push([t,a])}return U.createTimeRanges(r)},UO=function(e,r){var i=null,t=null,a=0,s=[],o=[];if(!e||!e.length||!r||!r.length)return U.createTimeRange();for(var u=e.length;u--;)s.push({time:e.start(u),type:"start"}),s.push({time:e.end(u),type:"end"});for(u=r.length;u--;)s.push({time:r.start(u),type:"start"}),s.push({time:r.end(u),type:"end"});for(s.sort(function(l,c){return l.time-c.time}),u=0;u<s.length;u++)s[u].type==="start"?(a++,a===2&&(i=s[u].time)):s[u].type==="end"&&(a--,a===1&&(t=s[u].time)),i!==null&&t!==null&&(o.push([i,t]),i=null,t=null);return U.createTimeRanges(o)},UT=function(e){var r=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)r.push(e.start(i)+" => "+e.end(i));return r.join(", ")},jO=function(e,r,i){i===void 0&&(i=1);var t=e.length?e.end(e.length-1):0;return(t-r)/i},Xi=function(e){for(var r=[],i=0;i<e.length;i++)r.push({start:e.start(i),end:e.end(i)});return r},VO=function(e,r){if(e===r)return!1;if(!e&&r||!r&&e||e.length!==r.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==r.start(i)||e.end(i)!==r.end(i))return!0;return!1},ev=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},Mh=function(e,r){var i=0;if(!e||!e.length)return i;for(var t=0;t<e.length;t++){var a=e.start(t),s=e.end(t);if(!(r>s)){if(r>a&&r<=s){i+=s-r;continue}i+=s-a}}return i},tv=U.createTimeRange,Fh=function(e,r){if(!r.preload)return r.duration;var i=0;return(r.parts||[]).forEach(function(t){i+=t.duration}),(r.preloadHints||[]).forEach(function(t){t.type==="PART"&&(i+=e.partTargetDuration)}),i},Hd=function(e){return(e.segments||[]).reduce(function(r,i,t){return i.parts?i.parts.forEach(function(a,s){r.push({duration:a.duration,segmentIndex:t,partIndex:s,part:a,segment:i})}):r.push({duration:i.duration,segmentIndex:t,partIndex:null,segment:i,part:null}),r},[])},jT=function(e){var r=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return r&&r.parts||[]},VT=function(e){var r=e.preloadSegment;if(r){var i=r.parts,t=r.preloadHints,a=(t||[]).reduce(function(s,o){return s+(o.type==="PART"?1:0)},0);return a+=i&&i.length?i.length:0,a}},HT=function(e,r){if(r.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=jT(r).length>0;return i&&r.serverControl&&r.serverControl.partHoldBack?r.serverControl.partHoldBack:i&&r.partTargetDuration?r.partTargetDuration*3:r.serverControl&&r.serverControl.holdBack?r.serverControl.holdBack:r.targetDuration?r.targetDuration*3:0},HO=function(e,r){var i=0,t=r-e.mediaSequence,a=e.segments[t];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;t--;){if(a=e.segments[t],typeof a.end<"u")return{result:i+a.end,precise:!0};if(i+=Fh(e,a),typeof a.start<"u")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},qO=function(e,r){for(var i=0,t,a=r-e.mediaSequence;a<e.segments.length;a++){if(t=e.segments[a],typeof t.start<"u")return{result:t.start-i,precise:!0};if(i+=Fh(e,t),typeof t.end<"u")return{result:t.end-i,precise:!0}}return{result:-1,precise:!1}},qT=function(e,r,i){if(typeof r>"u"&&(r=e.mediaSequence+e.segments.length),r<e.mediaSequence)return 0;var t=HO(e,r);if(t.precise)return t.result;var a=qO(e,r);return a.precise?a.result:t.result+i},WT=function(e,r,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof r>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return P.Infinity}return qT(e,r,i)},Xa=function(e){var r=e.defaultDuration,i=e.durationList,t=e.startIndex,a=e.endIndex,s=0;if(t>a){var o=[a,t];t=o[0],a=o[1]}if(t<0){for(var u=t;u<Math.min(0,a);u++)s+=r;t=0}for(var l=t;l<a;l++)s+=i[l].duration;return s},zT=function(e,r,i,t){if(!e||!e.segments)return null;if(e.endList)return WT(e);if(r===null)return null;r=r||0;var a=qT(e,e.mediaSequence+e.segments.length,r);return i&&(t=typeof t=="number"?t:HT(null,e),a-=t),Math.max(0,a)},WO=function(e,r,i){var t=!0,a=r||0,s=zT(e,r,t,i);return s===null?tv():tv(a,s)},zO=function(e){for(var r=e.playlist,i=e.currentTime,t=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,o=e.experimentalExactManifestTimings,u=i-s,l=Hd(r),c=0,d=0;d<l.length;d++){var f=l[d];if(t===f.segmentIndex&&!(typeof a=="number"&&typeof f.partIndex=="number"&&a!==f.partIndex)){c=d;break}}if(u<0){if(c>0)for(var p=c-1;p>=0;p--){var y=l[p];if(u+=y.duration,o){if(u<0)continue}else if(u+ki<=0)continue;return{partIndex:y.partIndex,segmentIndex:y.segmentIndex,startTime:s-Xa({defaultDuration:r.targetDuration,durationList:l,startIndex:c,endIndex:p})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(c<0){for(var _=c;_<0;_++)if(u-=r.targetDuration,u<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};c=0}for(var T=c;T<l.length;T++){var E=l[T];if(u-=E.duration,o){if(u>0)continue}else if(u-ki>=0)continue;return{partIndex:E.partIndex,segmentIndex:E.segmentIndex,startTime:s+Xa({defaultDuration:r.targetDuration,durationList:l,startIndex:c,endIndex:T})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},GT=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Nh=function(e){return e.excludeUntil&&e.excludeUntil===1/0},zu=function(e){var r=GT(e);return!e.disabled&&!r},GO=function(e){return e.disabled},$O=function(e){for(var r=0;r<e.segments.length;r++)if(e.segments[r].key)return!0;return!1},$T=function(e,r){return r.attributes&&r.attributes[e]},KO=function(e,r,i,t){if(t===void 0&&(t=0),!$T("BANDWIDTH",i))return NaN;var a=e*i.attributes.BANDWIDTH;return(a-t*8)/r},qd=function(e,r){if(e.playlists.length===1)return!0;var i=r.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(t){return zu(t)?(t.attributes.BANDWIDTH||0)<i:!1}).length===0},Bh=function(e,r){return!e&&!r||!e&&r||e&&!r?!1:!!(e===r||e.id&&r.id&&e.id===r.id||e.resolvedUri&&r.resolvedUri&&e.resolvedUri===r.resolvedUri||e.uri&&r.uri&&e.uri===r.uri)},rv=function(e,r){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},t=!1;for(var a in i){for(var s in i[a])if(t=r(i[a][s]),t)break;if(t)break}return!!t},Os=function(e){if(!e||!e.playlists||!e.playlists.length){var r=rv(e,function(s){return s.playlists&&s.playlists.length||s.uri});return r}for(var i=function(o){var u=e.playlists[o],l=u.attributes&&u.attributes.CODECS;if(l&&l.split(",").every(function(d){return B_(d)}))return"continue";var c=rv(e,function(d){return Bh(u,d)});return c?"continue":{v:!1}},t=0;t<e.playlists.length;t++){var a=i(t);if(a!=="continue"&&typeof a=="object")return a.v}return!0},Rt={liveEdgeDelay:HT,duration:WT,seekable:WO,getMediaInfoForTime:zO,isEnabled:zu,isDisabled:GO,isBlacklisted:GT,isIncompatible:Nh,playlistEnd:zT,isAes:$O,hasAttribute:$T,estimateSegmentRequestTime:KO,isLowestEnabledRendition:qd,isAudioOnly:Os,playlistMatch:Bh,segmentDurationWithParts:Fh},KT=U.log,Uh=function(e,r){return e+"-"+r},XO=function(e,r,i){return"placeholder-uri-"+e+"-"+r+"-"+i},YO=function(e){var r=e.onwarn,i=e.oninfo,t=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,o=e.customTagMappers,u=o===void 0?[]:o,l=e.experimentalLLHLS,c=new lk;r&&c.on("warn",r),i&&c.on("info",i),s.forEach(function(_){return c.addParser(_)}),u.forEach(function(_){return c.addTagMapper(_)}),c.push(t),c.end();var d=c.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(_){d.hasOwnProperty(_)&&delete d[_]}),d.segments&&d.segments.forEach(function(_){["parts","preloadHints"].forEach(function(T){_.hasOwnProperty(T)&&delete _[T]})})),!d.targetDuration){var f=10;d.segments&&d.segments.length&&(f=d.segments.reduce(function(_,T){return Math.max(_,T.duration)},0)),r&&r("manifest has no targetDuration defaulting to "+f),d.targetDuration=f}var p=jT(d);if(p.length&&!d.partTargetDuration){var y=p.reduce(function(_,T){return Math.max(_,T.duration)},0);r&&(r("manifest has no partTargetDuration defaulting to "+y),KT.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),d.partTargetDuration=y}return d},ma=function(e,r){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(i){if(e.mediaGroups[i])for(var t in e.mediaGroups[i])for(var a in e.mediaGroups[i][t]){var s=e.mediaGroups[i][t][a];r(s,i,t,a)}})},XT=function(e){var r=e.playlist,i=e.uri,t=e.id;r.id=t,r.playlistErrors_=0,i&&(r.uri=i),r.attributes=r.attributes||{}},QO=function(e){for(var r=e.playlists.length;r--;){var i=e.playlists[r];XT({playlist:i,id:Uh(r,i.uri)}),i.resolvedUri=pr(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||KT.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},JO=function(e){ma(e,function(r){r.uri&&(r.resolvedUri=pr(e.uri,r.uri))})},ZO=function(e,r){var i=Uh(0,r),t={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:P.location.href,resolvedUri:P.location.href,playlists:[{uri:r,id:i,resolvedUri:r,attributes:{}}]};return t.playlists[i]=t.playlists[0],t.playlists[r]=t.playlists[0],t},YT=function(e,r,i){i===void 0&&(i=XO),e.uri=r;for(var t=0;t<e.playlists.length;t++)if(!e.playlists[t].uri){var a="placeholder-uri-"+t;e.playlists[t].uri=a}var s=Os(e);ma(e,function(o,u,l,c){if(!o.playlists||!o.playlists.length){if(s&&u==="AUDIO"&&!o.uri)for(var d=0;d<e.playlists.length;d++){var f=e.playlists[d];if(f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===l)return}o.playlists=[lr({},o)]}o.playlists.forEach(function(p,y){var _=i(u,l,c,p),T=Uh(y,_);p.uri?p.resolvedUri=p.resolvedUri||pr(e.uri,p.uri):(p.uri=y===0?_:T,p.resolvedUri=p.uri),p.id=p.id||T,p.attributes=p.attributes||{},e.playlists[p.id]=p,e.playlists[p.uri]=p})}),QO(e),JO(e)},su=U.mergeOptions,eL=U.EventTarget,tL=function(e,r){if(r.endList||!r.serverControl)return e;var i={};if(r.serverControl.canBlockReload){var t=r.preloadSegment,a=r.mediaSequence+r.segments.length;if(t){var s=t.parts||[],o=VT(r)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&a--}i._HLS_msn=a}if(r.serverControl&&r.serverControl.canSkipUntil&&(i._HLS_skip=r.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var u=new P.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(l){i.hasOwnProperty(l)&&u.searchParams.set(l,i[l])}),e=u.toString()}return e},rL=function(e,r){if(!e)return r;var i=su(e,r);if(e.preloadHints&&!r.preloadHints&&delete i.preloadHints,e.parts&&!r.parts)delete i.parts;else if(e.parts&&r.parts)for(var t=0;t<r.parts.length;t++)e.parts&&e.parts[t]&&(i.parts[t]=su(e.parts[t],r.parts[t]));return!e.skipped&&r.skipped&&(i.skipped=!1),e.preload&&!r.preload&&(i.preload=!1),i},iL=function(e,r,i){var t=e.slice(),a=r.slice();i=i||0;for(var s=[],o,u=0;u<a.length;u++){var l=t[u+i],c=a[u];l?(o=l.map||o,s.push(rL(l,c))):(o&&!c.map&&(c.map=o),s.push(c))}return s},QT=function(e,r){!e.resolvedUri&&e.uri&&(e.resolvedUri=pr(r,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=pr(r,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=pr(r,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=pr(r,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=pr(r,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=pr(r,i.uri))})},JT=function(e){var r=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var t=0;t<i.preloadHints.length;t++)if(i.preloadHints[t].type==="MAP")return r}i.duration=e.targetDuration,i.preload=!0,r.push(i)}return r},ZT=function(e,r){return e===r||e.segments&&r.segments&&e.segments.length===r.segments.length&&e.endList===r.endList&&e.mediaSequence===r.mediaSequence&&e.preloadSegment===r.preloadSegment},Wd=function(e,r,i){i===void 0&&(i=ZT);var t=su(e,{}),a=t.playlists[r.id];if(!a||i(a,r))return null;r.segments=JT(r);var s=su(a,r);if(s.preloadSegment&&!r.preloadSegment&&delete s.preloadSegment,a.segments){if(r.skip){r.segments=r.segments||[];for(var o=0;o<r.skip.skippedSegments;o++)r.segments.unshift({skipped:!0})}s.segments=iL(a.segments,r.segments,r.mediaSequence-a.mediaSequence)}s.segments.forEach(function(l){QT(l,s.resolvedUri)});for(var u=0;u<t.playlists.length;u++)t.playlists[u].id===r.id&&(t.playlists[u]=s);return t.playlists[r.id]=s,t.playlists[r.uri]=s,ma(e,function(l,c,d,f){if(l.playlists)for(var p=0;p<l.playlists.length;p++)r.id===l.playlists[p].id&&(l.playlists[p]=s)}),t},zd=function(e,r){var i=e.segments||[],t=i[i.length-1],a=t&&t.parts&&t.parts[t.parts.length-1],s=a&&a.duration||t&&t.duration;return r&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},Rn=function(n){Y(e,n);function e(i,t,a){var s;if(a===void 0&&(a={}),s=n.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=Tr("PlaylistLoader");var o=a,u=o.withCredentials,l=u===void 0?!1:u,c=o.handleManifestRedirects,d=c===void 0?!1:c;s.src=i,s.vhs_=t,s.withCredentials=l,s.handleManifestRedirects=d;var f=t.options_;return s.customTagParsers=f&&f.customTagParsers||[],s.customTagMappers=f&&f.customTagMappers||[],s.experimentalLLHLS=f&&f.experimentalLLHLS||!1,U.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(le(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var r=e.prototype;return r.handleMediaupdatetimeout_=function(){var t=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=pr(this.master.uri,a.uri);this.experimentalLLHLS&&(s=tL(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(o,u){if(t.request){if(o)return t.playlistRequestError(t.request,t.media(),"HAVE_METADATA");t.haveMetadata({playlistString:t.request.responseText,url:t.media().uri,id:t.media().id})}})}},r.playlistRequestError=function(t,a,s){var o=a.uri,u=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[u],status:t.status,message:"HLS playlist request error at URL: "+o+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},r.parseManifest_=function(t){var a=this,s=t.url,o=t.manifestString;return YO({onwarn:function(l){var c=l.message;return a.logger_("m3u8-parser warn for "+s+": "+c)},oninfo:function(l){var c=l.message;return a.logger_("m3u8-parser info for "+s+": "+c)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},r.haveMetadata=function(t){var a=t.playlistString,s=t.playlistObject,o=t.url,u=t.id;this.request=null,this.state="HAVE_METADATA";var l=s||this.parseManifest_({url:o,manifestString:a});l.lastRequest=Date.now(),XT({playlist:l,uri:o,id:u});var c=Wd(this.master,l);this.targetDuration=l.partTargetDuration||l.targetDuration,this.pendingMedia_=null,c?(this.master=c,this.media_=this.master.playlists[u]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(zd(this.media(),!!c)),this.trigger("loadedplaylist")},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),P.clearTimeout(this.mediaUpdateTimeout),P.clearTimeout(this.finalRenditionTimeout),this.off()},r.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},r.media=function(t,a){var s=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof t=="string"){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(P.clearTimeout(this.finalRenditionTimeout),a){var o=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=P.setTimeout(this.media.bind(this,t,!1),o);return}var u=this.state,l=!this.media_||t.id!==this.media_.id,c=this.master.playlists[t.id];if(c&&c.endList||t.endList&&t.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,l&&(this.trigger("mediachanging"),u==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(zd(t,!0)),!!l){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t,this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(d,f){if(s.request){if(t.lastRequest=Date.now(),t.resolvedUri=au(s.handleManifestRedirects,t.resolvedUri,f),d)return s.playlistRequestError(s.request,t,u);s.haveMetadata({playlistString:f.responseText,url:t.uri,id:t.id}),u==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},r.pause=function(){this.mediaUpdateTimeout&&(P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},r.load=function(t){var a=this;this.mediaUpdateTimeout&&(P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(t){var o=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=P.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},r.updateMediaUpdateTimeout_=function(t){var a=this;this.mediaUpdateTimeout&&(P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=P.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(t)},t))},r.start=function(){var t=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=P.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){t.setupInitialPlaylist(t.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(t.request){if(t.request=null,a)return t.error={status:s.status,message:"HLS playlist request error at URL: "+t.src+".",responseText:s.responseText,code:2},t.state==="HAVE_NOTHING"&&(t.started=!1),t.trigger("error");t.src=au(t.handleManifestRedirects,t.src,s);var o=t.parseManifest_({manifestString:s.responseText,url:t.src});t.setupInitialPlaylist(o)}})},r.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},r.setupInitialPlaylist=function(t){if(this.state="HAVE_MASTER",t.playlists){this.master=t,YT(this.master,this.srcUri()),t.playlists.forEach(function(s){s.segments=JT(s),s.segments.forEach(function(o){QT(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||P.location.href;this.master=ZO(t,a),this.haveMetadata({playlistObject:t,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(eL),nL=U.xhr,aL=U.mergeOptions,Gd=function(e,r,i,t){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!r&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),r&&r.code==="ETIMEDOUT"&&(e.timedout=!0),!r&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(r=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),t(r,e)},eb=function(){var e=function r(i,t){i=aL({timeout:45e3},i);var a=r.beforeRequest||U.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(i);s&&(i=s)}var o=U.Vhs.xhr.original===!0?nL:U.Vhs.xhr,u=o(i,function(c,d){return Gd(u,c,d,t)}),l=u.abort;return u.abort=function(){return u.aborted=!0,l.apply(u,arguments)},u.uri=i.uri,u.requestTime=Date.now(),u};return e.original=!0,e},sL=function(e){var r,i=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?r=P.BigInt(e.offset)+P.BigInt(e.length)-P.BigInt(1):r=e.offset+e.length-1,"bytes="+i+"-"+r},$d=function(e){var r={};return e.byterange&&(r.Range=sL(e.byterange)),r},oL=function(e,r){return e.start(r)+"-"+e.end(r)},uL=function(e,r){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(r%2?" ":"")},lL=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},tb=function(e){var r={};return Object.keys(e).forEach(function(i){var t=e[i];j_(t)?r[i]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:r[i]=t}),r},ou=function(e){var r=e.byterange||{length:1/0,offset:0};return[r.length,r.offset,e.resolvedUri].join(",")},rb=function(e){return e.resolvedUri},ib=function(e){for(var r=Array.prototype.slice.call(e),i=16,t="",a,s,o=0;o<r.length/i;o++)a=r.slice(o*i,o*i+i).map(uL).join(""),s=r.slice(o*i,o*i+i).map(lL).join(""),t+=a+" "+s+`
`;return t},cL=function(e){var r=e.bytes;return ib(r)},dL=function(e){var r="",i;for(i=0;i<e.length;i++)r+=oL(e,i)+" ";return r},fL=Object.freeze({__proto__:null,createTransferableMessage:tb,initSegmentId:ou,segmentKeyId:rb,hexDump:ib,tagDump:cL,textRanges:dL}),nb=.25,hL=function(e,r){if(!r.dateTimeObject)return null;var i=r.videoTimingInfo.transmuxerPrependedSeconds,t=r.videoTimingInfo.transmuxedPresentationStart,a=t+i,s=e-a;return new Date(r.dateTimeObject.getTime()+s*1e3)},pL=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},mL=function(e,r){var i;try{i=new Date(e)}catch{return null}if(!r||!r.segments||r.segments.length===0)return null;var t=r.segments[0];if(i<t.dateTimeObject)return null;for(var a=0;a<r.segments.length-1;a++){t=r.segments[a];var s=r.segments[a+1].dateTimeObject;if(i<s)break}var o=r.segments[r.segments.length-1],u=o.dateTimeObject,l=o.videoTimingInfo?pL(o.videoTimingInfo):o.duration+o.duration*nb,c=new Date(u.getTime()+l*1e3);return i>c?null:(i>u&&(t=o),{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:Rt.duration(r,r.mediaSequence+r.segments.indexOf(t)),type:t.videoTimingInfo?"accurate":"estimate"})},gL=function(e,r){if(!r||!r.segments||r.segments.length===0)return null;for(var i=0,t,a=0;a<r.segments.length&&(t=r.segments[a],i=t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationEnd:i+t.duration,!(e<=i));a++);var s=r.segments[r.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+s.duration*nb)return null;t=s}return{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:i-t.duration,type:t.videoTimingInfo?"accurate":"estimate"}},vL=function(e,r){var i,t;try{i=new Date(e),t=new Date(r)}catch{}var a=i.getTime(),s=t.getTime();return(s-a)/1e3},_L=function(e){if(!e.segments||e.segments.length===0)return!1;for(var r=0;r<e.segments.length;r++){var i=e.segments[r];if(!i.dateTimeObject)return!1}return!0},yL=function(e){var r=e.playlist,i=e.time,t=i===void 0?void 0:i,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!r||t===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=gL(t,r);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:t},u=hL(t,s.segment);return u&&(o.programDateTime=u.toISOString()),a(null,o)},TL=function n(e){var r=e.programTime,i=e.playlist,t=e.retryCount,a=t===void 0?2:t,s=e.seekTo,o=e.pauseAfterSeek,u=o===void 0?!0:o,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof r>"u"||!i||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!_L(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=mL(r,i);if(!d)return c({message:r+" was not found in the stream"});var f=d.segment,p=vL(f.dateTimeObject,r);if(d.type==="estimate"){if(a===0)return c({message:r+" is not buffered yet. Try again"});s(d.estimatedStart+p),l.one("seeked",function(){n({programTime:r,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:u,tech:l,callback:c})});return}var y=f.start+p,_=function(){return c(null,l.currentTime())};l.one("seeked",_),u&&l.pause(),s(y)},Fc=function(e,r){if(e.readyState===4)return r()},bL=function(e,r,i){var t=[],a,s=!1,o=function(f,p,y,_){return p.abort(),s=!0,i(f,p,y,_)},u=function(f,p){if(!s){if(f)return o(f,p,"",t);var y=p.responseText.substring(t&&t.byteLength||0,p.responseText.length);if(t=bk(t,V_(y,!0)),a=a||Na(t),t.length<10||a&&t.length<a+2)return Fc(p,function(){return o(f,p,"",t)});var _=th(t);return _==="ts"&&t.length<188?Fc(p,function(){return o(f,p,"",t)}):!_&&t.length<376?Fc(p,function(){return o(f,p,"",t)}):o(null,p,_,t)}},l={uri:e,beforeSend:function(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function(p){return p.total,p.loaded,Gd(f,null,{statusCode:f.status},u)})}},c=r(l,function(d,f){return Gd(c,d,f,u)});return c},SL=U.EventTarget,ab=U.mergeOptions,iv=function(e,r){if(!ZT(e,r)||e.sidx&&r.sidx&&(e.sidx.offset!==r.sidx.offset||e.sidx.length!==r.sidx.length))return!1;if(!e.sidx&&r.sidx||e.sidx&&!r.sidx||e.segments&&!r.segments||!e.segments&&r.segments)return!1;if(!e.segments&&!r.segments)return!0;for(var i=0;i<e.segments.length;i++){var t=e.segments[i],a=r.segments[i];if(t.uri!==a.uri)return!1;if(!(!t.byterange&&!a.byterange)){var s=t.byterange,o=a.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}}return!0},xL=function(e,r,i,t){var a=t.attributes.NAME||i;return"placeholder-uri-"+e+"-"+r+"-"+a},EL=function(e){var r=e.masterXml,i=e.srcUrl,t=e.clientOffset,a=e.sidxMapping,s=e.previousManifest,o=VP(r,{manifestUri:i,clientOffset:t,sidxMapping:a,previousManifest:s});return YT(o,i,xL),o},CL=function(e,r){ma(e,function(i,t,a,s){s in r.mediaGroups[t][a]||delete e.mediaGroups[t][a][s]})},wL=function(e,r,i){for(var t=!0,a=ab(e,{duration:r.duration,minimumUpdatePeriod:r.minimumUpdatePeriod,timelineStarts:r.timelineStarts}),s=0;s<r.playlists.length;s++){var o=r.playlists[s];if(o.sidx){var u=Ou(o.sidx);i&&i[u]&&i[u].sidx&&Qf(o,i[u].sidx,o.sidx.resolvedUri)}var l=Wd(a,o,iv);l&&(a=l,t=!1)}return ma(r,function(c,d,f,p){if(c.playlists&&c.playlists.length){var y=c.playlists[0].id,_=Wd(a,c.playlists[0],iv);_&&(a=_,p in a.mediaGroups[d][f]||(a.mediaGroups[d][f][p]=c),a.mediaGroups[d][f][p].playlists[0]=a.playlists[y],t=!1)}}),CL(a,r),r.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(t=!1),t?null:a},AL=function(e,r){var i=!e.map&&!r.map,t=i||!!(e.map&&r.map&&e.map.byterange.offset===r.map.byterange.offset&&e.map.byterange.length===r.map.byterange.length);return t&&e.uri===r.uri&&e.byterange.offset===r.byterange.offset&&e.byterange.length===r.byterange.length},nv=function(e,r){var i={};for(var t in e){var a=e[t],s=a.sidx;if(s){var o=Ou(s);if(!r[o])break;var u=r[o].sidxInfo;AL(u,s)&&(i[o]=r[o])}}return i},DL=function(e,r){var i=nv(e.playlists,r),t=i;return ma(e,function(a,s,o,u){if(a.playlists&&a.playlists.length){var l=a.playlists;t=ab(t,nv(l,r))}}),t},Kd=function(n){Y(e,n);function e(i,t,a,s){var o;a===void 0&&(a={}),o=n.call(this)||this,o.masterPlaylistLoader_=s||le(o),s||(o.isMaster_=!0);var u=a,l=u.withCredentials,c=l===void 0?!1:l,d=u.handleManifestRedirects,f=d===void 0?!1:d;if(o.vhs_=t,o.withCredentials=c,o.handleManifestRedirects=f,!i)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=Tr("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=i,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=i,o}var r=e.prototype;return r.requestErrored_=function(t,a,s){if(!this.request)return!0;if(this.request=null,t)return this.error=typeof t=="object"&&!(t instanceof Error)?t:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},r.addSidxSegments_=function(t,a,s){var o=this,u=t.sidx&&Ou(t.sidx);if(!t.sidx||!u||this.masterPlaylistLoader_.sidxMapping_[u]){this.mediaRequest_=P.setTimeout(function(){return s(!1)},0);return}var l=au(this.handleManifestRedirects,t.sidx.resolvedUri),c=function(f,p){if(!o.requestErrored_(f,p,a)){var y=o.masterPlaylistLoader_.sidxMapping_,_;try{_=$P(oe(p.response).subarray(8))}catch(T){o.requestErrored_(T,p,a);return}return y[u]={sidxInfo:t.sidx,sidx:_},Qf(t,_,t.sidx.resolvedUri),s(!0)}};this.request=bL(l,this.vhs_.xhr,function(d,f,p,y){if(d)return c(d,f);if(!p||p!=="mp4")return c({status:f.status,message:"Unsupported "+(p||"unknown")+" container type for sidx segment at URL: "+l,response:"",playlist:t,internal:!0,blacklistDuration:1/0,code:2},f);var _=t.sidx.byterange,T=_.offset,E=_.length;if(y.length>=E+T)return c(d,{response:y.subarray(T,T+E),status:f.status,uri:f.uri});o.request=o.vhs_.xhr({uri:l,responseType:"arraybuffer",headers:$d({byterange:t.sidx.byterange})},c)})},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},P.clearTimeout(this.minimumUpdatePeriodTimeout_),P.clearTimeout(this.mediaRequest_),P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},r.hasPendingRequest=function(){return this.request||this.mediaRequest_},r.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},r.media=function(t){var a=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof t=="string"){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var o=!this.media_||t.id!==this.media_.id;if(o&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList){this.state="HAVE_METADATA",this.media_=t,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}o&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,s,function(u){a.haveMetadata({startingState:s,playlist:t})}))},r.haveMetadata=function(t){var a=t.startingState,s=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},r.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(P.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},r.load=function(t){var a=this;P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(t){var o=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=P.setTimeout(function(){return a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},r.start=function(){var t=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=P.setTimeout(function(){return t.haveMaster_()},0);return}this.requestMaster_(function(a,s){t.haveMaster_(),!t.hasPendingRequest()&&!t.media_&&t.media(t.masterPlaylistLoader_.master.playlists[0])})},r.requestMaster_=function(t){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,o){if(a.requestErrored_(s,o)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var u=o.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?a.masterLoaded_=Date.parse(o.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=au(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,o),u){a.handleMaster_(),a.syncClientServerClock_(function(){return t(o,u)});return}return t(o,u)})},r.syncClientServerClock_=function(t){var a=this,s=HP(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),t();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),t();this.request=this.vhs_.xhr({uri:pr(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(o,u){if(a.request){if(o)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),t();var l;s.method==="HEAD"?!u.responseHeaders||!u.responseHeaders.date?l=a.masterLoaded_:l=Date.parse(u.responseHeaders.date):l=Date.parse(u.responseText),a.masterPlaylistLoader_.clientOffset_=l-Date.now(),t()}})},r.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},r.handleMaster_=function(){this.mediaRequest_=null;var t=this.masterPlaylistLoader_.master,a=EL({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:t});t&&(a=wL(t,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||t;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!t||a&&a.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),!!a},r.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(P.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var a=t.master&&t.master.minimumUpdatePeriod;if(a===0&&(t.media()?a=t.media().targetDuration*1e3:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},r.createMUPTimeout_=function(t){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=P.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(t)},t)},r.refreshXml_=function(){var t=this;this.requestMaster_(function(a,s){s&&(t.media_&&(t.media_=t.masterPlaylistLoader_.master.playlists[t.media_.id]),t.masterPlaylistLoader_.sidxMapping_=DL(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.sidxMapping_),t.addSidxSegments_(t.media(),t.state,function(o){t.refreshMedia_(t.media().id)}))})},r.refreshMedia_=function(t){var a=this;if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==s[t];if(o?this.media_=s[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var u=function l(){a.media().endList||(a.mediaUpdateTimeout=P.setTimeout(function(){a.trigger("mediaupdatetimeout"),l()},zd(a.media(),!!o)))};u()}this.trigger("loadedplaylist")},e}(SL),it={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},kL=function(e){for(var r=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r.buffer},sb=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},PL=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(e),URL.createObjectURL(r.getBlob())}},ob=function(e){return function(){var r=PL(e),i=sb(new Worker(r));i.objURL=r;var t=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(r),t.call(this)},i}},ub=function(e){return"var browserWorkerPolyFill = "+sb.toString()+`;
browserWorkerPolyFill(self);
`+e},lb=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},IL=ub(lb(function(){var n=function(){this.init=function(){var h={};this.on=function(g,m){h[g]||(h[g]=[]),h[g]=h[g].concat(m)},this.off=function(g,m){var v;return h[g]?(v=h[g].indexOf(m),h[g]=h[g].slice(),h[g].splice(v,1),v>-1):!1},this.trigger=function(g){var m,v,b,S;if(m=h[g],!!m)if(arguments.length===2)for(b=m.length,v=0;v<b;++v)m[v].call(this,arguments[1]);else{for(S=[],v=arguments.length,v=1;v<arguments.length;++v)S.push(arguments[v]);for(b=m.length,v=0;v<b;++v)m[v].apply(this,S)}},this.dispose=function(){h={}}}};n.prototype.pipe=function(x){return this.on("data",function(h){x.push(h)}),this.on("done",function(h){x.flush(h)}),this.on("partialdone",function(h){x.partialFlush(h)}),this.on("endedtimeline",function(h){x.endTimeline(h)}),this.on("reset",function(h){x.reset(h)}),x},n.prototype.push=function(x){this.trigger("data",x)},n.prototype.flush=function(x){this.trigger("done",x)},n.prototype.partialFlush=function(x){this.trigger("partialdone",x)},n.prototype.endTimeline=function(x){this.trigger("endedtimeline",x)},n.prototype.reset=function(x){this.trigger("reset",x)};var e=n,r=Math.pow(2,32),i=function(h){var g=new DataView(h.buffer,h.byteOffset,h.byteLength),m;return g.getBigUint64?(m=g.getBigUint64(0),m<Number.MAX_SAFE_INTEGER?Number(m):m):g.getUint32(0)*r+g.getUint32(4)},t={getUint64:i,MAX_UINT32:r},a=t.MAX_UINT32,s,o,u,l,c,d,f,p,y,_,T,E,C,I,k,D,N,M,L,O,j,q,H,G,re,ie,X,ne,de,Ne,pe,qt,Le,pt,Be,rt;(function(){var x;if(H={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(x in H)H.hasOwnProperty(x)&&(H[x]=[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)]);G=new Uint8Array([105,115,111,109]),ie=new Uint8Array([97,118,99,49]),re=new Uint8Array([0,0,0,1]),X=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ne=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),de={video:X,audio:ne},qt=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),pe=new Uint8Array([0,0,0,0,0,0,0,0]),Le=new Uint8Array([0,0,0,0,0,0,0,0]),pt=Le,Be=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),rt=Le,Ne=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(h){var g=[],m=0,v,b,S;for(v=1;v<arguments.length;v++)g.push(arguments[v]);for(v=g.length;v--;)m+=g[v].byteLength;for(b=new Uint8Array(m+8),S=new DataView(b.buffer,b.byteOffset,b.byteLength),S.setUint32(0,b.byteLength),b.set(h,4),v=0,m=8;v<g.length;v++)b.set(g[v],m),m+=g[v].byteLength;return b},o=function(){return s(H.dinf,s(H.dref,qt))},u=function(h){return s(H.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,h.audioobjecttype<<3|h.samplingfrequencyindex>>>1,h.samplingfrequencyindex<<7|h.channelcount<<3,6,1,2]))},l=function(){return s(H.ftyp,G,re,G,ie)},D=function(h){return s(H.hdlr,de[h])},c=function(h){return s(H.mdat,h)},k=function(h){var g=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,h.duration>>>24&255,h.duration>>>16&255,h.duration>>>8&255,h.duration&255,85,196,0,0]);return h.samplerate&&(g[12]=h.samplerate>>>24&255,g[13]=h.samplerate>>>16&255,g[14]=h.samplerate>>>8&255,g[15]=h.samplerate&255),s(H.mdhd,g)},I=function(h){return s(H.mdia,k(h),D(h.type),f(h))},d=function(h){return s(H.mfhd,new Uint8Array([0,0,0,0,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255]))},f=function(h){return s(H.minf,h.type==="video"?s(H.vmhd,Ne):s(H.smhd,pe),o(),M(h))},p=function(h,g){for(var m=[],v=g.length;v--;)m[v]=O(g[v]);return s.apply(null,[H.moof,d(h)].concat(m))},y=function(h){for(var g=h.length,m=[];g--;)m[g]=E(h[g]);return s.apply(null,[H.moov,T(4294967295)].concat(m).concat(_(h)))},_=function(h){for(var g=h.length,m=[];g--;)m[g]=j(h[g]);return s.apply(null,[H.mvex].concat(m))},T=function(h){var g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(H.mvhd,g)},N=function(h){var g=h.samples||[],m=new Uint8Array(4+g.length),v,b;for(b=0;b<g.length;b++)v=g[b].flags,m[b+4]=v.dependsOn<<4|v.isDependedOn<<2|v.hasRedundancy;return s(H.sdtp,m)},M=function(h){return s(H.stbl,L(h),s(H.stts,rt),s(H.stsc,pt),s(H.stsz,Be),s(H.stco,Le))},function(){var x,h;L=function(m){return s(H.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),m.type==="video"?x(m):h(m))},x=function(m){var v=m.sps||[],b=m.pps||[],S=[],w=[],A,F;for(A=0;A<v.length;A++)S.push((v[A].byteLength&65280)>>>8),S.push(v[A].byteLength&255),S=S.concat(Array.prototype.slice.call(v[A]));for(A=0;A<b.length;A++)w.push((b[A].byteLength&65280)>>>8),w.push(b[A].byteLength&255),w=w.concat(Array.prototype.slice.call(b[A]));if(F=[H.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(m.width&65280)>>8,m.width&255,(m.height&65280)>>8,m.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(H.avcC,new Uint8Array([1,m.profileIdc,m.profileCompatibility,m.levelIdc,255].concat([v.length],S,[b.length],w))),s(H.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],m.sarRatio){var R=m.sarRatio[0],B=m.sarRatio[1];F.push(s(H.pasp,new Uint8Array([(R&4278190080)>>24,(R&16711680)>>16,(R&65280)>>8,R&255,(B&4278190080)>>24,(B&16711680)>>16,(B&65280)>>8,B&255])))}return s.apply(null,F)},h=function(m){return s(H.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(m.channelcount&65280)>>8,m.channelcount&255,(m.samplesize&65280)>>8,m.samplesize&255,0,0,0,0,(m.samplerate&65280)>>8,m.samplerate&255,0,0]),u(m))}}(),C=function(h){var g=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,0,(h.duration&4278190080)>>24,(h.duration&16711680)>>16,(h.duration&65280)>>8,h.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(h.width&65280)>>8,h.width&255,0,0,(h.height&65280)>>8,h.height&255,0,0]);return s(H.tkhd,g)},O=function(h){var g,m,v,b,S,w,A;return g=s(H.tfhd,new Uint8Array([0,0,0,58,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),w=Math.floor(h.baseMediaDecodeTime/a),A=Math.floor(h.baseMediaDecodeTime%a),m=s(H.tfdt,new Uint8Array([1,0,0,0,w>>>24&255,w>>>16&255,w>>>8&255,w&255,A>>>24&255,A>>>16&255,A>>>8&255,A&255])),S=92,h.type==="audio"?(v=q(h,S),s(H.traf,g,m,v)):(b=N(h),v=q(h,b.length+S),s(H.traf,g,m,v,b))},E=function(h){return h.duration=h.duration||4294967295,s(H.trak,C(h),I(h))},j=function(h){var g=new Uint8Array([0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return h.type!=="video"&&(g[g.length-1]=0),s(H.trex,g)},function(){var x,h,g;g=function(v,b){var S=0,w=0,A=0,F=0;return v.length&&(v[0].duration!==void 0&&(S=1),v[0].size!==void 0&&(w=2),v[0].flags!==void 0&&(A=4),v[0].compositionTimeOffset!==void 0&&(F=8)),[0,0,S|w|A|F,1,(v.length&4278190080)>>>24,(v.length&16711680)>>>16,(v.length&65280)>>>8,v.length&255,(b&4278190080)>>>24,(b&16711680)>>>16,(b&65280)>>>8,b&255]},h=function(v,b){var S,w,A,F,R,B;for(F=v.samples||[],b+=20+16*F.length,A=g(F,b),w=new Uint8Array(A.length+F.length*16),w.set(A),S=A.length,B=0;B<F.length;B++)R=F[B],w[S++]=(R.duration&4278190080)>>>24,w[S++]=(R.duration&16711680)>>>16,w[S++]=(R.duration&65280)>>>8,w[S++]=R.duration&255,w[S++]=(R.size&4278190080)>>>24,w[S++]=(R.size&16711680)>>>16,w[S++]=(R.size&65280)>>>8,w[S++]=R.size&255,w[S++]=R.flags.isLeading<<2|R.flags.dependsOn,w[S++]=R.flags.isDependedOn<<6|R.flags.hasRedundancy<<4|R.flags.paddingValue<<1|R.flags.isNonSyncSample,w[S++]=R.flags.degradationPriority&61440,w[S++]=R.flags.degradationPriority&15,w[S++]=(R.compositionTimeOffset&4278190080)>>>24,w[S++]=(R.compositionTimeOffset&16711680)>>>16,w[S++]=(R.compositionTimeOffset&65280)>>>8,w[S++]=R.compositionTimeOffset&255;return s(H.trun,w)},x=function(v,b){var S,w,A,F,R,B;for(F=v.samples||[],b+=20+8*F.length,A=g(F,b),S=new Uint8Array(A.length+F.length*8),S.set(A),w=A.length,B=0;B<F.length;B++)R=F[B],S[w++]=(R.duration&4278190080)>>>24,S[w++]=(R.duration&16711680)>>>16,S[w++]=(R.duration&65280)>>>8,S[w++]=R.duration&255,S[w++]=(R.size&4278190080)>>>24,S[w++]=(R.size&16711680)>>>16,S[w++]=(R.size&65280)>>>8,S[w++]=R.size&255;return s(H.trun,S)},q=function(v,b){return v.type==="audio"?x(v,b):h(v,b)}}();var lt={ftyp:l,mdat:c,moof:p,moov:y,initSegment:function(h){var g=l(),m=y(h),v;return v=new Uint8Array(g.byteLength+m.byteLength),v.set(g),v.set(m,g.byteLength),v}},W=function(h){var g,m,v=[],b=[];for(b.byteLength=0,b.nalCount=0,b.duration=0,v.byteLength=0,g=0;g<h.length;g++)m=h[g],m.nalUnitType==="access_unit_delimiter_rbsp"?(v.length&&(v.duration=m.dts-v.dts,b.byteLength+=v.byteLength,b.nalCount+=v.length,b.duration+=v.duration,b.push(v)),v=[m],v.byteLength=m.data.byteLength,v.pts=m.pts,v.dts=m.dts):(m.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(v.keyFrame=!0),v.duration=m.dts-v.dts,v.byteLength+=m.data.byteLength,v.push(m));return b.length&&(!v.duration||v.duration<=0)&&(v.duration=b[b.length-1].duration),b.byteLength+=v.byteLength,b.nalCount+=v.length,b.duration+=v.duration,b.push(v),b},te=function(h){var g,m,v=[],b=[];for(v.byteLength=0,v.nalCount=0,v.duration=0,v.pts=h[0].pts,v.dts=h[0].dts,b.byteLength=0,b.nalCount=0,b.duration=0,b.pts=h[0].pts,b.dts=h[0].dts,g=0;g<h.length;g++)m=h[g],m.keyFrame?(v.length&&(b.push(v),b.byteLength+=v.byteLength,b.nalCount+=v.nalCount,b.duration+=v.duration),v=[m],v.nalCount=m.length,v.byteLength=m.byteLength,v.pts=m.pts,v.dts=m.dts,v.duration=m.duration):(v.duration+=m.duration,v.nalCount+=m.length,v.byteLength+=m.byteLength,v.push(m));return b.length&&v.duration<=0&&(v.duration=b[b.length-1].duration),b.byteLength+=v.byteLength,b.nalCount+=v.nalCount,b.duration+=v.duration,b.push(v),b},J=function(h){var g;return!h[0][0].keyFrame&&h.length>1&&(g=h.shift(),h.byteLength-=g.byteLength,h.nalCount-=g.nalCount,h[0][0].dts=g.dts,h[0][0].pts=g.pts,h[0][0].duration+=g.duration),h},se=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Te=function(h,g){var m=se();return m.dataOffset=g,m.compositionTimeOffset=h.pts-h.dts,m.duration=h.duration,m.size=4*h.length,m.size+=h.byteLength,h.keyFrame&&(m.flags.dependsOn=2,m.flags.isNonSyncSample=0),m},qe=function(h,g){var m,v,b,S,w,A=g||0,F=[];for(m=0;m<h.length;m++)for(S=h[m],v=0;v<S.length;v++)w=S[v],b=Te(w,A),A+=b.size,F.push(b);return F},me=function(h){var g,m,v,b,S,w,A=0,F=h.byteLength,R=h.nalCount,B=F+4*R,V=new Uint8Array(B),Q=new DataView(V.buffer);for(g=0;g<h.length;g++)for(b=h[g],m=0;m<b.length;m++)for(S=b[m],v=0;v<S.length;v++)w=S[v],Q.setUint32(A,w.data.byteLength),A+=4,V.set(w.data,A),A+=w.data.byteLength;return V},fe=function(h,g){var m,v=g||0,b=[];return m=Te(h,v),b.push(m),b},Ge=function(h){var g,m,v=0,b=h.byteLength,S=h.length,w=b+4*S,A=new Uint8Array(w),F=new DataView(A.buffer);for(g=0;g<h.length;g++)m=h[g],F.setUint32(v,m.data.byteLength),v+=4,A.set(m.data,v),v+=m.data.byteLength;return A},cr={groupNalsIntoFrames:W,groupFramesIntoGops:te,extendFirstKeyFrame:J,generateSampleTable:qe,concatenateNalData:me,generateSampleTableForFrame:fe,concatenateNalDataForFrame:Ge},Ue=[33,16,5,32,164,27],Gu=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],be=function(h){for(var g=[];h--;)g.push(0);return g},Ib=function(h){return Object.keys(h).reduce(function(g,m){return g[m]=new Uint8Array(h[m].reduce(function(v,b){return v.concat(b)},[])),g},{})},$u,Ob=function(){if(!$u){var h={96e3:[Ue,[227,64],be(154),[56]],88200:[Ue,[231],be(170),[56]],64e3:[Ue,[248,192],be(240),[56]],48e3:[Ue,[255,192],be(268),[55,148,128],be(54),[112]],44100:[Ue,[255,192],be(268),[55,163,128],be(84),[112]],32e3:[Ue,[255,192],be(268),[55,234],be(226),[112]],24e3:[Ue,[255,192],be(268),[55,255,128],be(268),[111,112],be(126),[224]],16e3:[Ue,[255,192],be(268),[55,255,128],be(268),[111,255],be(269),[223,108],be(195),[1,192]],12e3:[Gu,be(268),[3,127,248],be(268),[6,255,240],be(268),[13,255,224],be(268),[27,253,128],be(259),[56]],11025:[Gu,be(268),[3,127,248],be(268),[6,255,240],be(268),[13,255,224],be(268),[27,255,192],be(268),[55,175,128],be(108),[112]],8e3:[Gu,be(268),[3,121,16],be(47),[7]]};$u=Ib(h)}return $u},Ku=9e4,Xu,Yu,Ls,Qu,zh,Gh,$h;Xu=function(h){return h*Ku},Yu=function(h,g){return h*g},Ls=function(h){return h/Ku},Qu=function(h,g){return h/g},zh=function(h,g){return Xu(Qu(h,g))},Gh=function(h,g){return Yu(Ls(h),g)},$h=function(h,g,m){return Ls(m?h:h-g)};var ye={ONE_SECOND_IN_TS:Ku,secondsToVideoTs:Xu,secondsToAudioTs:Yu,videoTsToSeconds:Ls,audioTsToSeconds:Qu,audioTsToVideoTs:zh,videoTsToAudioTs:Gh,metadataTsToSeconds:$h},Lb=function(h){var g,m,v=0;for(g=0;g<h.length;g++)m=h[g],v+=m.data.byteLength;return v},Rb=function(h,g,m,v){var b,S=0,w=0,A=0,F=0,R,B,V;if(g.length&&(b=ye.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),S=Math.ceil(ye.ONE_SECOND_IN_TS/(h.samplerate/1024)),m&&v&&(w=b-Math.max(m,v),A=Math.floor(w/S),F=A*S),!(A<1||F>ye.ONE_SECOND_IN_TS/2))){for(R=Ob()[h.samplerate],R||(R=g[0].data),B=0;B<A;B++)V=g[0],g.splice(0,0,{data:R,dts:V.dts-S,pts:V.pts-S});return h.baseMediaDecodeTime-=Math.floor(ye.videoTsToAudioTs(F,h.samplerate)),F}},Mb=function(h,g,m){return g.minSegmentDts>=m?h:(g.minSegmentDts=1/0,h.filter(function(v){return v.dts>=m?(g.minSegmentDts=Math.min(g.minSegmentDts,v.dts),g.minSegmentPts=g.minSegmentDts,!0):!1}))},Fb=function(h){var g,m,v=[];for(g=0;g<h.length;g++)m=h[g],v.push({size:m.data.byteLength,duration:1024});return v},Nb=function(h){var g,m,v=0,b=new Uint8Array(Lb(h));for(g=0;g<h.length;g++)m=h[g],b.set(m.data,v),v+=m.data.byteLength;return b},Rs={prefixWithSilence:Rb,trimAdtsFramesByEarliestDts:Mb,generateSampleTable:Fb,concatenateFrameData:Nb},Bb=ye.ONE_SECOND_IN_TS,Ub=function(h,g){typeof g.pts=="number"&&(h.timelineStartInfo.pts===void 0&&(h.timelineStartInfo.pts=g.pts),h.minSegmentPts===void 0?h.minSegmentPts=g.pts:h.minSegmentPts=Math.min(h.minSegmentPts,g.pts),h.maxSegmentPts===void 0?h.maxSegmentPts=g.pts:h.maxSegmentPts=Math.max(h.maxSegmentPts,g.pts)),typeof g.dts=="number"&&(h.timelineStartInfo.dts===void 0&&(h.timelineStartInfo.dts=g.dts),h.minSegmentDts===void 0?h.minSegmentDts=g.dts:h.minSegmentDts=Math.min(h.minSegmentDts,g.dts),h.maxSegmentDts===void 0?h.maxSegmentDts=g.dts:h.maxSegmentDts=Math.max(h.maxSegmentDts,g.dts))},jb=function(h){delete h.minSegmentDts,delete h.maxSegmentDts,delete h.minSegmentPts,delete h.maxSegmentPts},Vb=function(h,g){var m,v,b=h.minSegmentDts;return g||(b-=h.timelineStartInfo.dts),m=h.timelineStartInfo.baseMediaDecodeTime,m+=b,m=Math.max(0,m),h.type==="audio"&&(v=h.samplerate/Bb,m*=v,m=Math.floor(m)),m},dr={clearDtsInfo:jb,calculateTrackBaseMediaDecodeTime:Vb,collectDtsInfo:Ub},Kh=4,Hb=128,qb=function(h){for(var g=0,m={payloadType:-1,payloadSize:0},v=0,b=0;g<h.byteLength&&h[g]!==Hb;){for(;h[g]===255;)v+=255,g++;for(v+=h[g++];h[g]===255;)b+=255,g++;if(b+=h[g++],!m.payload&&v===Kh){var S=String.fromCharCode(h[g+3],h[g+4],h[g+5],h[g+6]);if(S==="GA94"){m.payloadType=v,m.payloadSize=b,m.payload=h.subarray(g,g+b);break}else m.payload=void 0}g+=b,v=0,b=0}return m},Wb=function(h){return h.payload[0]!==181||(h.payload[1]<<8|h.payload[2])!==49||String.fromCharCode(h.payload[3],h.payload[4],h.payload[5],h.payload[6])!=="GA94"||h.payload[7]!==3?null:h.payload.subarray(8,h.payload.length-1)},zb=function(h,g){var m=[],v,b,S,w;if(!(g[0]&64))return m;for(b=g[0]&31,v=0;v<b;v++)S=v*3,w={type:g[S+2]&3,pts:h},g[S+2]&4&&(w.ccData=g[S+3]<<8|g[S+4],m.push(w));return m},Gb=function(h){for(var g=h.byteLength,m=[],v=1,b,S;v<g-2;)h[v]===0&&h[v+1]===0&&h[v+2]===3?(m.push(v+2),v+=2):v++;if(m.length===0)return h;b=g-m.length,S=new Uint8Array(b);var w=0;for(v=0;v<b;w++,v++)w===m[0]&&(w++,m.shift()),S[v]=h[w];return S},ga={parseSei:qb,parseUserData:Wb,parseCaptionPackets:zb,discardEmulationPreventionBytes:Gb,USER_DATA_REGISTERED_ITU_T_T35:Kh},Wt=function x(h){h=h||{},x.prototype.init.call(this),this.parse708captions_=typeof h.parse708captions=="boolean"?h.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new je(0,0),new je(0,1),new je(1,0),new je(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ae({captionServices:h.captionServices})),this.reset(),this.ccStreams_.forEach(function(g){g.on("data",this.trigger.bind(this,"data")),g.on("partialdone",this.trigger.bind(this,"partialdone")),g.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Wt.prototype=new e,Wt.prototype.push=function(x){var h,g,m;if(x.nalUnitType==="sei_rbsp"&&(h=ga.parseSei(x.escapedRBSP),!!h.payload&&h.payloadType===ga.USER_DATA_REGISTERED_ITU_T_T35&&(g=ga.parseUserData(h),!!g))){if(x.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(x.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}m=ga.parseCaptionPackets(x.pts,g),this.captionPackets_=this.captionPackets_.concat(m),this.latestDts_!==x.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=x.dts}},Wt.prototype.flushCCStreams=function(x){this.ccStreams_.forEach(function(h){return x==="flush"?h.flush():h.partialFlush()},this)},Wt.prototype.flushStream=function(x){if(!this.captionPackets_.length){this.flushCCStreams(x);return}this.captionPackets_.forEach(function(h,g){h.presortIndex=g}),this.captionPackets_.sort(function(h,g){return h.pts===g.pts?h.presortIndex-g.presortIndex:h.pts-g.pts}),this.captionPackets_.forEach(function(h){h.type<2?this.dispatchCea608Packet(h):this.dispatchCea708Packet(h)},this),this.captionPackets_.length=0,this.flushCCStreams(x)},Wt.prototype.flush=function(){return this.flushStream("flush")},Wt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Wt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(x){x.reset()})},Wt.prototype.dispatchCea608Packet=function(x){this.setsTextOrXDSActive(x)?this.activeCea608Channel_[x.type]=null:this.setsChannel1Active(x)?this.activeCea608Channel_[x.type]=0:this.setsChannel2Active(x)&&(this.activeCea608Channel_[x.type]=1),this.activeCea608Channel_[x.type]!==null&&this.ccStreams_[(x.type<<1)+this.activeCea608Channel_[x.type]].push(x)},Wt.prototype.setsChannel1Active=function(x){return(x.ccData&30720)===4096},Wt.prototype.setsChannel2Active=function(x){return(x.ccData&30720)===6144},Wt.prototype.setsTextOrXDSActive=function(x){return(x.ccData&28928)===256||(x.ccData&30974)===4138||(x.ccData&30974)===6186},Wt.prototype.dispatchCea708Packet=function(x){this.parse708captions_&&this.cc708Stream_.push(x)};var $b={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Kb=function(h){var g=$b[h]||h;return h&4096&&h===g?"":String.fromCharCode(g)},Ms=function(h){return 32<=h&&h<=127||160<=h&&h<=255},jr=function(h){this.windowNum=h,this.reset()};jr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},jr.prototype.getText=function(){return this.rows.join(`
`)},jr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},jr.prototype.newLine=function(x){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(x),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},jr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},jr.prototype.addText=function(x){this.rows[this.rowIdx]+=x},jr.prototype.backspace=function(){if(!this.isEmpty()){var x=this.rows[this.rowIdx];this.rows[this.rowIdx]=x.substr(0,x.length-1)}};var Fs=function(h,g,m){this.serviceNum=h,this.text="",this.currentWindow=new jr(-1),this.windows=[],this.stream=m,typeof g=="string"&&this.createTextDecoder(g)};Fs.prototype.init=function(x,h){this.startPts=x;for(var g=0;g<8;g++)this.windows[g]=new jr(g),typeof h=="function"&&(this.windows[g].beforeRowOverflow=h)},Fs.prototype.setCurrentWindow=function(x){this.currentWindow=this.windows[x]},Fs.prototype.createTextDecoder=function(x){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(x)}catch(h){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+x+" encoding. "+h})}};var Ae=function x(h){h=h||{},x.prototype.init.call(this);var g=this,m=h.captionServices||{},v={},b;Object.keys(m).forEach(function(S){b=m[S],/^SERVICE/.test(S)&&(v[S]=b.encoding)}),this.serviceEncodings=v,this.current708Packet=null,this.services={},this.push=function(S){S.type===3?(g.new708Packet(),g.add708Bytes(S)):(g.current708Packet===null&&g.new708Packet(),g.add708Bytes(S))}};Ae.prototype=new e,Ae.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ae.prototype.add708Bytes=function(x){var h=x.ccData,g=h>>>8,m=h&255;this.current708Packet.ptsVals.push(x.pts),this.current708Packet.data.push(g),this.current708Packet.data.push(m)},Ae.prototype.push708Packet=function(){var x=this.current708Packet,h=x.data,g=null,m=null,v=0,b=h[v++];for(x.seq=b>>6,x.sizeCode=b&63;v<h.length;v++)b=h[v++],g=b>>5,m=b&31,g===7&&m>0&&(b=h[v++],g=b),this.pushServiceBlock(g,v,m),m>0&&(v+=m-1)},Ae.prototype.pushServiceBlock=function(x,h,g){var m,v=h,b=this.current708Packet.data,S=this.services[x];for(S||(S=this.initService(x,v));v<h+g&&v<b.length;v++)m=b[v],Ms(m)?v=this.handleText(v,S):m===24?v=this.multiByteCharacter(v,S):m===16?v=this.extendedCommands(v,S):128<=m&&m<=135?v=this.setCurrentWindow(v,S):152<=m&&m<=159?v=this.defineWindow(v,S):m===136?v=this.clearWindows(v,S):m===140?v=this.deleteWindows(v,S):m===137?v=this.displayWindows(v,S):m===138?v=this.hideWindows(v,S):m===139?v=this.toggleWindows(v,S):m===151?v=this.setWindowAttributes(v,S):m===144?v=this.setPenAttributes(v,S):m===145?v=this.setPenColor(v,S):m===146?v=this.setPenLocation(v,S):m===143?S=this.reset(v,S):m===8?S.currentWindow.backspace():m===12?S.currentWindow.clearText():m===13?S.currentWindow.pendingNewLine=!0:m===14?S.currentWindow.clearText():m===141&&v++},Ae.prototype.extendedCommands=function(x,h){var g=this.current708Packet.data,m=g[++x];return Ms(m)&&(x=this.handleText(x,h,{isExtended:!0})),x},Ae.prototype.getPts=function(x){return this.current708Packet.ptsVals[Math.floor(x/2)]},Ae.prototype.initService=function(x,h){var m="SERVICE"+x,g=this,m,v;return m in this.serviceEncodings&&(v=this.serviceEncodings[m]),this.services[x]=new Fs(x,v,g),this.services[x].init(this.getPts(h),function(b){g.flushDisplayed(b,g.services[x])}),this.services[x]},Ae.prototype.handleText=function(x,h,g){var m=g&&g.isExtended,v=g&&g.isMultiByte,b=this.current708Packet.data,S=m?4096:0,w=b[x],A=b[x+1],F=h.currentWindow,R,B;return h.textDecoder_&&!m?(v?(B=[w,A],x++):B=[w],R=h.textDecoder_.decode(new Uint8Array(B))):R=Kb(S|w),F.pendingNewLine&&!F.isEmpty()&&F.newLine(this.getPts(x)),F.pendingNewLine=!1,F.addText(R),x},Ae.prototype.multiByteCharacter=function(x,h){var g=this.current708Packet.data,m=g[x+1],v=g[x+2];return Ms(m)&&Ms(v)&&(x=this.handleText(++x,h,{isMultiByte:!0})),x},Ae.prototype.setCurrentWindow=function(x,h){var g=this.current708Packet.data,m=g[x],v=m&7;return h.setCurrentWindow(v),x},Ae.prototype.defineWindow=function(x,h){var g=this.current708Packet.data,m=g[x],v=m&7;h.setCurrentWindow(v);var b=h.currentWindow;return m=g[++x],b.visible=(m&32)>>5,b.rowLock=(m&16)>>4,b.columnLock=(m&8)>>3,b.priority=m&7,m=g[++x],b.relativePositioning=(m&128)>>7,b.anchorVertical=m&127,m=g[++x],b.anchorHorizontal=m,m=g[++x],b.anchorPoint=(m&240)>>4,b.rowCount=m&15,m=g[++x],b.columnCount=m&63,m=g[++x],b.windowStyle=(m&56)>>3,b.penStyle=m&7,b.virtualRowCount=b.rowCount+1,x},Ae.prototype.setWindowAttributes=function(x,h){var g=this.current708Packet.data,m=g[x],v=h.currentWindow.winAttr;return m=g[++x],v.fillOpacity=(m&192)>>6,v.fillRed=(m&48)>>4,v.fillGreen=(m&12)>>2,v.fillBlue=m&3,m=g[++x],v.borderType=(m&192)>>6,v.borderRed=(m&48)>>4,v.borderGreen=(m&12)>>2,v.borderBlue=m&3,m=g[++x],v.borderType+=(m&128)>>5,v.wordWrap=(m&64)>>6,v.printDirection=(m&48)>>4,v.scrollDirection=(m&12)>>2,v.justify=m&3,m=g[++x],v.effectSpeed=(m&240)>>4,v.effectDirection=(m&12)>>2,v.displayEffect=m&3,x},Ae.prototype.flushDisplayed=function(x,h){for(var g=[],m=0;m<8;m++)h.windows[m].visible&&!h.windows[m].isEmpty()&&g.push(h.windows[m].getText());h.endPts=x,h.text=g.join(`

`),this.pushCaption(h),h.startPts=x},Ae.prototype.pushCaption=function(x){x.text!==""&&(this.trigger("data",{startPts:x.startPts,endPts:x.endPts,text:x.text,stream:"cc708_"+x.serviceNum}),x.text="",x.startPts=x.endPts)},Ae.prototype.displayWindows=function(x,h){var g=this.current708Packet.data,m=g[++x],v=this.getPts(x);this.flushDisplayed(v,h);for(var b=0;b<8;b++)m&1<<b&&(h.windows[b].visible=1);return x},Ae.prototype.hideWindows=function(x,h){var g=this.current708Packet.data,m=g[++x],v=this.getPts(x);this.flushDisplayed(v,h);for(var b=0;b<8;b++)m&1<<b&&(h.windows[b].visible=0);return x},Ae.prototype.toggleWindows=function(x,h){var g=this.current708Packet.data,m=g[++x],v=this.getPts(x);this.flushDisplayed(v,h);for(var b=0;b<8;b++)m&1<<b&&(h.windows[b].visible^=1);return x},Ae.prototype.clearWindows=function(x,h){var g=this.current708Packet.data,m=g[++x],v=this.getPts(x);this.flushDisplayed(v,h);for(var b=0;b<8;b++)m&1<<b&&h.windows[b].clearText();return x},Ae.prototype.deleteWindows=function(x,h){var g=this.current708Packet.data,m=g[++x],v=this.getPts(x);this.flushDisplayed(v,h);for(var b=0;b<8;b++)m&1<<b&&h.windows[b].reset();return x},Ae.prototype.setPenAttributes=function(x,h){var g=this.current708Packet.data,m=g[x],v=h.currentWindow.penAttr;return m=g[++x],v.textTag=(m&240)>>4,v.offset=(m&12)>>2,v.penSize=m&3,m=g[++x],v.italics=(m&128)>>7,v.underline=(m&64)>>6,v.edgeType=(m&56)>>3,v.fontStyle=m&7,x},Ae.prototype.setPenColor=function(x,h){var g=this.current708Packet.data,m=g[x],v=h.currentWindow.penColor;return m=g[++x],v.fgOpacity=(m&192)>>6,v.fgRed=(m&48)>>4,v.fgGreen=(m&12)>>2,v.fgBlue=m&3,m=g[++x],v.bgOpacity=(m&192)>>6,v.bgRed=(m&48)>>4,v.bgGreen=(m&12)>>2,v.bgBlue=m&3,m=g[++x],v.edgeRed=(m&48)>>4,v.edgeGreen=(m&12)>>2,v.edgeBlue=m&3,x},Ae.prototype.setPenLocation=function(x,h){var g=this.current708Packet.data,m=g[x],v=h.currentWindow.penLoc;return h.currentWindow.pendingNewLine=!0,m=g[++x],v.row=m&15,m=g[++x],v.column=m&63,x},Ae.prototype.reset=function(x,h){var g=this.getPts(x);return this.flushDisplayed(g,h),this.initService(h.serviceNum,x)};var Xb={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ns=function(h){return h===null?"":(h=Xb[h]||h,String.fromCharCode(h))},Bs=14,Yb=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Li=function(){for(var h=[],g=Bs+1;g--;)h.push("");return h},je=function x(h,g){x.prototype.init.call(this),this.field_=h||0,this.dataChannel_=g||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(m){var v,b,S,w,A;if(v=m.ccData&32639,v===this.lastControlCode_){this.lastControlCode_=null;return}if((v&61440)===4096?this.lastControlCode_=v:v!==this.PADDING_&&(this.lastControlCode_=null),S=v>>>8,w=v&255,v!==this.PADDING_)if(v===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(v===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(m.pts),this.flushDisplayed(m.pts),b=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=b,this.startPts_=m.pts;else if(v===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(m.pts);else if(v===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(m.pts);else if(v===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(m.pts);else if(v===this.CARRIAGE_RETURN_)this.clearFormatting(m.pts),this.flushDisplayed(m.pts),this.shiftRowsUp_(),this.startPts_=m.pts;else if(v===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(v===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(m.pts),this.displayed_=Li();else if(v===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Li();else if(v===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(m.pts),this.displayed_=Li()),this.mode_="paintOn",this.startPts_=m.pts;else if(this.isSpecialCharacter(S,w))S=(S&3)<<8,A=Ns(S|w),this[this.mode_](m.pts,A),this.column_++;else if(this.isExtCharacter(S,w))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),S=(S&3)<<8,A=Ns(S|w),this[this.mode_](m.pts,A),this.column_++;else if(this.isMidRowCode(S,w))this.clearFormatting(m.pts),this[this.mode_](m.pts," "),this.column_++,(w&14)===14&&this.addFormatting(m.pts,["i"]),(w&1)===1&&this.addFormatting(m.pts,["u"]);else if(this.isOffsetControlCode(S,w))this.column_+=w&3;else if(this.isPAC(S,w)){var F=Yb.indexOf(v&7968);this.mode_==="rollUp"&&(F-this.rollUpRows_+1<0&&(F=this.rollUpRows_-1),this.setRollUp(m.pts,F)),F!==this.row_&&(this.clearFormatting(m.pts),this.row_=F),w&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(m.pts,["u"]),(v&16)===16&&(this.column_=((v&14)>>1)*4),this.isColorPAC(w)&&(w&14)===14&&this.addFormatting(m.pts,["i"])}else this.isNormalChar(S)&&(w===0&&(w=null),A=Ns(S),A+=Ns(w),this[this.mode_](m.pts,A),this.column_+=A.length)}};je.prototype=new e,je.prototype.flushDisplayed=function(x){var h=this.displayed_.map(function(g,m){try{return g.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+m+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");h.length&&this.trigger("data",{startPts:this.startPts_,endPts:x,text:h,stream:this.name_})},je.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Li(),this.nonDisplayed_=Li(),this.lastControlCode_=null,this.column_=0,this.row_=Bs,this.rollUpRows_=2,this.formatting_=[]},je.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},je.prototype.isSpecialCharacter=function(x,h){return x===this.EXT_&&h>=48&&h<=63},je.prototype.isExtCharacter=function(x,h){return(x===this.EXT_+1||x===this.EXT_+2)&&h>=32&&h<=63},je.prototype.isMidRowCode=function(x,h){return x===this.EXT_&&h>=32&&h<=47},je.prototype.isOffsetControlCode=function(x,h){return x===this.OFFSET_&&h>=33&&h<=35},je.prototype.isPAC=function(x,h){return x>=this.BASE_&&x<this.BASE_+8&&h>=64&&h<=127},je.prototype.isColorPAC=function(x){return x>=64&&x<=79||x>=96&&x<=127},je.prototype.isNormalChar=function(x){return x>=32&&x<=127},je.prototype.setRollUp=function(x,h){if(this.mode_!=="rollUp"&&(this.row_=Bs,this.mode_="rollUp",this.flushDisplayed(x),this.nonDisplayed_=Li(),this.displayed_=Li()),h!==void 0&&h!==this.row_)for(var g=0;g<this.rollUpRows_;g++)this.displayed_[h-g]=this.displayed_[this.row_-g],this.displayed_[this.row_-g]="";h===void 0&&(h=this.row_),this.topRow_=h-this.rollUpRows_+1},je.prototype.addFormatting=function(x,h){this.formatting_=this.formatting_.concat(h);var g=h.reduce(function(m,v){return m+"<"+v+">"},"");this[this.mode_](x,g)},je.prototype.clearFormatting=function(x){if(this.formatting_.length){var h=this.formatting_.reverse().reduce(function(g,m){return g+"</"+m+">"},"");this.formatting_=[],this[this.mode_](x,h)}},je.prototype.popOn=function(x,h){var g=this.nonDisplayed_[this.row_];g+=h,this.nonDisplayed_[this.row_]=g},je.prototype.rollUp=function(x,h){var g=this.displayed_[this.row_];g+=h,this.displayed_[this.row_]=g},je.prototype.shiftRowsUp_=function(){var x;for(x=0;x<this.topRow_;x++)this.displayed_[x]="";for(x=this.row_+1;x<Bs+1;x++)this.displayed_[x]="";for(x=this.topRow_;x<this.row_;x++)this.displayed_[x]=this.displayed_[x+1];this.displayed_[this.row_]=""},je.prototype.paintOn=function(x,h){var g=this.displayed_[this.row_];g+=h,this.displayed_[this.row_]=g};var Us={CaptionStream:Wt,Cea608Stream:je,Cea708Stream:Ae},ct={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Qb=8589934592,Jb=4294967296,Xh="shared",Ju=function(h,g){var m=1;for(h>g&&(m=-1);Math.abs(g-h)>Jb;)h+=m*Qb;return h},Yh=function x(h){var g,m;x.prototype.init.call(this),this.type_=h||Xh,this.push=function(v){this.type_!==Xh&&v.type!==this.type_||(m===void 0&&(m=v.dts),v.dts=Ju(v.dts,m),v.pts=Ju(v.pts,m),g=v.dts,this.trigger("data",v))},this.flush=function(){m=g,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){m=void 0,g=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Yh.prototype=new e;var Qh={TimestampRolloverStream:Yh,handleRollover:Ju},Jh=function(h,g,m){var v,b="";for(v=g;v<m;v++)b+="%"+("00"+h[v].toString(16)).slice(-2);return b},js=function(h,g,m){return decodeURIComponent(Jh(h,g,m))},Zb=function(h,g,m){return unescape(Jh(h,g,m))},Vs=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},Zh={TXXX:function(h){var g;if(h.data[0]===3){for(g=1;g<h.data.length;g++)if(h.data[g]===0){h.description=js(h.data,1,g),h.value=js(h.data,g+1,h.data.length).replace(/\0*$/,"");break}h.data=h.value}},WXXX:function(h){var g;if(h.data[0]===3){for(g=1;g<h.data.length;g++)if(h.data[g]===0){h.description=js(h.data,1,g),h.url=js(h.data,g+1,h.data.length);break}}},PRIV:function(h){var g;for(g=0;g<h.data.length;g++)if(h.data[g]===0){h.owner=Zb(h.data,0,g);break}h.privateData=h.data.subarray(g+1),h.data=h.privateData}},Hs;Hs=function(h){var g={descriptor:h&&h.descriptor},m=0,v=[],b=0,S;if(Hs.prototype.init.call(this),this.dispatchType=ct.METADATA_STREAM_TYPE.toString(16),g.descriptor)for(S=0;S<g.descriptor.length;S++)this.dispatchType+=("00"+g.descriptor[S].toString(16)).slice(-2);this.push=function(w){var A,F,R,B,V,Q;if(w.type==="timed-metadata"){if(w.dataAlignmentIndicator&&(b=0,v.length=0),v.length===0&&(w.data.length<10||w.data[0]!==73||w.data[1]!==68||w.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(v.push(w),b+=w.data.byteLength,v.length===1&&(m=Vs(w.data.subarray(6,10)),m+=10),!(b<m)){for(A={data:new Uint8Array(m),frames:[],pts:v[0].pts,dts:v[0].dts},V=0;V<m;)A.data.set(v[0].data.subarray(0,m-V),V),V+=v[0].data.byteLength,b-=v[0].data.byteLength,v.shift();F=10,A.data[5]&64&&(F+=4,F+=Vs(A.data.subarray(10,14)),m-=Vs(A.data.subarray(16,20)));do{if(R=Vs(A.data.subarray(F+4,F+8)),R<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Q=String.fromCharCode(A.data[F],A.data[F+1],A.data[F+2],A.data[F+3]),B={id:Q,data:A.data.subarray(F+10,F+R+10)},B.key=B.id,Zh[B.id]&&(Zh[B.id](B),B.owner==="com.apple.streaming.transportStreamTimestamp")){var ee=B.data,$=(ee[3]&1)<<30|ee[4]<<22|ee[5]<<14|ee[6]<<6|ee[7]>>>2;$*=4,$+=ee[7]&3,B.timeStamp=$,A.pts===void 0&&A.dts===void 0&&(A.pts=B.timeStamp,A.dts=B.timeStamp),this.trigger("timestamp",B)}A.frames.push(B),F+=10,F+=R}while(F<m);this.trigger("data",A)}}}},Hs.prototype=new e;var eS=Hs,tS=Qh.TimestampRolloverStream,qs,va,Ws,pn=188,Zu=71;qs=function(){var h=new Uint8Array(pn),g=0;qs.prototype.init.call(this),this.push=function(m){var v=0,b=pn,S;for(g?(S=new Uint8Array(m.byteLength+g),S.set(h.subarray(0,g)),S.set(m,g),g=0):S=m;b<S.byteLength;){if(S[v]===Zu&&S[b]===Zu){this.trigger("data",S.subarray(v,b)),v+=pn,b+=pn;continue}v++,b++}v<S.byteLength&&(h.set(S.subarray(v),0),g=S.byteLength-v)},this.flush=function(){g===pn&&h[0]===Zu&&(this.trigger("data",h),g=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){g=0,this.trigger("reset")}},qs.prototype=new e,va=function(){var h,g,m,v;va.prototype.init.call(this),v=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,h=function(S,w){var A=0;w.payloadUnitStartIndicator&&(A+=S[A]+1),w.type==="pat"?g(S.subarray(A),w):m(S.subarray(A),w)},g=function(S,w){w.section_number=S[7],w.last_section_number=S[8],v.pmtPid=(S[10]&31)<<8|S[11],w.pmtPid=v.pmtPid},m=function(S,w){var A,F,R,B;if(S[5]&1){for(v.programMapTable={video:null,audio:null,"timed-metadata":{}},A=(S[1]&15)<<8|S[2],F=3+A-4,R=(S[10]&15)<<8|S[11],B=12+R;B<F;){var V=S[B],Q=(S[B+1]&31)<<8|S[B+2];V===ct.H264_STREAM_TYPE&&v.programMapTable.video===null?v.programMapTable.video=Q:V===ct.ADTS_STREAM_TYPE&&v.programMapTable.audio===null?v.programMapTable.audio=Q:V===ct.METADATA_STREAM_TYPE&&(v.programMapTable["timed-metadata"][Q]=V),B+=((S[B+3]&15)<<8|S[B+4])+5}w.programMapTable=v.programMapTable}},this.push=function(b){var S={},w=4;if(S.payloadUnitStartIndicator=!!(b[1]&64),S.pid=b[1]&31,S.pid<<=8,S.pid|=b[2],(b[3]&48)>>>4>1&&(w+=b[w]+1),S.pid===0)S.type="pat",h(b.subarray(w),S),this.trigger("data",S);else if(S.pid===this.pmtPid)for(S.type="pmt",h(b.subarray(w),S),this.trigger("data",S);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([b,w,S]):this.processPes_(b,w,S)},this.processPes_=function(b,S,w){w.pid===this.programMapTable.video?w.streamType=ct.H264_STREAM_TYPE:w.pid===this.programMapTable.audio?w.streamType=ct.ADTS_STREAM_TYPE:w.streamType=this.programMapTable["timed-metadata"][w.pid],w.type="pes",w.data=b.subarray(S),this.trigger("data",w)}},va.prototype=new e,va.STREAM_TYPES={h264:27,adts:15},Ws=function(){var h=this,g=!1,m={data:[],size:0},v={data:[],size:0},b={data:[],size:0},S,w=function(R,B){var V,Q=R[0]<<16|R[1]<<8|R[2];B.data=new Uint8Array,Q===1&&(B.packetLength=6+(R[4]<<8|R[5]),B.dataAlignmentIndicator=(R[6]&4)!==0,V=R[7],V&192&&(B.pts=(R[9]&14)<<27|(R[10]&255)<<20|(R[11]&254)<<12|(R[12]&255)<<5|(R[13]&254)>>>3,B.pts*=4,B.pts+=(R[13]&6)>>>1,B.dts=B.pts,V&64&&(B.dts=(R[14]&14)<<27|(R[15]&255)<<20|(R[16]&254)<<12|(R[17]&255)<<5|(R[18]&254)>>>3,B.dts*=4,B.dts+=(R[18]&6)>>>1)),B.data=R.subarray(9+R[8]))},A=function(R,B,V){var Q=new Uint8Array(R.size),ee={type:B},$=0,ue=0,tt=!1,St;if(!(!R.data.length||R.size<9)){for(ee.trackId=R.data[0].pid,$=0;$<R.data.length;$++)St=R.data[$],Q.set(St.data,ue),ue+=St.data.byteLength;w(Q,ee),tt=B==="video"||ee.packetLength<=R.size,(V||tt)&&(R.size=0,R.data.length=0),tt&&h.trigger("data",ee)}};Ws.prototype.init.call(this),this.push=function(F){({pat:function(){},pes:function(){var B,V;switch(F.streamType){case ct.H264_STREAM_TYPE:B=m,V="video";break;case ct.ADTS_STREAM_TYPE:B=v,V="audio";break;case ct.METADATA_STREAM_TYPE:B=b,V="timed-metadata";break;default:return}F.payloadUnitStartIndicator&&A(B,V,!0),B.data.push(F),B.size+=F.data.byteLength},pmt:function(){var B={type:"metadata",tracks:[]};S=F.programMapTable,S.video!==null&&B.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.video,codec:"avc",type:"video"}),S.audio!==null&&B.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.audio,codec:"adts",type:"audio"}),g=!0,h.trigger("data",B)}})[F.type]()},this.reset=function(){m.size=0,m.data.length=0,v.size=0,v.data.length=0,this.trigger("reset")},this.flushStreams_=function(){A(m,"video"),A(v,"audio"),A(b,"timed-metadata")},this.flush=function(){if(!g&&S){var F={type:"metadata",tracks:[]};S.video!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.video,codec:"avc",type:"video"}),S.audio!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.audio,codec:"adts",type:"audio"}),h.trigger("data",F)}g=!1,this.flushStreams_(),this.trigger("done")}},Ws.prototype=new e;var ep={PAT_PID:0,MP2T_PACKET_LENGTH:pn,TransportPacketStream:qs,TransportParseStream:va,ElementaryStream:Ws,TimestampRolloverStream:tS,CaptionStream:Us.CaptionStream,Cea608Stream:Us.Cea608Stream,Cea708Stream:Us.Cea708Stream,MetadataStream:eS};for(var el in ct)ct.hasOwnProperty(el)&&(ep[el]=ct[el]);var Vr=ep,rS=ye.ONE_SECOND_IN_TS,zs,tp=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];zs=function(h){var g,m=0;zs.prototype.init.call(this),this.skipWarn_=function(v,b){this.trigger("log",{level:"warn",message:"adts skiping bytes "+v+" to "+b+" in frame "+m+" outside syncword"})},this.push=function(v){var b=0,S,w,A,F,R;if(h||(m=0),v.type==="audio"){g&&g.length?(A=g,g=new Uint8Array(A.byteLength+v.data.byteLength),g.set(A),g.set(v.data,A.byteLength)):g=v.data;for(var B;b+7<g.length;){if(g[b]!==255||(g[b+1]&246)!==240){typeof B!="number"&&(B=b),b++;continue}if(typeof B=="number"&&(this.skipWarn_(B,b),B=null),w=(~g[b+1]&1)*2,S=(g[b+3]&3)<<11|g[b+4]<<3|(g[b+5]&224)>>5,F=((g[b+6]&3)+1)*1024,R=F*rS/tp[(g[b+2]&60)>>>2],g.byteLength-b<S)break;this.trigger("data",{pts:v.pts+m*R,dts:v.dts+m*R,sampleCount:F,audioobjecttype:(g[b+2]>>>6&3)+1,channelcount:(g[b+2]&1)<<2|(g[b+3]&192)>>>6,samplerate:tp[(g[b+2]&60)>>>2],samplingfrequencyindex:(g[b+2]&60)>>>2,samplesize:16,data:g.subarray(b+7+w,b+S)}),m++,b+=S}typeof B=="number"&&(this.skipWarn_(B,b),B=null),g=g.subarray(b)}},this.flush=function(){m=0,this.trigger("done")},this.reset=function(){g=void 0,this.trigger("reset")},this.endTimeline=function(){g=void 0,this.trigger("endedtimeline")}},zs.prototype=new e;var rp=zs,ip;ip=function(h){var g=h.byteLength,m=0,v=0;this.length=function(){return 8*g},this.bitsAvailable=function(){return 8*g+v},this.loadWord=function(){var b=h.byteLength-g,S=new Uint8Array(4),w=Math.min(4,g);if(w===0)throw new Error("no bytes available");S.set(h.subarray(b,b+w)),m=new DataView(S.buffer).getUint32(0),v=w*8,g-=w},this.skipBits=function(b){var S;v>b?(m<<=b,v-=b):(b-=v,S=Math.floor(b/8),b-=S*8,g-=S,this.loadWord(),m<<=b,v-=b)},this.readBits=function(b){var S=Math.min(v,b),w=m>>>32-S;return v-=S,v>0?m<<=S:g>0&&this.loadWord(),S=b-S,S>0?w<<S|this.readBits(S):w},this.skipLeadingZeros=function(){var b;for(b=0;b<v;++b)if(m&2147483648>>>b)return m<<=b,v-=b,b;return this.loadWord(),b+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var b=this.skipLeadingZeros();return this.readBits(b+1)-1},this.readExpGolomb=function(){var b=this.readUnsignedExpGolomb();return 1&b?1+b>>>1:-1*(b>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var iS=ip,Gs,_a,np;_a=function(){var h=0,g,m;_a.prototype.init.call(this),this.push=function(v){var b;m?(b=new Uint8Array(m.byteLength+v.data.byteLength),b.set(m),b.set(v.data,m.byteLength),m=b):m=v.data;for(var S=m.byteLength;h<S-3;h++)if(m[h+2]===1){g=h+5;break}for(;g<S;)switch(m[g]){case 0:if(m[g-1]!==0){g+=2;break}else if(m[g-2]!==0){g++;break}h+3!==g-2&&this.trigger("data",m.subarray(h+3,g-2));do g++;while(m[g]!==1&&g<S);h=g-2,g+=3;break;case 1:if(m[g-1]!==0||m[g-2]!==0){g+=3;break}this.trigger("data",m.subarray(h+3,g-2)),h=g-2,g+=3;break;default:g+=3;break}m=m.subarray(h),g-=h,h=0},this.reset=function(){m=null,h=0,this.trigger("reset")},this.flush=function(){m&&m.byteLength>3&&this.trigger("data",m.subarray(h+3)),m=null,h=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},_a.prototype=new e,np={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Gs=function(){var h=new _a,g,m,v,b,S,w,A;Gs.prototype.init.call(this),g=this,this.push=function(F){F.type==="video"&&(m=F.trackId,v=F.pts,b=F.dts,h.push(F))},h.on("data",function(F){var R={trackId:m,pts:v,dts:b,data:F,nalUnitTypeCode:F[0]&31};switch(R.nalUnitTypeCode){case 5:R.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:R.nalUnitType="sei_rbsp",R.escapedRBSP=S(F.subarray(1));break;case 7:R.nalUnitType="seq_parameter_set_rbsp",R.escapedRBSP=S(F.subarray(1)),R.config=w(R.escapedRBSP);break;case 8:R.nalUnitType="pic_parameter_set_rbsp";break;case 9:R.nalUnitType="access_unit_delimiter_rbsp";break}g.trigger("data",R)}),h.on("done",function(){g.trigger("done")}),h.on("partialdone",function(){g.trigger("partialdone")}),h.on("reset",function(){g.trigger("reset")}),h.on("endedtimeline",function(){g.trigger("endedtimeline")}),this.flush=function(){h.flush()},this.partialFlush=function(){h.partialFlush()},this.reset=function(){h.reset()},this.endTimeline=function(){h.endTimeline()},A=function(R,B){var V=8,Q=8,ee,$;for(ee=0;ee<R;ee++)Q!==0&&($=B.readExpGolomb(),Q=(V+$+256)%256),V=Q===0?V:Q},S=function(R){for(var B=R.byteLength,V=[],Q=1,ee,$;Q<B-2;)R[Q]===0&&R[Q+1]===0&&R[Q+2]===3?(V.push(Q+2),Q+=2):Q++;if(V.length===0)return R;ee=B-V.length,$=new Uint8Array(ee);var ue=0;for(Q=0;Q<ee;ue++,Q++)ue===V[0]&&(ue++,V.shift()),$[Q]=R[ue];return $},w=function(R){var B=0,V=0,Q=0,ee=0,$,ue,tt,St,Ni,sl,xp,Ep,Cp,ol,wp,$e=[1,1],Ap,Bi;if($=new iS(R),ue=$.readUnsignedByte(),St=$.readUnsignedByte(),tt=$.readUnsignedByte(),$.skipUnsignedExpGolomb(),np[ue]&&(Ni=$.readUnsignedExpGolomb(),Ni===3&&$.skipBits(1),$.skipUnsignedExpGolomb(),$.skipUnsignedExpGolomb(),$.skipBits(1),$.readBoolean()))for(wp=Ni!==3?8:12,Bi=0;Bi<wp;Bi++)$.readBoolean()&&(Bi<6?A(16,$):A(64,$));if($.skipUnsignedExpGolomb(),sl=$.readUnsignedExpGolomb(),sl===0)$.readUnsignedExpGolomb();else if(sl===1)for($.skipBits(1),$.skipExpGolomb(),$.skipExpGolomb(),xp=$.readUnsignedExpGolomb(),Bi=0;Bi<xp;Bi++)$.skipExpGolomb();if($.skipUnsignedExpGolomb(),$.skipBits(1),Ep=$.readUnsignedExpGolomb(),Cp=$.readUnsignedExpGolomb(),ol=$.readBits(1),ol===0&&$.skipBits(1),$.skipBits(1),$.readBoolean()&&(B=$.readUnsignedExpGolomb(),V=$.readUnsignedExpGolomb(),Q=$.readUnsignedExpGolomb(),ee=$.readUnsignedExpGolomb()),$.readBoolean()&&$.readBoolean()){switch(Ap=$.readUnsignedByte(),Ap){case 1:$e=[1,1];break;case 2:$e=[12,11];break;case 3:$e=[10,11];break;case 4:$e=[16,11];break;case 5:$e=[40,33];break;case 6:$e=[24,11];break;case 7:$e=[20,11];break;case 8:$e=[32,11];break;case 9:$e=[80,33];break;case 10:$e=[18,11];break;case 11:$e=[15,11];break;case 12:$e=[64,33];break;case 13:$e=[160,99];break;case 14:$e=[4,3];break;case 15:$e=[3,2];break;case 16:$e=[2,1];break;case 255:{$e=[$.readUnsignedByte()<<8|$.readUnsignedByte(),$.readUnsignedByte()<<8|$.readUnsignedByte()];break}}$e&&$e[0]/$e[1]}return{profileIdc:ue,levelIdc:tt,profileCompatibility:St,width:(Ep+1)*16-B*2-V*2,height:(2-ol)*(Cp+1)*16-Q*2-ee*2,sarRatio:$e}}},Gs.prototype=new e;var nS={H264Stream:Gs,NalByteStream:_a},aS=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ap=function(h,g){var m=h[g+6]<<21|h[g+7]<<14|h[g+8]<<7|h[g+9],v=h[g+5],b=(v&16)>>4;return m=m>=0?m:0,b?m+20:m+10},sS=function x(h,g){return h.length-g<10||h[g]!==73||h[g+1]!==68||h[g+2]!==51?g:(g+=ap(h,g),x(h,g))},oS=function(h){var g=sS(h,0);return h.length>=g+2&&(h[g]&255)===255&&(h[g+1]&240)===240&&(h[g+1]&22)===16},sp=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},uS=function(h,g,m){var v,b="";for(v=g;v<m;v++)b+="%"+("00"+h[v].toString(16)).slice(-2);return b},lS=function(h,g,m){return unescape(uS(h,g,m))},cS=function(h,g){var m=(h[g+5]&224)>>5,v=h[g+4]<<3,b=h[g+3]&6144;return b|v|m},dS=function(h,g){return h[g]===73&&h[g+1]===68&&h[g+2]===51?"timed-metadata":h[g]&!0&&(h[g+1]&240)===240?"audio":null},fS=function(h){for(var g=0;g+5<h.length;){if(h[g]!==255||(h[g+1]&246)!==240){g++;continue}return aS[(h[g+2]&60)>>>2]}return null},hS=function(h){var g,m,v,b;g=10,h[5]&64&&(g+=4,g+=sp(h.subarray(10,14)));do{if(m=sp(h.subarray(g+4,g+8)),m<1)return null;if(b=String.fromCharCode(h[g],h[g+1],h[g+2],h[g+3]),b==="PRIV"){v=h.subarray(g+10,g+m+10);for(var S=0;S<v.byteLength;S++)if(v[S]===0){var w=lS(v,0,S);if(w==="com.apple.streaming.transportStreamTimestamp"){var A=v.subarray(S+1),F=(A[3]&1)<<30|A[4]<<22|A[5]<<14|A[6]<<6|A[7]>>>2;return F*=4,F+=A[7]&3,F}break}}g+=10,g+=m}while(g<h.byteLength);return null},$s={isLikelyAacData:oS,parseId3TagSize:ap,parseAdtsSize:cS,parseType:dS,parseSampleRate:fS,parseAacTimestamp:hS},Ks;Ks=function(){var h=new Uint8Array,g=0;Ks.prototype.init.call(this),this.setTimestamp=function(m){g=m},this.push=function(m){var v=0,b=0,S,w,A,F;for(h.length?(F=h.length,h=new Uint8Array(m.byteLength+F),h.set(h.subarray(0,F)),h.set(m,F)):h=m;h.length-b>=3;){if(h[b]===73&&h[b+1]===68&&h[b+2]===51){if(h.length-b<10||(v=$s.parseId3TagSize(h,b),b+v>h.length))break;w={type:"timed-metadata",data:h.subarray(b,b+v)},this.trigger("data",w),b+=v;continue}else if((h[b]&255)===255&&(h[b+1]&240)===240){if(h.length-b<7||(v=$s.parseAdtsSize(h,b),b+v>h.length))break;A={type:"audio",data:h.subarray(b,b+v),pts:g,dts:g},this.trigger("data",A),b+=v;continue}b++}S=h.length-b,S>0?h=h.subarray(b):h=new Uint8Array},this.reset=function(){h=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){h=new Uint8Array,this.trigger("endedtimeline")}},Ks.prototype=new e;var pS=Ks,mS=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],tl=mS,gS=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],rl=gS,vS=nS.H264Stream,_S=$s.isLikelyAacData,yS=ye.ONE_SECOND_IN_TS,ya,mn,Xs,Ri,TS=function(h,g){g.stream=h,this.trigger("log",g)},op=function(h,g){for(var m=Object.keys(g),v=0;v<m.length;v++){var b=m[v];b==="headOfPipeline"||!g[b].on||g[b].on("log",TS.bind(h,b))}},up=function(h,g){var m;if(h.length!==g.length)return!1;for(m=0;m<h.length;m++)if(h[m]!==g[m])return!1;return!0},il=function(h,g,m,v,b,S){var w=m-g,A=v-g,F=b-m;return{start:{dts:h,pts:h+w},end:{dts:h+A,pts:h+F},prependedContentDuration:S,baseMediaDecodeTime:h}};mn=function(h,g){var m=[],v,b=0,S=0,w=1/0;g=g||{},v=g.firstSequenceNumber||0,mn.prototype.init.call(this),this.push=function(A){dr.collectDtsInfo(h,A),h&&tl.forEach(function(F){h[F]=A[F]}),m.push(A)},this.setEarliestDts=function(A){b=A},this.setVideoBaseMediaDecodeTime=function(A){w=A},this.setAudioAppendStart=function(A){S=A},this.flush=function(){var A,F,R,B,V,Q,ee;if(m.length===0){this.trigger("done","AudioSegmentStream");return}A=Rs.trimAdtsFramesByEarliestDts(m,h,b),h.baseMediaDecodeTime=dr.calculateTrackBaseMediaDecodeTime(h,g.keepOriginalTimestamps),ee=Rs.prefixWithSilence(h,A,S,w),h.samples=Rs.generateSampleTable(A),R=lt.mdat(Rs.concatenateFrameData(A)),m=[],F=lt.moof(v,[h]),B=new Uint8Array(F.byteLength+R.byteLength),v++,B.set(F),B.set(R,F.byteLength),dr.clearDtsInfo(h),V=Math.ceil(yS*1024/h.samplerate),A.length&&(Q=A.length*V,this.trigger("segmentTimingInfo",il(ye.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),A[0].dts,A[0].pts,A[0].dts+Q,A[0].pts+Q,ee||0)),this.trigger("timingInfo",{start:A[0].pts,end:A[0].pts+Q})),this.trigger("data",{track:h,boxes:B}),this.trigger("done","AudioSegmentStream")},this.reset=function(){dr.clearDtsInfo(h),m=[],this.trigger("reset")}},mn.prototype=new e,ya=function(h,g){var m,v=[],b=[],S,w;g=g||{},m=g.firstSequenceNumber||0,ya.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(A){dr.collectDtsInfo(h,A),A.nalUnitType==="seq_parameter_set_rbsp"&&!S&&(S=A.config,h.sps=[A.data],rl.forEach(function(F){h[F]=S[F]},this)),A.nalUnitType==="pic_parameter_set_rbsp"&&!w&&(w=A.data,h.pps=[A.data]),v.push(A)},this.flush=function(){for(var A,F,R,B,V,Q,ee=0,$,ue;v.length&&v[0].nalUnitType!=="access_unit_delimiter_rbsp";)v.shift();if(v.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(A=cr.groupNalsIntoFrames(v),R=cr.groupFramesIntoGops(A),R[0][0].keyFrame||(F=this.getGopForFusion_(v[0],h),F?(ee=F.duration,R.unshift(F),R.byteLength+=F.byteLength,R.nalCount+=F.nalCount,R.pts=F.pts,R.dts=F.dts,R.duration+=F.duration):R=cr.extendFirstKeyFrame(R)),b.length){var tt;if(g.alignGopsAtEnd?tt=this.alignGopsAtEnd_(R):tt=this.alignGopsAtStart_(R),!tt){this.gopCache_.unshift({gop:R.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}dr.clearDtsInfo(h),R=tt}dr.collectDtsInfo(h,R),h.samples=cr.generateSampleTable(R),V=lt.mdat(cr.concatenateNalData(R)),h.baseMediaDecodeTime=dr.calculateTrackBaseMediaDecodeTime(h,g.keepOriginalTimestamps),this.trigger("processedGopsInfo",R.map(function(St){return{pts:St.pts,dts:St.dts,byteLength:St.byteLength}})),$=R[0],ue=R[R.length-1],this.trigger("segmentTimingInfo",il(h.baseMediaDecodeTime,$.dts,$.pts,ue.dts+ue.duration,ue.pts+ue.duration,ee)),this.trigger("timingInfo",{start:R[0].pts,end:R[R.length-1].pts+R[R.length-1].duration}),this.gopCache_.unshift({gop:R.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),B=lt.moof(m,[h]),Q=new Uint8Array(B.byteLength+V.byteLength),m++,Q.set(B),Q.set(V,B.byteLength),this.trigger("data",{track:h,boxes:Q}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),v=[],this.gopCache_.length=0,b.length=0,this.trigger("reset")},this.resetStream_=function(){dr.clearDtsInfo(h),S=void 0,w=void 0},this.getGopForFusion_=function(A){var F=45e3,R=1e4,B=1/0,V,Q,ee,$,ue;for(ue=0;ue<this.gopCache_.length;ue++)$=this.gopCache_[ue],ee=$.gop,!(!(h.pps&&up(h.pps[0],$.pps[0]))||!(h.sps&&up(h.sps[0],$.sps[0])))&&(ee.dts<h.timelineStartInfo.dts||(V=A.dts-ee.dts-ee.duration,V>=-R&&V<=F&&(!Q||B>V)&&(Q=$,B=V)));return Q?Q.gop:null},this.alignGopsAtStart_=function(A){var F,R,B,V,Q,ee,$,ue;for(Q=A.byteLength,ee=A.nalCount,$=A.duration,F=R=0;F<b.length&&R<A.length&&(B=b[F],V=A[R],B.pts!==V.pts);){if(V.pts>B.pts){F++;continue}R++,Q-=V.byteLength,ee-=V.nalCount,$-=V.duration}return R===0?A:R===A.length?null:(ue=A.slice(R),ue.byteLength=Q,ue.duration=$,ue.nalCount=ee,ue.pts=ue[0].pts,ue.dts=ue[0].dts,ue)},this.alignGopsAtEnd_=function(A){var F,R,B,V,Q,ee;for(F=b.length-1,R=A.length-1,Q=null,ee=!1;F>=0&&R>=0;){if(B=b[F],V=A[R],B.pts===V.pts){ee=!0;break}if(B.pts>V.pts){F--;continue}F===b.length-1&&(Q=R),R--}if(!ee&&Q===null)return null;var $;if(ee?$=R:$=Q,$===0)return A;var ue=A.slice($),tt=ue.reduce(function(St,Ni){return St.byteLength+=Ni.byteLength,St.duration+=Ni.duration,St.nalCount+=Ni.nalCount,St},{byteLength:0,duration:0,nalCount:0});return ue.byteLength=tt.byteLength,ue.duration=tt.duration,ue.nalCount=tt.nalCount,ue.pts=ue[0].pts,ue.dts=ue[0].dts,ue},this.alignGopsWith=function(A){b=A}},ya.prototype=new e,Ri=function(h,g){this.numberOfTracks=0,this.metadataStream=g,h=h||{},typeof h.remux<"u"?this.remuxTracks=!!h.remux:this.remuxTracks=!0,typeof h.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=h.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ri.prototype.init.call(this),this.push=function(m){if(m.text)return this.pendingCaptions.push(m);if(m.frames)return this.pendingMetadata.push(m);this.pendingTracks.push(m.track),this.pendingBytes+=m.boxes.byteLength,m.track.type==="video"&&(this.videoTrack=m.track,this.pendingBoxes.push(m.boxes)),m.track.type==="audio"&&(this.audioTrack=m.track,this.pendingBoxes.unshift(m.boxes))}},Ri.prototype=new e,Ri.prototype.flush=function(x){var h=0,g={captions:[],captionStreams:{},metadata:[],info:{}},m,v,b,S=0,w;if(this.pendingTracks.length<this.numberOfTracks){if(x!=="VideoSegmentStream"&&x!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(S=this.videoTrack.timelineStartInfo.pts,rl.forEach(function(A){g.info[A]=this.videoTrack[A]},this)):this.audioTrack&&(S=this.audioTrack.timelineStartInfo.pts,tl.forEach(function(A){g.info[A]=this.audioTrack[A]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?g.type=this.pendingTracks[0].type:g.type="combined",this.emittedTracks+=this.pendingTracks.length,b=lt.initSegment(this.pendingTracks),g.initSegment=new Uint8Array(b.byteLength),g.initSegment.set(b),g.data=new Uint8Array(this.pendingBytes),w=0;w<this.pendingBoxes.length;w++)g.data.set(this.pendingBoxes[w],h),h+=this.pendingBoxes[w].byteLength;for(w=0;w<this.pendingCaptions.length;w++)m=this.pendingCaptions[w],m.startTime=ye.metadataTsToSeconds(m.startPts,S,this.keepOriginalTimestamps),m.endTime=ye.metadataTsToSeconds(m.endPts,S,this.keepOriginalTimestamps),g.captionStreams[m.stream]=!0,g.captions.push(m);for(w=0;w<this.pendingMetadata.length;w++)v=this.pendingMetadata[w],v.cueTime=ye.metadataTsToSeconds(v.pts,S,this.keepOriginalTimestamps),g.metadata.push(v);for(g.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",g),w=0;w<g.captions.length;w++)m=g.captions[w],this.trigger("caption",m);for(w=0;w<g.metadata.length;w++)v=g.metadata[w],this.trigger("id3Frame",v)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ri.prototype.setRemux=function(x){this.remuxTracks=x},Xs=function(h){var g=this,m=!0,v,b;Xs.prototype.init.call(this),h=h||{},this.baseMediaDecodeTime=h.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="aac",S.metadataStream=new Vr.MetadataStream,S.aacStream=new pS,S.audioTimestampRolloverStream=new Vr.TimestampRolloverStream("audio"),S.timedMetadataTimestampRolloverStream=new Vr.TimestampRolloverStream("timed-metadata"),S.adtsStream=new rp,S.coalesceStream=new Ri(h,S.metadataStream),S.headOfPipeline=S.aacStream,S.aacStream.pipe(S.audioTimestampRolloverStream).pipe(S.adtsStream),S.aacStream.pipe(S.timedMetadataTimestampRolloverStream).pipe(S.metadataStream).pipe(S.coalesceStream),S.metadataStream.on("timestamp",function(w){S.aacStream.setTimestamp(w.timeStamp)}),S.aacStream.on("data",function(w){w.type!=="timed-metadata"&&w.type!=="audio"||S.audioSegmentStream||(b=b||{timelineStartInfo:{baseMediaDecodeTime:g.baseMediaDecodeTime},codec:"adts",type:"audio"},S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new mn(b,h),S.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),S.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream),g.trigger("trackinfo",{hasAudio:!!b,hasVideo:!!v}))}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("done",this.trigger.bind(this,"done")),op(this,S)},this.setupTsPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="ts",S.metadataStream=new Vr.MetadataStream,S.packetStream=new Vr.TransportPacketStream,S.parseStream=new Vr.TransportParseStream,S.elementaryStream=new Vr.ElementaryStream,S.timestampRolloverStream=new Vr.TimestampRolloverStream,S.adtsStream=new rp,S.h264Stream=new vS,S.captionStream=new Vr.CaptionStream(h),S.coalesceStream=new Ri(h,S.metadataStream),S.headOfPipeline=S.packetStream,S.packetStream.pipe(S.parseStream).pipe(S.elementaryStream).pipe(S.timestampRolloverStream),S.timestampRolloverStream.pipe(S.h264Stream),S.timestampRolloverStream.pipe(S.adtsStream),S.timestampRolloverStream.pipe(S.metadataStream).pipe(S.coalesceStream),S.h264Stream.pipe(S.captionStream).pipe(S.coalesceStream),S.elementaryStream.on("data",function(w){var A;if(w.type==="metadata"){for(A=w.tracks.length;A--;)!v&&w.tracks[A].type==="video"?(v=w.tracks[A],v.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime):!b&&w.tracks[A].type==="audio"&&(b=w.tracks[A],b.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime);v&&!S.videoSegmentStream&&(S.coalesceStream.numberOfTracks++,S.videoSegmentStream=new ya(v,h),S.videoSegmentStream.on("log",g.getLogTrigger_("videoSegmentStream")),S.videoSegmentStream.on("timelineStartInfo",function(F){b&&!h.keepOriginalTimestamps&&(b.timelineStartInfo=F,S.audioSegmentStream.setEarliestDts(F.dts-g.baseMediaDecodeTime))}),S.videoSegmentStream.on("processedGopsInfo",g.trigger.bind(g,"gopInfo")),S.videoSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"videoSegmentTimingInfo")),S.videoSegmentStream.on("baseMediaDecodeTime",function(F){b&&S.audioSegmentStream.setVideoBaseMediaDecodeTime(F)}),S.videoSegmentStream.on("timingInfo",g.trigger.bind(g,"videoTimingInfo")),S.h264Stream.pipe(S.videoSegmentStream).pipe(S.coalesceStream)),b&&!S.audioSegmentStream&&(S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new mn(b,h),S.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),S.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),S.audioSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"audioSegmentTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream)),g.trigger("trackinfo",{hasAudio:!!b,hasVideo:!!v})}}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("id3Frame",function(w){w.dispatchType=S.metadataStream.dispatchType,g.trigger("id3Frame",w)}),S.coalesceStream.on("caption",this.trigger.bind(this,"caption")),S.coalesceStream.on("done",this.trigger.bind(this,"done")),op(this,S)},this.setBaseMediaDecodeTime=function(S){var w=this.transmuxPipeline_;h.keepOriginalTimestamps||(this.baseMediaDecodeTime=S),b&&(b.timelineStartInfo.dts=void 0,b.timelineStartInfo.pts=void 0,dr.clearDtsInfo(b),w.audioTimestampRolloverStream&&w.audioTimestampRolloverStream.discontinuity()),v&&(w.videoSegmentStream&&(w.videoSegmentStream.gopCache_=[]),v.timelineStartInfo.dts=void 0,v.timelineStartInfo.pts=void 0,dr.clearDtsInfo(v),w.captionStream.reset()),w.timestampRolloverStream&&w.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(S){b&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(S)},this.setRemux=function(S){var w=this.transmuxPipeline_;h.remux=S,w&&w.coalesceStream&&w.coalesceStream.setRemux(S)},this.alignGopsWith=function(S){v&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(S)},this.getLogTrigger_=function(S){var w=this;return function(A){A.stream=S,w.trigger("log",A)}},this.push=function(S){if(m){var w=_S(S);w&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!w&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),m=!1}this.transmuxPipeline_.headOfPipeline.push(S)},this.flush=function(){m=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Xs.prototype=new e;var bS={Transmuxer:Xs,VideoSegmentStream:ya,AudioSegmentStream:mn,AUDIO_PROPERTIES:tl,VIDEO_PROPERTIES:rl,generateSegmentTimingInfo:il},SS=function(h){return h>>>0},xS=function(h){return("00"+h.toString(16)).slice(-2)},Ys={toUnsigned:SS,toHexString:xS},ES=function(h){var g="";return g+=String.fromCharCode(h[0]),g+=String.fromCharCode(h[1]),g+=String.fromCharCode(h[2]),g+=String.fromCharCode(h[3]),g},Mi=ES,CS=Ys.toUnsigned,wS=function x(h,g){var m=[],v,b,S,w,A;if(!g.length)return null;for(v=0;v<h.byteLength;)b=CS(h[v]<<24|h[v+1]<<16|h[v+2]<<8|h[v+3]),S=Mi(h.subarray(v+4,v+8)),w=b>1?v+b:h.byteLength,S===g[0]&&(g.length===1?m.push(h.subarray(v+8,w)):(A=x(h.subarray(v+8,w),g.slice(1)),A.length&&(m=m.concat(A)))),v=w;return m},Pe=wS,AS=Ys.toUnsigned,DS=t.getUint64,kS=function(h){var g={version:h[0],flags:new Uint8Array(h.subarray(1,4))};return g.version===1?g.baseMediaDecodeTime=DS(h.subarray(4)):g.baseMediaDecodeTime=AS(h[4]<<24|h[5]<<16|h[6]<<8|h[7]),g},lp=kS,PS=function(h){return{isLeading:(h[0]&12)>>>2,dependsOn:h[0]&3,isDependedOn:(h[1]&192)>>>6,hasRedundancy:(h[1]&48)>>>4,paddingValue:(h[1]&14)>>>1,isNonSyncSample:h[1]&1,degradationPriority:h[2]<<8|h[3]}},cp=PS,IS=function(h){var g={version:h[0],flags:new Uint8Array(h.subarray(1,4)),samples:[]},m=new DataView(h.buffer,h.byteOffset,h.byteLength),v=g.flags[2]&1,b=g.flags[2]&4,S=g.flags[1]&1,w=g.flags[1]&2,A=g.flags[1]&4,F=g.flags[1]&8,R=m.getUint32(4),B=8,V;for(v&&(g.dataOffset=m.getInt32(B),B+=4),b&&R&&(V={flags:cp(h.subarray(B,B+4))},B+=4,S&&(V.duration=m.getUint32(B),B+=4),w&&(V.size=m.getUint32(B),B+=4),F&&(g.version===1?V.compositionTimeOffset=m.getInt32(B):V.compositionTimeOffset=m.getUint32(B),B+=4),g.samples.push(V),R--);R--;)V={},S&&(V.duration=m.getUint32(B),B+=4),w&&(V.size=m.getUint32(B),B+=4),A&&(V.flags=cp(h.subarray(B,B+4)),B+=4),F&&(g.version===1?V.compositionTimeOffset=m.getInt32(B):V.compositionTimeOffset=m.getUint32(B),B+=4),g.samples.push(V);return g},dp=IS,OS=function(h){var g=new DataView(h.buffer,h.byteOffset,h.byteLength),m={version:h[0],flags:new Uint8Array(h.subarray(1,4)),trackId:g.getUint32(4)},v=m.flags[2]&1,b=m.flags[2]&2,S=m.flags[2]&8,w=m.flags[2]&16,A=m.flags[2]&32,F=m.flags[0]&65536,R=m.flags[0]&131072,B;return B=8,v&&(B+=4,m.baseDataOffset=g.getUint32(12),B+=4),b&&(m.sampleDescriptionIndex=g.getUint32(B),B+=4),S&&(m.defaultSampleDuration=g.getUint32(B),B+=4),w&&(m.defaultSampleSize=g.getUint32(B),B+=4),A&&(m.defaultSampleFlags=g.getUint32(B)),F&&(m.durationIsEmpty=!0),!v&&R&&(m.baseDataOffsetIsMoof=!0),m},fp=OS,hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ta;typeof window<"u"?Ta=window:typeof hp<"u"?Ta=hp:typeof self<"u"?Ta=self:Ta={};var ba=Ta,LS=ga.discardEmulationPreventionBytes,RS=Us.CaptionStream,MS=function(h,g){for(var m=h,v=0;v<g.length;v++){var b=g[v];if(m<b.size)return b;m-=b.size}return null},FS=function(h,g,m){var v=new DataView(h.buffer,h.byteOffset,h.byteLength),b={logs:[],seiNals:[]},S,w,A,F;for(w=0;w+4<h.length;w+=A)if(A=v.getUint32(w),w+=4,!(A<=0))switch(h[w]&31){case 6:var R=h.subarray(w+1,w+1+A),B=MS(w,g);if(S={nalUnitType:"sei_rbsp",size:A,data:R,escapedRBSP:LS(R),trackId:m},B)S.pts=B.pts,S.dts=B.dts,F=B;else if(F)S.pts=F.pts,S.dts=F.dts;else{b.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+w+" for trackId "+m+". See mux.js#223."});break}b.seiNals.push(S);break}return b},NS=function(h,g,m){var v=g,b=m.defaultSampleDuration||0,S=m.defaultSampleSize||0,w=m.trackId,A=[];return h.forEach(function(F){var R=dp(F),B=R.samples;B.forEach(function(V){V.duration===void 0&&(V.duration=b),V.size===void 0&&(V.size=S),V.trackId=w,V.dts=v,V.compositionTimeOffset===void 0&&(V.compositionTimeOffset=0),typeof v=="bigint"?(V.pts=v+ba.BigInt(V.compositionTimeOffset),v+=ba.BigInt(V.duration)):(V.pts=v+V.compositionTimeOffset,v+=V.duration)}),A=A.concat(B)}),A},BS=function(h,g){var m=Pe(h,["moof","traf"]),v=Pe(h,["mdat"]),b={},S=[];return v.forEach(function(w,A){var F=m[A];S.push({mdat:w,traf:F})}),S.forEach(function(w){var A=w.mdat,F=w.traf,R=Pe(F,["tfhd"]),B=fp(R[0]),V=B.trackId,Q=Pe(F,["tfdt"]),ee=Q.length>0?lp(Q[0]).baseMediaDecodeTime:0,$=Pe(F,["trun"]),ue,tt;g===V&&$.length>0&&(ue=NS($,ee,B),tt=FS(A,ue,V),b[V]||(b[V]={seiNals:[],logs:[]}),b[V].seiNals=b[V].seiNals.concat(tt.seiNals),b[V].logs=b[V].logs.concat(tt.logs))}),b},US=function(h,g,m){var v;if(g===null)return null;v=BS(h,g);var b=v[g]||{};return{seiNals:b.seiNals,logs:b.logs,timescale:m}},jS=function(){var h=!1,g,m,v,b,S,w;this.isInitialized=function(){return h},this.init=function(A){g=new RS,h=!0,w=A?A.isPartial:!1,g.on("data",function(F){F.startTime=F.startPts/b,F.endTime=F.endPts/b,S.captions.push(F),S.captionStreams[F.stream]=!0}),g.on("log",function(F){S.logs.push(F)})},this.isNewInit=function(A,F){return A&&A.length===0||F&&typeof F=="object"&&Object.keys(F).length===0?!1:v!==A[0]||b!==F[v]},this.parse=function(A,F,R){var B;if(this.isInitialized()){if(!F||!R)return null;if(this.isNewInit(F,R))v=F[0],b=R[v];else if(v===null||!b)return m.push(A),null}else return null;for(;m.length>0;){var V=m.shift();this.parse(V,F,R)}return B=US(A,v,b),B&&B.logs&&(S.logs=S.logs.concat(B.logs)),B===null||!B.seiNals?S.logs.length?{logs:S.logs,captions:[],captionStreams:[]}:null:(this.pushNals(B.seiNals),this.flushStream(),S)},this.pushNals=function(A){if(!this.isInitialized()||!A||A.length===0)return null;A.forEach(function(F){g.push(F)})},this.flushStream=function(){if(!this.isInitialized())return null;w?g.partialFlush():g.flush()},this.clearParsedCaptions=function(){S.captions=[],S.captionStreams={},S.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;g.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){m=[],v=null,b=null,S?this.clearParsedCaptions():S={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},VS=jS,Qs=Ys.toUnsigned,Sa=Ys.toHexString,HS=t.getUint64,pp,mp,gp,vp,_p,nl;pp=function(h){var g={},m=Pe(h,["moov","trak"]);return m.reduce(function(v,b){var S,w,A,F,R;return S=Pe(b,["tkhd"])[0],!S||(w=S[0],A=w===0?12:20,F=Qs(S[A]<<24|S[A+1]<<16|S[A+2]<<8|S[A+3]),R=Pe(b,["mdia","mdhd"])[0],!R)?null:(w=R[0],A=w===0?12:20,v[F]=Qs(R[A]<<24|R[A+1]<<16|R[A+2]<<8|R[A+3]),v)},g)},mp=function(h,g){var m;m=Pe(g,["moof","traf"]);var v=m.reduce(function(b,S){var w=Pe(S,["tfhd"])[0],A=Qs(w[4]<<24|w[5]<<16|w[6]<<8|w[7]),F=h[A]||9e4,R=Pe(S,["tfdt"])[0],B=new DataView(R.buffer,R.byteOffset,R.byteLength),V;R[0]===1?V=HS(R.subarray(4,12)):V=B.getUint32(4);var Q;return typeof V=="bigint"?Q=V/ba.BigInt(F):typeof V=="number"&&!isNaN(V)&&(Q=V/F),Q<Number.MAX_SAFE_INTEGER&&(Q=Number(Q)),Q<b&&(b=Q),b},1/0);return typeof v=="bigint"||isFinite(v)?v:0},gp=function(h,g){var m=Pe(g,["moof","traf"]),v=0,b=0,S;if(m&&m.length){var w=Pe(m[0],["tfhd"])[0],A=Pe(m[0],["trun"])[0],F=Pe(m[0],["tfdt"])[0];if(w){var R=fp(w);S=R.trackId}if(F){var B=lp(F);v=B.baseMediaDecodeTime}if(A){var V=dp(A);V.samples&&V.samples.length&&(b=V.samples[0].compositionTimeOffset||0)}}var Q=h[S]||9e4;typeof v=="bigint"&&(b=ba.BigInt(b),Q=ba.BigInt(Q));var ee=(v+b)/Q;return typeof ee=="bigint"&&ee<Number.MAX_SAFE_INTEGER&&(ee=Number(ee)),ee},vp=function(h){var g=Pe(h,["moov","trak"]),m=[];return g.forEach(function(v){var b=Pe(v,["mdia","hdlr"]),S=Pe(v,["tkhd"]);b.forEach(function(w,A){var F=Mi(w.subarray(8,12)),R=S[A],B,V,Q;F==="vide"&&(B=new DataView(R.buffer,R.byteOffset,R.byteLength),V=B.getUint8(0),Q=V===0?B.getUint32(12):B.getUint32(20),m.push(Q))})}),m},nl=function(h){var g=h[0],m=g===0?12:20;return Qs(h[m]<<24|h[m+1]<<16|h[m+2]<<8|h[m+3])},_p=function(h){var g=Pe(h,["moov","trak"]),m=[];return g.forEach(function(v){var b={},S=Pe(v,["tkhd"])[0],w,A;S&&(w=new DataView(S.buffer,S.byteOffset,S.byteLength),A=w.getUint8(0),b.id=A===0?w.getUint32(12):w.getUint32(20));var F=Pe(v,["mdia","hdlr"])[0];if(F){var R=Mi(F.subarray(8,12));R==="vide"?b.type="video":R==="soun"?b.type="audio":b.type=R}var B=Pe(v,["mdia","minf","stbl","stsd"])[0];if(B){var V=B.subarray(8);b.codec=Mi(V.subarray(4,8));var Q=Pe(V,[b.codec])[0],ee,$;Q&&(/^[asm]vc[1-9]$/i.test(b.codec)?(ee=Q.subarray(78),$=Mi(ee.subarray(4,8)),$==="avcC"&&ee.length>11?(b.codec+=".",b.codec+=Sa(ee[9]),b.codec+=Sa(ee[10]),b.codec+=Sa(ee[11])):b.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(b.codec)?(ee=Q.subarray(28),$=Mi(ee.subarray(4,8)),$==="esds"&&ee.length>20&&ee[19]!==0?(b.codec+="."+Sa(ee[19]),b.codec+="."+Sa(ee[20]>>>2&63).replace(/^0/,"")):b.codec="mp4a.40.2"):b.codec=b.codec.toLowerCase())}var ue=Pe(v,["mdia","mdhd"])[0];ue&&(b.timescale=nl(ue)),m.push(b)}),m};var yp={findBox:Pe,parseType:Mi,timescale:pp,startTime:mp,compositionStartTime:gp,videoTrackIds:vp,tracks:_p,getTimescaleFromMediaHeader:nl},Tp=function(h){var g=h[1]&31;return g<<=8,g|=h[2],g},Js=function(h){return!!(h[1]&64)},Zs=function(h){var g=0;return(h[3]&48)>>>4>1&&(g+=h[4]+1),g},qS=function(h,g){var m=Tp(h);return m===0?"pat":m===g?"pmt":g?"pes":null},WS=function(h){var g=Js(h),m=4+Zs(h);return g&&(m+=h[m]+1),(h[m+10]&31)<<8|h[m+11]},zS=function(h){var g={},m=Js(h),v=4+Zs(h);if(m&&(v+=h[v]+1),!!(h[v+5]&1)){var b,S,w;b=(h[v+1]&15)<<8|h[v+2],S=3+b-4,w=(h[v+10]&15)<<8|h[v+11];for(var A=12+w;A<S;){var F=v+A;g[(h[F+1]&31)<<8|h[F+2]]=h[F],A+=((h[F+3]&15)<<8|h[F+4])+5}return g}},GS=function(h,g){var m=Tp(h),v=g[m];switch(v){case ct.H264_STREAM_TYPE:return"video";case ct.ADTS_STREAM_TYPE:return"audio";case ct.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},$S=function(h){var g=Js(h);if(!g)return null;var m=4+Zs(h);if(m>=h.byteLength)return null;var v=null,b;return b=h[m+7],b&192&&(v={},v.pts=(h[m+9]&14)<<27|(h[m+10]&255)<<20|(h[m+11]&254)<<12|(h[m+12]&255)<<5|(h[m+13]&254)>>>3,v.pts*=4,v.pts+=(h[m+13]&6)>>>1,v.dts=v.pts,b&64&&(v.dts=(h[m+14]&14)<<27|(h[m+15]&255)<<20|(h[m+16]&254)<<12|(h[m+17]&255)<<5|(h[m+18]&254)>>>3,v.dts*=4,v.dts+=(h[m+18]&6)>>>1)),v},al=function(h){switch(h){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},KS=function(h){for(var g=4+Zs(h),m=h.subarray(g),v=0,b=0,S=!1,w;b<m.byteLength-3;b++)if(m[b+2]===1){v=b+5;break}for(;v<m.byteLength;)switch(m[v]){case 0:if(m[v-1]!==0){v+=2;break}else if(m[v-2]!==0){v++;break}b+3!==v-2&&(w=al(m[b+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0));do v++;while(m[v]!==1&&v<m.length);b=v-2,v+=3;break;case 1:if(m[v-1]!==0||m[v-2]!==0){v+=3;break}w=al(m[b+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0),b=v-2,v+=3;break;default:v+=3;break}return m=m.subarray(b),v-=b,b=0,m&&m.byteLength>3&&(w=al(m[b+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0)),S},XS={parseType:qS,parsePat:WS,parsePmt:zS,parsePayloadUnitStartIndicator:Js,parsePesType:GS,parsePesTime:$S,videoPacketContainsKeyFrame:KS},gn=Qh.handleRollover,Se={};Se.ts=XS,Se.aac=$s;var Fi=ye.ONE_SECOND_IN_TS,bt=188,br=71,YS=function(h,g){for(var m=0,v=bt,b,S;v<h.byteLength;){if(h[m]===br&&h[v]===br){switch(b=h.subarray(m,v),S=Se.ts.parseType(b,g.pid),S){case"pat":g.pid=Se.ts.parsePat(b);break;case"pmt":var w=Se.ts.parsePmt(b);g.table=g.table||{},Object.keys(w).forEach(function(A){g.table[A]=w[A]});break}m+=bt,v+=bt;continue}m++,v++}},bp=function(h,g,m){for(var v=0,b=bt,S,w,A,F,R,B=!1;b<=h.byteLength;){if(h[v]===br&&(h[b]===br||b===h.byteLength)){switch(S=h.subarray(v,b),w=Se.ts.parseType(S,g.pid),w){case"pes":A=Se.ts.parsePesType(S,g.table),F=Se.ts.parsePayloadUnitStartIndicator(S),A==="audio"&&F&&(R=Se.ts.parsePesTime(S),R&&(R.type="audio",m.audio.push(R),B=!0));break}if(B)break;v+=bt,b+=bt;continue}v++,b++}for(b=h.byteLength,v=b-bt,B=!1;v>=0;){if(h[v]===br&&(h[b]===br||b===h.byteLength)){switch(S=h.subarray(v,b),w=Se.ts.parseType(S,g.pid),w){case"pes":A=Se.ts.parsePesType(S,g.table),F=Se.ts.parsePayloadUnitStartIndicator(S),A==="audio"&&F&&(R=Se.ts.parsePesTime(S),R&&(R.type="audio",m.audio.push(R),B=!0));break}if(B)break;v-=bt,b-=bt;continue}v--,b--}},QS=function(h,g,m){for(var v=0,b=bt,S,w,A,F,R,B,V,Q,ee=!1,$={data:[],size:0};b<h.byteLength;){if(h[v]===br&&h[b]===br){switch(S=h.subarray(v,b),w=Se.ts.parseType(S,g.pid),w){case"pes":if(A=Se.ts.parsePesType(S,g.table),F=Se.ts.parsePayloadUnitStartIndicator(S),A==="video"&&(F&&!ee&&(R=Se.ts.parsePesTime(S),R&&(R.type="video",m.video.push(R),ee=!0)),!m.firstKeyFrame)){if(F&&$.size!==0){for(B=new Uint8Array($.size),V=0;$.data.length;)Q=$.data.shift(),B.set(Q,V),V+=Q.byteLength;if(Se.ts.videoPacketContainsKeyFrame(B)){var ue=Se.ts.parsePesTime(B);ue&&(m.firstKeyFrame=ue,m.firstKeyFrame.type="video")}$.size=0}$.data.push(S),$.size+=S.byteLength}break}if(ee&&m.firstKeyFrame)break;v+=bt,b+=bt;continue}v++,b++}for(b=h.byteLength,v=b-bt,ee=!1;v>=0;){if(h[v]===br&&h[b]===br){switch(S=h.subarray(v,b),w=Se.ts.parseType(S,g.pid),w){case"pes":A=Se.ts.parsePesType(S,g.table),F=Se.ts.parsePayloadUnitStartIndicator(S),A==="video"&&F&&(R=Se.ts.parsePesTime(S),R&&(R.type="video",m.video.push(R),ee=!0));break}if(ee)break;v-=bt,b-=bt;continue}v--,b--}},JS=function(h,g){if(h.audio&&h.audio.length){var m=g;(typeof m>"u"||isNaN(m))&&(m=h.audio[0].dts),h.audio.forEach(function(S){S.dts=gn(S.dts,m),S.pts=gn(S.pts,m),S.dtsTime=S.dts/Fi,S.ptsTime=S.pts/Fi})}if(h.video&&h.video.length){var v=g;if((typeof v>"u"||isNaN(v))&&(v=h.video[0].dts),h.video.forEach(function(S){S.dts=gn(S.dts,v),S.pts=gn(S.pts,v),S.dtsTime=S.dts/Fi,S.ptsTime=S.pts/Fi}),h.firstKeyFrame){var b=h.firstKeyFrame;b.dts=gn(b.dts,v),b.pts=gn(b.pts,v),b.dtsTime=b.dts/Fi,b.ptsTime=b.pts/Fi}}},ZS=function(h){for(var g=!1,m=0,v=null,b=null,S=0,w=0,A;h.length-w>=3;){var F=Se.aac.parseType(h,w);switch(F){case"timed-metadata":if(h.length-w<10){g=!0;break}if(S=Se.aac.parseId3TagSize(h,w),S>h.length){g=!0;break}b===null&&(A=h.subarray(w,w+S),b=Se.aac.parseAacTimestamp(A)),w+=S;break;case"audio":if(h.length-w<7){g=!0;break}if(S=Se.aac.parseAdtsSize(h,w),S>h.length){g=!0;break}v===null&&(A=h.subarray(w,w+S),v=Se.aac.parseSampleRate(A)),m++,w+=S;break;default:w++;break}if(g)return null}if(v===null||b===null)return null;var R=Fi/v,B={audio:[{type:"audio",dts:b,pts:b},{type:"audio",dts:b+m*1024*R,pts:b+m*1024*R}]};return B},ex=function(h){var g={pid:null,table:null},m={};YS(h,g);for(var v in g.table)if(g.table.hasOwnProperty(v)){var b=g.table[v];switch(b){case ct.H264_STREAM_TYPE:m.video=[],QS(h,g,m),m.video.length===0&&delete m.video;break;case ct.ADTS_STREAM_TYPE:m.audio=[],bp(h,g,m),m.audio.length===0&&delete m.audio;break}}return m},tx=function(h,g){var m=Se.aac.isLikelyAacData(h),v;return m?v=ZS(h):v=ex(h),!v||!v.audio&&!v.video?null:(JS(v,g),v)},rx={inspect:tx,parseAudioPes_:bp},ix=function(h,g){g.on("data",function(m){var v=m.initSegment;m.initSegment={data:v.buffer,byteOffset:v.byteOffset,byteLength:v.byteLength};var b=m.data;m.data=b.buffer,h.postMessage({action:"data",segment:m,byteOffset:b.byteOffset,byteLength:b.byteLength},[m.data])}),g.on("done",function(m){h.postMessage({action:"done"})}),g.on("gopInfo",function(m){h.postMessage({action:"gopInfo",gopInfo:m})}),g.on("videoSegmentTimingInfo",function(m){var v={start:{decode:ye.videoTsToSeconds(m.start.dts),presentation:ye.videoTsToSeconds(m.start.pts)},end:{decode:ye.videoTsToSeconds(m.end.dts),presentation:ye.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:ye.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(v.prependedContentDuration=ye.videoTsToSeconds(m.prependedContentDuration)),h.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:v})}),g.on("audioSegmentTimingInfo",function(m){var v={start:{decode:ye.videoTsToSeconds(m.start.dts),presentation:ye.videoTsToSeconds(m.start.pts)},end:{decode:ye.videoTsToSeconds(m.end.dts),presentation:ye.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:ye.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(v.prependedContentDuration=ye.videoTsToSeconds(m.prependedContentDuration)),h.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:v})}),g.on("id3Frame",function(m){h.postMessage({action:"id3Frame",id3Frame:m})}),g.on("caption",function(m){h.postMessage({action:"caption",caption:m})}),g.on("trackinfo",function(m){h.postMessage({action:"trackinfo",trackInfo:m})}),g.on("audioTimingInfo",function(m){h.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ye.videoTsToSeconds(m.start),end:ye.videoTsToSeconds(m.end)}})}),g.on("videoTimingInfo",function(m){h.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ye.videoTsToSeconds(m.start),end:ye.videoTsToSeconds(m.end)}})}),g.on("log",function(m){h.postMessage({action:"log",log:m})})},Sp=function(){function x(g,m){this.options=m||{},this.self=g,this.init()}var h=x.prototype;return h.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new bS.Transmuxer(this.options),ix(this.self,this.transmuxer)},h.pushMp4Captions=function(m){this.captionParser||(this.captionParser=new VS,this.captionParser.init());var v=new Uint8Array(m.data,m.byteOffset,m.byteLength),b=this.captionParser.parse(v,m.trackIds,m.timescales);this.self.postMessage({action:"mp4Captions",captions:b&&b.captions||[],logs:b&&b.logs||[],data:v.buffer},[v.buffer])},h.probeMp4StartTime=function(m){var v=m.timescales,b=m.data,S=yp.startTime(v,b);this.self.postMessage({action:"probeMp4StartTime",startTime:S,data:b},[b.buffer])},h.probeMp4Tracks=function(m){var v=m.data,b=yp.tracks(v);this.self.postMessage({action:"probeMp4Tracks",tracks:b,data:v},[v.buffer])},h.probeTs=function(m){var v=m.data,b=m.baseStartTime,S=typeof b=="number"&&!isNaN(b)?b*ye.ONE_SECOND_IN_TS:void 0,w=rx.inspect(v,S),A=null;w&&(A={hasVideo:w.video&&w.video.length===2||!1,hasAudio:w.audio&&w.audio.length===2||!1},A.hasVideo&&(A.videoStart=w.video[0].ptsTime),A.hasAudio&&(A.audioStart=w.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:A,data:v},[v.buffer])},h.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},h.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},h.push=function(m){var v=new Uint8Array(m.data,m.byteOffset,m.byteLength);this.transmuxer.push(v)},h.reset=function(){this.transmuxer.reset()},h.setTimestampOffset=function(m){var v=m.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ye.secondsToVideoTs(v)))},h.setAudioAppendStart=function(m){this.transmuxer.setAudioAppendStart(Math.ceil(ye.secondsToVideoTs(m.appendStart)))},h.setRemux=function(m){this.transmuxer.setRemux(m.remux)},h.flush=function(m){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},h.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},h.alignGopsWith=function(m){this.transmuxer.alignGopsWith(m.gopsToAlignWith.slice())},x}();self.onmessage=function(x){if(x.data.action==="init"&&x.data.options){this.messageHandlers=new Sp(self,x.data.options);return}this.messageHandlers||(this.messageHandlers=new Sp(self)),x.data&&x.data.action&&x.data.action!=="init"&&this.messageHandlers[x.data.action]&&this.messageHandlers[x.data.action](x.data)}})),OL=ob(IL),LL=function(e,r,i){var t=e.data.segment,a=t.type,s=t.initSegment,o=t.captions,u=t.captionStreams,l=t.metadata,c=t.videoFrameDtsTime,d=t.videoFramePtsTime;r.buffer.push({captions:o,captionStreams:u,metadata:l});var f=e.data.segment.boxes||{data:e.data.segment.data},p={type:a,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof c<"u"&&(p.videoFrameDtsTime=c),typeof d<"u"&&(p.videoFramePtsTime=d),i(p)},RL=function(e){var r=e.transmuxedData,i=e.callback;r.buffer=[],i(r)},ML=function(e,r){r.gopInfo=e.data.gopInfo},cb=function(e){var r=e.transmuxer,i=e.bytes,t=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,o=e.onData,u=e.onTrackInfo,l=e.onAudioTimingInfo,c=e.onVideoTimingInfo,d=e.onVideoSegmentTimingInfo,f=e.onAudioSegmentTimingInfo,p=e.onId3,y=e.onCaptions,_=e.onDone,T=e.onEndedTimeline,E=e.onTransmuxerLog,C=e.isEndOfTimeline,I={buffer:[]},k=C,D=function(O){r.currentTransmux===e&&(O.data.action==="data"&&LL(O,I,o),O.data.action==="trackinfo"&&u(O.data.trackInfo),O.data.action==="gopInfo"&&ML(O,I),O.data.action==="audioTimingInfo"&&l(O.data.audioTimingInfo),O.data.action==="videoTimingInfo"&&c(O.data.videoTimingInfo),O.data.action==="videoSegmentTimingInfo"&&d(O.data.videoSegmentTimingInfo),O.data.action==="audioSegmentTimingInfo"&&f(O.data.audioSegmentTimingInfo),O.data.action==="id3Frame"&&p([O.data.id3Frame],O.data.id3Frame.dispatchType),O.data.action==="caption"&&y(O.data.caption),O.data.action==="endedtimeline"&&(k=!1,T()),O.data.action==="log"&&E(O.data.log),O.data.type==="transmuxed"&&(k||(r.onmessage=null,RL({transmuxedData:I,callback:_}),db(r))))};if(r.onmessage=D,t&&r.postMessage({action:"setAudioAppendStart",appendStart:t}),Array.isArray(a)&&r.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s<"u"&&r.postMessage({action:"setRemux",remux:s}),i.byteLength){var N=i instanceof ArrayBuffer?i:i.buffer,M=i instanceof ArrayBuffer?0:i.byteOffset;r.postMessage({action:"push",data:N,byteOffset:M,byteLength:i.byteLength},[N])}C&&r.postMessage({action:"endTimeline"}),r.postMessage({action:"flush"})},db=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():cb(e.currentTransmux))},av=function(e,r){e.postMessage({action:r}),db(e)},fb=function(e,r){if(!r.currentTransmux){r.currentTransmux=e,av(r,e);return}r.transmuxQueue.push(av.bind(null,r,e))},FL=function(e){fb("reset",e)},NL=function(e){fb("endTimeline",e)},hb=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,cb(e);return}e.transmuxer.transmuxQueue.push(e)},BL=function(e){var r=new OL;r.currentTransmux=null,r.transmuxQueue=[];var i=r.terminate;return r.terminate=function(){return r.currentTransmux=null,r.transmuxQueue.length=0,i.call(r)},r.postMessage({action:"init",options:e}),r},Nc={reset:FL,endTimeline:NL,transmux:hb,createTransmuxer:BL},uu=function(e){var r=e.transmuxer,i=e.endAction||e.action,t=e.callback,a=lr({},e,{endAction:null,transmuxer:null,callback:null}),s=function l(c){c.data.action===i&&(r.removeEventListener("message",l),c.data.data&&(c.data.data=new Uint8Array(c.data.data,e.byteOffset||0,e.byteLength||c.data.data.byteLength),e.data&&(e.data=c.data.data)),t(c.data))};if(r.addEventListener("message",s),e.data){var o=e.data instanceof ArrayBuffer;a.byteOffset=o?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var u=[o?e.data:e.data.buffer];r.postMessage(a,u)}else r.postMessage(a)},Pr={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Xd=function(e){e.forEach(function(r){r.abort()})},UL=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},jL=function(e){var r=e.target,i=Date.now()-r.requestTime,t={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return t.bytesReceived=e.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t},jh=function(e,r){return r.timedout?{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:Pr.TIMEOUT,xhr:r}:r.aborted?{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:Pr.ABORTED,xhr:r}:e?{status:r.status,message:"HLS request errored at URL: "+r.uri,code:Pr.FAILURE,xhr:r}:r.responseType==="arraybuffer"&&r.response.byteLength===0?{status:r.status,message:"Empty HLS response at URL: "+r.uri,code:Pr.FAILURE,xhr:r}:null},sv=function(e,r,i){return function(t,a){var s=a.response,o=jh(t,a);if(o)return i(o,e);if(s.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:Pr.FAILURE,xhr:a},e);for(var u=new DataView(s),l=new Uint32Array([u.getUint32(0),u.getUint32(4),u.getUint32(8),u.getUint32(12)]),c=0;c<r.length;c++)r[c].bytes=l;return i(null,e)}},pb=function(e,r){var i=th(e.map.bytes);if(i!=="mp4"){var t=e.map.resolvedUri||e.map.uri;return r({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+t,code:Pr.FAILURE})}uu({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var o=s.tracks,u=s.data;return e.map.bytes=u,o.forEach(function(l){e.map.tracks=e.map.tracks||{},!e.map.tracks[l.type]&&(e.map.tracks[l.type]=l,typeof l.id=="number"&&l.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[l.id]=l.timescale))}),r(null)}})},VL=function(e){var r=e.segment,i=e.finishProcessingFn;return function(t,a){var s=jh(t,a);if(s)return i(s,r);var o=new Uint8Array(a.response);if(r.map.key)return r.map.encryptedBytes=o,i(null,r);r.map.bytes=o,pb(r,function(u){if(u)return u.xhr=a,u.status=a.status,i(u,r);i(null,r)})}},HL=function(e){var r=e.segment,i=e.finishProcessingFn,t=e.responseType;return function(a,s){var o=jh(a,s);if(o)return i(o,r);var u=t==="arraybuffer"||!s.responseText?s.response:kL(s.responseText.substring(r.lastReachedChar||0));return r.stats=UL(s),r.key?r.encryptedBytes=new Uint8Array(u):r.bytes=new Uint8Array(u),i(null,r)}},qL=function(e){var r=e.segment,i=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,p=e.doneFn,y=e.onTransmuxerLog,_=r.map&&r.map.tracks||{},T=!!(_.audio&&_.video),E=a.bind(null,r,"audio","start"),C=a.bind(null,r,"audio","end"),I=a.bind(null,r,"video","start"),k=a.bind(null,r,"video","end"),D=function(){return hb({bytes:i,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:T,onData:function(L){L.type=L.type==="combined"?"video":L.type,f(r,L)},onTrackInfo:function(L){t&&(T&&(L.isMuxed=!0),t(r,L))},onAudioTimingInfo:function(L){E&&typeof L.start<"u"&&(E(L.start),E=null),C&&typeof L.end<"u"&&C(L.end)},onVideoTimingInfo:function(L){I&&typeof L.start<"u"&&(I(L.start),I=null),k&&typeof L.end<"u"&&k(L.end)},onVideoSegmentTimingInfo:function(L){s(L)},onAudioSegmentTimingInfo:function(L){o(L)},onId3:function(L,O){u(r,L,O)},onCaptions:function(L){l(r,[L])},isEndOfTimeline:c,onEndedTimeline:function(){d()},onTransmuxerLog:y,onDone:function(L){p&&(L.type=L.type==="combined"?"video":L.type,p(null,r,L))}})};uu({action:"probeTs",transmuxer:r.transmuxer,data:i,baseStartTime:r.baseStartTime,callback:function(M){r.bytes=i=M.data;var L=M.result;L&&(t(r,{hasAudio:L.hasAudio,hasVideo:L.hasVideo,isMuxed:T}),t=null,L.hasAudio&&!T&&E(L.audioStart),L.hasVideo&&I(L.videoStart),E=null,I=null),D()}})},mb=function(e){var r=e.segment,i=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,p=e.doneFn,y=e.onTransmuxerLog,_=new Uint8Array(i);if(uI(_)){r.isFmp4=!0;var T=r.map.tracks,E={isFmp4:!0,hasVideo:!!T.video,hasAudio:!!T.audio};T.audio&&T.audio.codec&&T.audio.codec!=="enca"&&(E.audioCodec=T.audio.codec),T.video&&T.video.codec&&T.video.codec!=="encv"&&(E.videoCodec=T.video.codec),T.video&&T.audio&&(E.isMuxed=!0),t(r,E);var C=function(k){f(r,{data:_,type:E.hasAudio&&!E.isMuxed?"audio":"video"}),k&&k.length&&l(r,k),p(null,r,{})};uu({action:"probeMp4StartTime",timescales:r.map.timescales,data:_,transmuxer:r.transmuxer,callback:function(k){var D=k.data,N=k.startTime;if(i=D.buffer,r.bytes=_=D,E.hasAudio&&!E.isMuxed&&a(r,"audio","start",N),E.hasVideo&&a(r,"video","start",N),!T.video||!D.byteLength||!r.transmuxer){C();return}uu({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:_,timescales:r.map.timescales,trackIds:[T.video.id],callback:function(L){i=L.data.buffer,r.bytes=_=L.data,L.logs.forEach(function(O){y(U.mergeOptions(O,{stream:"mp4CaptionParser"}))}),C(L.captions)}})}});return}if(!r.transmuxer){p(null,r,{});return}if(typeof r.container>"u"&&(r.container=th(_)),r.container!=="ts"&&r.container!=="aac"){t(r,{hasAudio:!1,hasVideo:!1}),p(null,r,{});return}qL({segment:r,bytes:i,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:p,onTransmuxerLog:y})},gb=function(e,r){var i=e.id,t=e.key,a=e.encryptedBytes,s=e.decryptionWorker,o=function l(c){if(c.data.source===i){s.removeEventListener("message",l);var d=c.data.decrypted;r(new Uint8Array(d.bytes,d.byteOffset,d.byteLength))}};s.addEventListener("message",o);var u;t.bytes.slice?u=t.bytes.slice():u=new Uint32Array(Array.prototype.slice.call(t.bytes)),s.postMessage(tb({source:i,encrypted:a,key:u,iv:t.iv}),[a.buffer,u.buffer])},WL=function(e){var r=e.decryptionWorker,i=e.segment,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,p=e.doneFn,y=e.onTransmuxerLog;gb({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:r},function(_){i.bytes=_,mb({segment:i,bytes:i.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:p,onTransmuxerLog:y})})},zL=function(e){var r=e.activeXhrs,i=e.decryptionWorker,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,p=e.doneFn,y=e.onTransmuxerLog,_=0,T=!1;return function(E,C){if(!T){if(E)return T=!0,Xd(r),p(E,C);if(_+=1,_===r.length){var I=function(){if(C.encryptedBytes)return WL({decryptionWorker:i,segment:C,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:p,onTransmuxerLog:y});mb({segment:C,bytes:C.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:p,onTransmuxerLog:y})};if(C.endOfAllRequests=Date.now(),C.map&&C.map.encryptedBytes&&!C.map.bytes)return gb({decryptionWorker:i,id:C.requestId+"-init",encryptedBytes:C.map.encryptedBytes,key:C.map.key},function(k){C.map.bytes=k,pb(C,function(D){if(D)return Xd(r),p(D,C);I()})});I()}}}},GL=function(e){var r=e.loadendState,i=e.abortFn;return function(t){var a=t.target;a.aborted&&i&&!r.calledAbortFn&&(i(),r.calledAbortFn=!0)}},$L=function(e){var r=e.segment,i=e.progressFn;return function(t){var a=t.target;if(!a.aborted)return r.stats=U.mergeOptions(r.stats,jL(t)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),i(t,r)}},KL=function(e){var r=e.xhr,i=e.xhrOptions,t=e.decryptionWorker,a=e.segment,s=e.abortFn,o=e.progressFn,u=e.trackInfoFn,l=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,d=e.audioSegmentTimingInfoFn,f=e.id3Fn,p=e.captionsFn,y=e.isEndOfTimeline,_=e.endedTimelineFn,T=e.dataFn,E=e.doneFn,C=e.onTransmuxerLog,I=[],k=zL({activeXhrs:I,decryptionWorker:t,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:p,isEndOfTimeline:y,endedTimelineFn:_,dataFn:T,doneFn:E,onTransmuxerLog:C});if(a.key&&!a.key.bytes){var D=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&D.push(a.map.key);var N=U.mergeOptions(i,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),M=sv(a,D,k),L=r(N,M);I.push(L)}if(a.map&&!a.map.bytes){var O=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(O){var j=U.mergeOptions(i,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),q=sv(a,[a.map.key],k),H=r(j,q);I.push(H)}var G=U.mergeOptions(i,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:$d(a.map)}),re=VL({segment:a,finishProcessingFn:k}),ie=r(G,re);I.push(ie)}var X=U.mergeOptions(i,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:$d(a)}),ne=HL({segment:a,finishProcessingFn:k,responseType:X.responseType}),de=r(X,ne);de.addEventListener("progress",$L({segment:a,progressFn:o,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:p,isEndOfTimeline:y,endedTimelineFn:_,dataFn:T})),I.push(de);var Ne={};return I.forEach(function(pe){pe.addEventListener("loadend",GL({loadendState:Ne,abortFn:s}))}),function(){return Xd(I)}},XL=Tr("CodecUtils"),YL=function(e){var r=e.attributes||{};if(r.CODECS)return Er(r.CODECS)},vb=function(e,r){var i=r.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},QL=function(e,r){if(!vb(e,r))return!0;var i=r.attributes||{},t=e.mediaGroups.AUDIO[i.AUDIO];for(var a in t)if(!t[a].uri&&!t[a].playlists)return!0;return!1},lu=function(e){var r={};return e.forEach(function(i){var t=i.mediaType,a=i.type,s=i.details;r[t]=r[t]||[],r[t].push(N_(""+a+s))}),Object.keys(r).forEach(function(i){if(r[i].length>1){XL("multiple "+i+" codecs found as attributes: "+r[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),r[i]=null;return}r[i]=r[i][0]}),r},ov=function(e){var r=0;return e.audio&&r++,e.video&&r++,r},Ya=function(e,r){var i=r.attributes||{},t=lu(YL(r)||[]);if(vb(e,r)&&!t.audio&&!QL(e,r)){var a=lu(dk(e,i.AUDIO)||[]);a.audio&&(t.audio=a.audio)}return t},po=Tr("PlaylistSelector"),uv=function(e){if(!(!e||!e.playlist)){var r=e.playlist;return JSON.stringify({id:r.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:r.attributes&&r.attributes.CODECS||""})}},cu=function(e,r){if(!e)return"";var i=P.getComputedStyle(e);return i?i[r]:""},jn=function(e,r){var i=e.slice();e.sort(function(t,a){var s=r(t,a);return s===0?i.indexOf(t)-i.indexOf(a):s})},Vh=function(e,r){var i,t;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||P.Number.MAX_VALUE,r.attributes.BANDWIDTH&&(t=r.attributes.BANDWIDTH),t=t||P.Number.MAX_VALUE,i-t},JL=function(e,r){var i,t;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||P.Number.MAX_VALUE,r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(t=r.attributes.RESOLUTION.width),t=t||P.Number.MAX_VALUE,i===t&&e.attributes.BANDWIDTH&&r.attributes.BANDWIDTH?e.attributes.BANDWIDTH-r.attributes.BANDWIDTH:i-t},_b=function(e,r,i,t,a,s){if(e){var o={bandwidth:r,width:i,height:t,limitRenditionByPlayerDimensions:a},u=e.playlists;Rt.isAudioOnly(e)&&(u=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var l=u.map(function(j){var q,H=j.attributes&&j.attributes.RESOLUTION&&j.attributes.RESOLUTION.width,G=j.attributes&&j.attributes.RESOLUTION&&j.attributes.RESOLUTION.height;return q=j.attributes&&j.attributes.BANDWIDTH,q=q||P.Number.MAX_VALUE,{bandwidth:q,width:H,height:G,playlist:j}});jn(l,function(j,q){return j.bandwidth-q.bandwidth}),l=l.filter(function(j){return!Rt.isIncompatible(j.playlist)});var c=l.filter(function(j){return Rt.isEnabled(j.playlist)});c.length||(c=l.filter(function(j){return!Rt.isDisabled(j.playlist)}));var d=c.filter(function(j){return j.bandwidth*it.BANDWIDTH_VARIANCE<r}),f=d[d.length-1],p=d.filter(function(j){return j.bandwidth===f.bandwidth})[0];if(a===!1){var y=p||c[0]||l[0];if(y&&y.playlist){var _="sortedPlaylistReps";return p&&(_="bandwidthBestRep"),c[0]&&(_="enabledPlaylistReps"),po("choosing "+uv(y)+" using "+_+" with options",o),y.playlist}return po("could not choose a playlist with options",o),null}var T=d.filter(function(j){return j.width&&j.height});jn(T,function(j,q){return j.width-q.width});var E=T.filter(function(j){return j.width===i&&j.height===t});f=E[E.length-1];var C=E.filter(function(j){return j.bandwidth===f.bandwidth})[0],I,k,D;C||(I=T.filter(function(j){return j.width>i||j.height>t}),k=I.filter(function(j){return j.width===I[0].width&&j.height===I[0].height}),f=k[k.length-1],D=k.filter(function(j){return j.bandwidth===f.bandwidth})[0]);var N;if(s.experimentalLeastPixelDiffSelector){var M=T.map(function(j){return j.pixelDiff=Math.abs(j.width-i)+Math.abs(j.height-t),j});jn(M,function(j,q){return j.pixelDiff===q.pixelDiff?q.bandwidth-j.bandwidth:j.pixelDiff-q.pixelDiff}),N=M[0]}var L=N||D||C||p||c[0]||l[0];if(L&&L.playlist){var O="sortedPlaylistReps";return N?O="leastPixelDiffRep":D?O="resolutionPlusOneRep":C?O="resolutionBestRep":p?O="bandwidthBestRep":c[0]&&(O="enabledPlaylistReps"),po("choosing "+uv(L)+" using "+O+" with options",o),L.playlist}return po("could not choose a playlist with options",o),null}},lv=function(){var e=this.useDevicePixelRatio&&P.devicePixelRatio||1;return _b(this.playlists.master,this.systemBandwidth,parseInt(cu(this.tech_.el(),"width"),10)*e,parseInt(cu(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},ZL=function(e){var r=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var t=this.useDevicePixelRatio&&P.devicePixelRatio||1;return r<0&&(r=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(r=e*this.systemBandwidth+(1-e)*r,i=this.systemBandwidth),_b(this.playlists.master,r,parseInt(cu(this.tech_.el(),"width"),10)*t,parseInt(cu(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},eR=function(e){var r=e.master,i=e.currentTime,t=e.bandwidth,a=e.duration,s=e.segmentDuration,o=e.timeUntilRebuffer,u=e.currentTimeline,l=e.syncController,c=r.playlists.filter(function(_){return!Rt.isIncompatible(_)}),d=c.filter(Rt.isEnabled);d.length||(d=c.filter(function(_){return!Rt.isDisabled(_)}));var f=d.filter(Rt.hasAttribute.bind(null,"BANDWIDTH")),p=f.map(function(_){var T=l.getSyncPoint(_,a,u,i),E=T?1:2,C=Rt.estimateSegmentRequestTime(s,t,_),I=C*E-o;return{playlist:_,rebufferingImpact:I}}),y=p.filter(function(_){return _.rebufferingImpact<=0});return jn(y,function(_,T){return Vh(T.playlist,_.playlist)}),y.length?y[0]:(jn(p,function(_,T){return _.rebufferingImpact-T.rebufferingImpact}),p[0]||null)},tR=function(){var e=this,r=this.playlists.master.playlists.filter(Rt.isEnabled);jn(r,function(t,a){return Vh(t,a)});var i=r.filter(function(t){return!!Ya(e.playlists.master,t).video});return i[0]||null},rR=function(e){var r=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(t){i.set(t,r),r+=t.byteLength})),i},iR=function(e,r,i){if(!e[i]){r.trigger({type:"usage",name:"vhs-608"}),r.trigger({type:"usage",name:"hls-608"});var t=i;/^cc708_/.test(i)&&(t="SERVICE"+i.split("_")[1]);var a=r.textTracks().getTrackById(t);if(a)e[i]=a;else{var s=r.options_.vhs&&r.options_.vhs.captionServices||{},o=i,u=i,l=!1,c=s[t];c&&(o=c.label,u=c.language,l=c.default),e[i]=r.addRemoteTextTrack({kind:"captions",id:t,default:l,label:o,language:u},!1).track}}},nR=function(e){var r=e.inbandTextTracks,i=e.captionArray,t=e.timestampOffset;if(i){var a=P.WebKitDataCue||P.VTTCue;i.forEach(function(s){var o=s.stream;r[o].addCue(new a(s.startTime+t,s.endTime+t,s.text))})}},aR=function(e){Object.defineProperties(e.frame,{id:{get:function(){return U.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return U.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return U.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},sR=function(e){var r=e.inbandTextTracks,i=e.metadataArray,t=e.timestampOffset,a=e.videoDuration;if(i){var s=P.WebKitDataCue||P.VTTCue,o=r.metadataTrack_;if(o&&(i.forEach(function(p){var y=p.cueTime+t;typeof y!="number"||P.isNaN(y)||y<0||!(y<1/0)||p.frames.forEach(function(_){var T=new s(y,y,_.value||_.url||_.data||"");T.frame=_,T.value=_,aR(T),o.addCue(T)})}),!(!o.cues||!o.cues.length))){for(var u=o.cues,l=[],c=0;c<u.length;c++)u[c]&&l.push(u[c]);var d=l.reduce(function(p,y){var _=p[y.startTime]||[];return _.push(y),p[y.startTime]=_,p},{}),f=Object.keys(d).sort(function(p,y){return Number(p)-Number(y)});f.forEach(function(p,y){var _=d[p],T=Number(f[y+1])||a;_.forEach(function(E){E.endTime=T})})}}},oR=function(e,r,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=r)},Ua=function(e,r,i){var t,a;if(i&&i.cues)for(t=i.cues.length;t--;)a=i.cues[t],a.startTime>=e&&a.endTime<=r&&i.removeCue(a)},uR=function(e){var r=e.cues;if(r)for(var i=0;i<r.length;i++){for(var t=[],a=0,s=0;s<r.length;s++)r[i].startTime===r[s].startTime&&r[i].endTime===r[s].endTime&&r[i].text===r[s].text&&(a++,a>1&&t.push(r[s]));t.length&&t.forEach(function(o){return e.removeCue(o)})}},lR=function(e,r,i){if(typeof r>"u"||r===null||!e.length)return[];var t=Math.ceil((r-i+3)*Xo.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>t);a++);return e.slice(a)},cR=function(e,r,i){if(!r.length)return e;if(i)return r.slice();var t=r[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=t);a++);return e.slice(0,a).concat(r)},dR=function(e,r,i,t){for(var a=Math.ceil((r-t)*Xo.ONE_SECOND_IN_TS),s=Math.ceil((i-t)*Xo.ONE_SECOND_IN_TS),o=e.slice(),u=e.length;u--&&!(e[u].pts<=s););if(u===-1)return o;for(var l=u+1;l--&&!(e[l].pts<=a););return l=Math.max(l,0),o.splice(l,u-l+1),o},fR=function(e,r){if(!e&&!r||!e&&r||e&&!r)return!1;if(e===r)return!0;var i=Object.keys(e).sort(),t=Object.keys(r).sort();if(i.length!==t.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(s!==t[a]||e[s]!==r[s])return!1}return!0},yb=22,hR=function(e,r,i){r=r||[];for(var t=[],a=0,s=0;s<r.length;s++){var o=r[s];if(e===o.timeline&&(t.push(s),a+=o.duration,a>i))return s}return t.length===0?0:t[t.length-1]},Ia=1,pR=500,cv=function(e){return typeof e=="number"&&isFinite(e)},mo=1/60,mR=function(e,r,i){return e!=="main"||!r||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":r.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},gR=function(e,r,i){var t=r-it.BACK_BUFFER_LENGTH;e.length&&(t=Math.max(t,e.start(0)));var a=r-i;return Math.min(a,t)},wn=function(e){var r=e.startOfSegment,i=e.duration,t=e.segment,a=e.part,s=e.playlist,o=s.mediaSequence,u=s.id,l=s.segments,c=l===void 0?[]:l,d=e.mediaIndex,f=e.partIndex,p=e.timeline,y=c.length-1,_="mediaIndex/partIndex increment";e.getMediaInfoForTime?_="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(_="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(_+=" with independent "+e.independent);var T=typeof f=="number",E=e.segment.uri?"segment":"pre-segment",C=T?VT({preloadSegment:t})-1:0;return E+" ["+(o+d)+"/"+(o+y)+"]"+(T?" part ["+f+"/"+C+"]":"")+(" segment start/end ["+t.start+" => "+t.end+"]")+(T?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+r+"]")+(" duration ["+i+"]")+(" timeline ["+p+"]")+(" selected by ["+_+"]")+(" playlist ["+u+"]")},dv=function(e){return e+"TimingInfo"},vR=function(e){var r=e.segmentTimeline,i=e.currentTimeline,t=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&r===i?null:r<i?t:a.length?a.end(a.length-1):t},fv=function(e){var r=e.timelineChangeController,i=e.currentTimeline,t=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(i===t)return!1;if(a==="audio"){var o=r.lastTimelineChange({type:"main"});return!o||o.to!==t}if(a==="main"&&s){var u=r.pendingTimelineChange({type:"audio"});return!(u&&u.to===t)}return!1},_R=function(e){var r=0;return["video","audio"].forEach(function(i){var t=e[i+"TimingInfo"];if(t){var a=t.start,s=t.end,o;typeof a=="bigint"||typeof s=="bigint"?o=P.BigInt(s)-P.BigInt(a):typeof a=="number"&&typeof s=="number"&&(o=s-a),typeof o<"u"&&o>r&&(r=o)}}),typeof r=="bigint"&&r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r},hv=function(e){var r=e.segmentDuration,i=e.maxDuration;return r?Math.round(r)>i+ki:!1},yR=function(e,r){if(r!=="hls")return null;var i=_R({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!i)return null;var t=e.playlist.targetDuration,a=hv({segmentDuration:i,maxDuration:t*2}),s=hv({segmentDuration:i,maxDuration:t}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+t+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:o}:null},Yd=function(n){Y(e,n);function e(i,t){var a;if(a=n.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=i.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=i.hasPlayed,a.currentTime_=i.currentTime,a.seekable_=i.seekable,a.seeking_=i.seeking,a.duration_=i.duration,a.mediaSource_=i.mediaSource,a.vhs_=i.vhs,a.loaderType_=i.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=i.segmentMetadataTrack,a.goalBufferLength_=i.goalBufferLength,a.sourceType_=i.sourceType,a.sourceUpdater_=i.sourceUpdater,a.inbandTextTracks_=i.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=i.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=i.parse708captions,a.useDtsForTimestampOffset_=i.useDtsForTimestampOffset,a.captionServices_=i.captionServices,a.experimentalExactManifestTimings=i.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=U.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=i.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=i.decrypter,a.syncController_=i.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=Tr("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(le(a),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var r=e.prototype;return r.createTransmuxer_=function(){return Nc.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},r.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},r.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&P.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},r.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},r.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},r.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,P.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},r.checkForAbort_=function(t){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==t},r.error=function(t){return typeof t<"u"&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},r.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Nc.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},r.buffered_=function(){var t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return U.createTimeRanges();if(this.loaderType_==="main"){var a=t.hasAudio,s=t.hasVideo,o=t.isMuxed;if(s&&a&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},r.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=ou(t),o=this.initSegments_[s];return a&&!o&&t.bytes&&(this.initSegments_[s]=o={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),o||t},r.segmentKey=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=rb(t),o=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!o&&t.bytes&&(this.keyCache_[s]=o={resolvedUri:t.resolvedUri,bytes:t.bytes});var u={resolvedUri:(o||t).resolvedUri};return o&&(u.bytes=o.bytes),u},r.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},r.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.playlist=function(t,a){if(a===void 0&&(a={}),!!t){var s=this.playlist_,o=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=a,this.state==="INIT"&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(t));var u=null;if(s&&(s.id?u=s.id:s.uri&&(u=s.uri)),this.logger_("playlist update ["+u+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==t.uri){this.mediaIndex!==null&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var l=t.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+l+"]"),this.mediaIndex!==null)if(this.mediaIndex-=l,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var c=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!c.parts||!c.parts.length||!c.parts[this.partIndex])){var d=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=d}}o&&(o.mediaIndex-=l,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=t.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,t)}},r.pause=function(){this.checkBufferTimeout_&&(P.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},r.paused=function(){return this.checkBufferTimeout_===null},r.resetEverything=function(t){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},r.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},r.resyncLoader=function(){this.transmuxer_&&Nc.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},r.remove=function(t,a,s,o){if(s===void 0&&(s=function(){}),o===void 0&&(o=!1),a===1/0&&(a=this.duration_()),a<=t){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var u=1,l=function(){u--,u===0&&s()};(o||!this.audioDisabled_)&&(u++,this.sourceUpdater_.removeAudio(t,a,l)),(o||this.loaderType_==="main")&&(this.gopBuffer_=dR(this.gopBuffer_,t,a,this.timeMapping_),u++,this.sourceUpdater_.removeVideo(t,a,l));for(var c in this.inbandTextTracks_)Ua(t,a,this.inbandTextTracks_[c]);Ua(t,a,this.segmentMetadataTrack_),l()},r.monitorBuffer_=function(){this.checkBufferTimeout_&&P.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=P.setTimeout(this.monitorBufferTick_.bind(this),1)},r.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&P.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=P.setTimeout(this.monitorBufferTick_.bind(this),pR)},r.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var t=this.chooseNextRequest_();t&&(typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))}},r.isEndOfStream_=function(t,a,s){if(t===void 0&&(t=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var o=typeof t=="number"&&a.segments[t],u=t+1===a.segments.length,l=!o||!o.parts||s+1===o.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&u&&l},r.chooseNextRequest_=function(){var t=this.buffered_(),a=ev(t)||0,s=Mh(t,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,u=s>=this.goalBufferLength_(),l=this.playlist_.segments;if(!l.length||o||u)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(c.isSyncRequest)c.mediaIndex=hR(this.currentTimeline_,l,a);else if(this.mediaIndex!==null){var d=l[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;c.startOfSegment=d.end?d.end:a,d.parts&&d.parts[f+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=f+1):c.mediaIndex=this.mediaIndex+1}else{var p=Rt.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),y=p.segmentIndex,_=p.startTime,T=p.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),c.mediaIndex=y,c.startOfSegment=_,c.partIndex=T}var E=l[c.mediaIndex],C=E&&typeof c.partIndex=="number"&&E.parts&&E.parts[c.partIndex];if(!E||typeof c.partIndex=="number"&&!C)return null;if(typeof c.partIndex!="number"&&E.parts&&(c.partIndex=0,C=E.parts[0]),!s&&C&&!C.independent)if(c.partIndex===0){var I=l[c.mediaIndex-1],k=I.parts&&I.parts.length&&I.parts[I.parts.length-1];k&&k.independent&&(c.mediaIndex-=1,c.partIndex=I.parts.length-1,c.independent="previous segment")}else E.parts[c.partIndex-1].independent&&(c.partIndex-=1,c.independent="previous part");var D=this.mediaSource_&&this.mediaSource_.readyState==="ended";return c.mediaIndex>=l.length-1&&D&&!this.seeking_()?null:this.generateSegmentInfo_(c)},r.generateSegmentInfo_=function(t){var a=t.independent,s=t.playlist,o=t.mediaIndex,u=t.startOfSegment,l=t.isSyncRequest,c=t.partIndex,d=t.forceTimestampOffset,f=t.getMediaInfoForTime,p=s.segments[o],y=typeof c=="number"&&p.parts[c],_={requestId:"segment-loader-"+Math.random(),uri:y&&y.resolvedUri||p.resolvedUri,mediaIndex:o,partIndex:y?c:null,isSyncRequest:l,startOfSegment:u,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:p.timeline,duration:y&&y.duration||p.duration,segment:p,part:y,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f,independent:a},T=typeof d<"u"?d:this.isPendingTimestampOffset_;_.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:p.timeline,currentTimeline:this.currentTimeline_,startOfSegment:u,buffered:this.buffered_(),overrideCheck:T});var E=ev(this.sourceUpdater_.audioBuffered());return typeof E=="number"&&(_.audioAppendStart=E-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(_.gopsToAlignWith=lR(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),_},r.timestampOffsetForSegment_=function(t){return vR(t)},r.earlyAbortWhenNeeded_=function(t){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=t.bandwidth,o=this.pendingSegment_.duration,u=Rt.estimateSegmentRequestTime(o,s,this.playlist_,t.bytesReceived),l=jO(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(u<=l)){var c=eR({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:l,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(c){var d=u-l,f=d-c.rebufferingImpact,p=.5;l<=ki&&(p=1),!(!c.playlist||c.playlist.uri===this.playlist_.uri||f<p)&&(this.bandwidth=c.playlist.attributes.BANDWIDTH*it.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},r.handleAbort_=function(t){this.logger_("Aborting "+wn(t)),this.mediaRequestsAborted+=1},r.handleProgress_=function(t,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},r.handleTrackInfo_=function(t,a){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},fR(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},r.handleTimingInfo_=function(t,a,s,o){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var u=this.pendingSegment_,l=dv(a);u[l]=u[l]||{},u[l][s]=o,this.logger_("timinginfo: "+a+" - "+s+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},r.handleCaptions_=function(t,a){var s=this;if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,a));return}var u=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),l={};a.forEach(function(c){l[c.stream]=l[c.stream]||{startTime:1/0,captions:[],endTime:0};var d=l[c.stream];d.startTime=Math.min(d.startTime,c.startTime+u),d.endTime=Math.max(d.endTime,c.endTime+u),d.captions.push(c)}),Object.keys(l).forEach(function(c){var d=l[c],f=d.startTime,p=d.endTime,y=d.captions,_=s.inbandTextTracks_;s.logger_("adding cues from "+f+" -> "+p+" for "+c),iR(_,s.vhs_.tech_,c),Ua(f,p,_[c]),nR({captionArray:y,inbandTextTracks:_,timestampOffset:u})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},r.handleId3_=function(t,a,s){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,a,s));return}var u=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();oR(this.inbandTextTracks_,s,this.vhs_.tech_),sR({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:u,videoDuration:this.duration_()})}},r.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(t){return t()}),this.metadataQueue_.caption.forEach(function(t){return t()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},r.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach(function(a){return a()})},r.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach(function(a){return a()})},r.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var t=this.pendingSegment_;return t?this.getCurrentMediaInfo_()?!fv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},r.getCurrentMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),t&&t.trackInfo||this.currentMediaInfo_},r.getMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),this.getCurrentMediaInfo_(t)||this.startingMediaInfo_},r.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},r.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var t=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!t||!a)return!1;var s=a.hasAudio,o=a.hasVideo,u=a.isMuxed;return!(o&&!t.videoTimingInfo||s&&!this.audioDisabled_&&!u&&!t.audioTimingInfo||fv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.handleData_=function(t,a){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,t,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),s.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),s.isFmp4=t.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[dv(a.type)].start;else{var o=this.getCurrentMediaInfo_(),u=this.loaderType_==="main"&&o&&o.hasVideo,l;u&&(l=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:u,firstVideoFrameTimeForData:l,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=this.chooseNextRequest_();if(c.mediaIndex!==s.mediaIndex||c.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},r.updateAppendInitSegmentStatus=function(t,a){this.loaderType_==="main"&&typeof t.timestampOffset=="number"&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==t.playlist&&(this.appendInitSegment_[a]=!0)},r.getInitSegmentAndUpdateState_=function(t){var a=t.type,s=t.initSegment,o=t.map,u=t.playlist;if(o){var l=ou(o);if(this.activeInitSegmentId_===l)return null;s=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=l}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=u,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},r.handleQuotaExceededError_=function(t,a){var s=this,o=t.segmentInfo,u=t.type,l=t.bytes,c=this.sourceUpdater_.audioBuffered(),d=this.sourceUpdater_.videoBuffered();c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Xi(c).join(", ")),d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Xi(d).join(", "));var f=c.length?c.start(0):0,p=c.length?c.end(c.length-1):0,y=d.length?d.start(0):0,_=d.length?d.end(d.length-1):0;if(p-f<=Ia&&_-y<=Ia){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+l.byteLength+", ")+("audio buffer: "+Xi(c).join(", ")+", ")+("video buffer: "+Xi(d).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:u,bytes:l}));var T=this.currentTime_(),E=T-Ia;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+E),this.remove(0,E,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Ia+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=P.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},Ia*1e3)},!0)},r.handleAppendError_=function(t,a){var s=t.segmentInfo,o=t.type,u=t.bytes;if(a){if(a.code===yb){this.handleQuotaExceededError_({segmentInfo:s,type:o,bytes:u});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(o+" append of "+u.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},r.appendToSourceBuffer_=function(t){var a=t.segmentInfo,s=t.type,o=t.initSegment,u=t.data,l=t.bytes;if(!l){var c=[u],d=u.byteLength;o&&(c.unshift(o),d+=o.byteLength),l=rR({bytes:d,segments:c})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:l}))},r.handleSegmentTimingInfo_=function(t,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,u=t+"TimingInfo";o[u]||(o[u]={}),o[u].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[u].transmuxedPresentationStart=s.start.presentation,o[u].transmuxedDecodeStart=s.start.decode,o[u].transmuxedPresentationEnd=s.end.presentation,o[u].transmuxedDecodeEnd=s.end.decode,o[u].baseMediaDecodeTime=s.baseMediaDecodeTime}},r.appendData_=function(t,a){var s=a.type,o=a.data;if(!(!o||!o.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var u=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:s,initSegment:u,data:o})}},r.loadSegment_=function(t){var a=this;if(this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),typeof t.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=lr({},t,{forceTimestampOffset:!0});lr(t,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(t)});return}this.updateTransmuxerAndRequestSegment_(t)},r.updateTransmuxerAndRequestSegment_=function(t){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var s=this.createSimplifiedSegmentObj_(t),o=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex),u=this.mediaIndex!==null,l=t.timeline!==this.currentTimeline_&&t.timeline>0,c=o||u&&l;this.logger_("Requesting "+wn(t)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=KL({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(f){var p=f.message,y=f.level,_=f.stream;a.logger_(wn(t)+" logged from transmuxer stream "+_+" as a "+y+": "+p)}})},r.trimBackBuffer_=function(t){var a=gR(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},r.createSimplifiedSegmentObj_=function(t){var a=t.segment,s=t.part,o={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},u=t.playlist.segments[t.mediaIndex-1];if(u&&u.timeline===a.timeline&&(u.videoTimingInfo?o.baseStartTime=u.videoTimingInfo.transmuxedDecodeEnd:u.audioTimingInfo&&(o.baseStartTime=u.audioTimingInfo.transmuxedDecodeEnd)),a.key){var l=a.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);o.key=this.segmentKey(a.key),o.key.iv=l}return a.map&&(o.map=this.initSegmentForMap(a.map)),o},r.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},r.saveBandwidthRelatedStats_=function(t,a){if(this.pendingSegment_.byteLength=a.bytesReceived,t<mo){this.logger_("Ignoring segment's bandwidth because its duration of "+t+(" is less than the min to record "+mo));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},r.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},r.segmentRequestFinished_=function(t,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===Pr.ABORTED)return;if(this.pause(),t.code===Pr.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(t),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,a.stats),o.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=cR(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},r.setTimeMapping_=function(t){var a=this.syncController_.mappingForTimeline(t);a!==null&&(this.timeMapping_=a)},r.updateMediaSecondsLoaded_=function(t){typeof t.start=="number"&&typeof t.end=="number"?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},r.shouldUpdateTransmuxerTimestampOffset_=function(t){return t===null?!1:this.loaderType_==="main"&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset()},r.trueSegmentStart_=function(t){var a=t.currentStart,s=t.playlist,o=t.mediaIndex,u=t.firstVideoFrameTimeForData,l=t.currentVideoTimestampOffset,c=t.useVideoTimingInfo,d=t.videoTimingInfo,f=t.audioTimingInfo;if(typeof a<"u")return a;if(!c)return f.start;var p=s.segments[o-1];return o===0||!p||typeof p.start>"u"||p.end!==u+l?u:d.start},r.waitForAppendsToComplete_=function(t){var a=this.getCurrentMediaInfo_(t);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,o=a.hasVideo,u=a.isMuxed,l=this.loaderType_==="main"&&o,c=!this.audioDisabled_&&s&&!u;if(t.waitingOnAppends=0,!t.hasAppendedData_){!t.timingInfo&&typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),this.checkAppendsDone_(t);return}l&&t.waitingOnAppends++,c&&t.waitingOnAppends++,l&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),c&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},r.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,t.waitingOnAppends===0&&this.handleAppendsDone_())},r.checkForIllegalMediaSwitch=function(t){var a=mR(this.loaderType_,this.getCurrentMediaInfo_(),t);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},r.updateSourceBufferTimestampOffset_=function(t){if(!(t.timestampOffset===null||typeof t.timingInfo.start!="number"||t.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),a=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},r.getSegmentStartTimeForTimestampOffsetCalculation_=function(t){var a=t.videoTimingInfo,s=t.audioTimingInfo,o=t.timingInfo;return this.useDtsForTimestampOffset_?a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:o.start:o.start},r.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,o=s&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;o&&(t.timingInfo.end=typeof o.end=="number"?o.end:o.start+t.duration)},r.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=yR(t,this.sourceType_);if(a&&(a.severity==="warn"?U.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest&&(this.trigger("syncinfoupdate"),!t.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+wn(t));return}this.logger_("Appended "+wn(t)),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var s=t.segment,o=t.part,u=s.end&&this.currentTime_()-s.end>t.playlist.targetDuration*3,l=o&&o.end&&this.currentTime_()-o.end>t.playlist.partTargetDuration*3;if(u||l){this.logger_("bad "+(u?"segment":"part")+" "+wn(t)),this.resetEverything();return}var c=this.mediaIndex!==null;c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},r.recordThroughput_=function(t){if(t.duration<mo){this.logger_("Ignoring segment's throughput because its duration of "+t.duration+(" is less than the min to record "+mo));return}var a=this.throughput.rate,s=Date.now()-t.endOfAllRequests+1,o=Math.floor(t.byteLength/s*8*1e3);this.throughput.rate+=(o-a)/++this.throughput.count},r.addSegmentMetadataCue_=function(t){if(this.segmentMetadataTrack_){var a=t.segment,s=a.start,o=a.end;if(!(!cv(s)||!cv(o))){Ua(s,o,this.segmentMetadataTrack_);var u=P.WebKitDataCue||P.VTTCue,l={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:s,end:o},c=JSON.stringify(l),d=new u(s,o,c);d.value=l,this.segmentMetadataTrack_.addCue(d)}}},e}(U.EventTarget);function Yr(){}var Tb=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},TR=["video","audio"],Qd=function(e,r){var i=r[e+"Buffer"];return i&&i.updating||r.queuePending[e]},bR=function(e,r){for(var i=0;i<r.length;i++){var t=r[i];if(t.type==="mediaSource")return null;if(t.type===e)return i}return null},Hh=function n(e,r){if(r.queue.length!==0){var i=0,t=r.queue[i];if(t.type==="mediaSource"){!r.updating()&&r.mediaSource.readyState!=="closed"&&(r.queue.shift(),t.action(r),t.doneFn&&t.doneFn(),n("audio",r),n("video",r));return}if(e!=="mediaSource"&&!(!r.ready()||r.mediaSource.readyState==="closed"||Qd(e,r))){if(t.type!==e){if(i=bR(e,r.queue),i===null)return;t=r.queue[i]}if(r.queue.splice(i,1),r.queuePending[e]=t,t.action(e,r),!t.doneFn){r.queuePending[e]=null,n(e,r);return}}}},bb=function(e,r){var i=r[e+"Buffer"],t=Tb(e);i&&(i.removeEventListener("updateend",r["on"+t+"UpdateEnd_"]),i.removeEventListener("error",r["on"+t+"Error_"]),r.codecs[e]=null,r[e+"Buffer"]=null)},Cr=function(e,r){return e&&r&&Array.prototype.indexOf.call(e.sourceBuffers,r)!==-1},Kt={appendBuffer:function(e,r,i){return function(t,a){var s=a[t+"Buffer"];if(Cr(a.mediaSource,s)){a.logger_("Appending segment "+r.mediaIndex+"'s "+e.length+" bytes to "+t+"Buffer");try{s.appendBuffer(e)}catch(o){a.logger_("Error with code "+o.code+" "+(o.code===yb?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+r.mediaIndex+" to "+t+"Buffer")),a.queuePending[t]=null,i(o)}}}},remove:function(e,r){return function(i,t){var a=t[i+"Buffer"];if(Cr(t.mediaSource,a)){t.logger_("Removing "+e+" to "+r+" from "+i+"Buffer");try{a.remove(e,r)}catch{t.logger_("Remove "+e+" to "+r+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(r,i){var t=i[r+"Buffer"];Cr(i.mediaSource,t)&&(i.logger_("Setting "+r+"timestampOffset to "+e),t.timestampOffset=e)}},callback:function(e){return function(r,i){e()}},endOfStream:function(e){return function(r){if(r.mediaSource.readyState==="open"){r.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{r.mediaSource.endOfStream(e)}catch(i){U.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(r){r.logger_("Setting mediaSource duration to "+e);try{r.mediaSource.duration=e}catch(i){U.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,r){if(r.mediaSource.readyState==="open"){var i=r[e+"Buffer"];if(Cr(r.mediaSource,i)){r.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(t){U.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},addSourceBuffer:function(e,r){return function(i){var t=Tb(e),a=us(r);i.logger_("Adding "+e+"Buffer with codec "+r+" to mediaSource");var s=i.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",i["on"+t+"UpdateEnd_"]),s.addEventListener("error",i["on"+t+"Error_"]),i.codecs[e]=r,i[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(r){var i=r[e+"Buffer"];if(bb(e,r),!!Cr(r.mediaSource,i)){r.logger_("Removing "+e+"Buffer with codec "+r.codecs[e]+" from mediaSource");try{r.mediaSource.removeSourceBuffer(i)}catch(t){U.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},changeType:function(e){return function(r,i){var t=i[r+"Buffer"],a=us(e);Cr(i.mediaSource,t)&&i.codecs[r]!==e&&(i.logger_("changing "+r+"Buffer codec from "+i.codecs[r]+" to "+e),t.changeType(a),i.codecs[r]=e)}}},Xt=function(e){var r=e.type,i=e.sourceUpdater,t=e.action,a=e.doneFn,s=e.name;i.queue.push({type:r,action:t,doneFn:a,name:s}),Hh(r,i)},pv=function(e,r){return function(i){if(r.queuePending[e]){var t=r.queuePending[e].doneFn;r.queuePending[e]=null,t&&t(r[e+"Error_"])}Hh(e,r)}},Sb=function(n){Y(e,n);function e(i){var t;return t=n.call(this)||this,t.mediaSource=i,t.sourceopenListener_=function(){return Hh("mediaSource",le(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=Tr("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=pv("video",le(t)),t.onAudioUpdateEnd_=pv("audio",le(t)),t.onVideoError_=function(a){t.videoError_=a},t.onAudioError_=function(a){t.audioError_=a},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}var r=e.prototype;return r.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},r.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},r.hasInitializedAnyEme=function(){return this.initializedEme_},r.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},r.createSourceBuffers=function(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},r.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},r.addSourceBuffer=function(t,a){Xt({type:"mediaSource",sourceUpdater:this,action:Kt.addSourceBuffer(t,a),name:"addSourceBuffer"})},r.abort=function(t){Xt({type:t,sourceUpdater:this,action:Kt.abort(t),name:"abort"})},r.removeSourceBuffer=function(t){if(!this.canRemoveSourceBuffer()){U.log.error("removeSourceBuffer is not supported!");return}Xt({type:"mediaSource",sourceUpdater:this,action:Kt.removeSourceBuffer(t),name:"removeSourceBuffer"})},r.canRemoveSourceBuffer=function(){return!U.browser.IE_VERSION&&!U.browser.IS_FIREFOX&&P.MediaSource&&P.MediaSource.prototype&&typeof P.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return P.SourceBuffer&&P.SourceBuffer.prototype&&typeof P.SourceBuffer.prototype.changeType=="function"},r.canChangeType=function(){return this.constructor.canChangeType()},r.changeType=function(t,a){if(!this.canChangeType()){U.log.error("changeType is not supported!");return}Xt({type:t,sourceUpdater:this,action:Kt.changeType(a),name:"changeType"})},r.addOrChangeSourceBuffers=function(t){var a=this;if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(function(s){var o=t[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,o);a.canChangeType()&&a.changeType(s,o)})},r.appendBuffer=function(t,a){var s=this,o=t.segmentInfo,u=t.type,l=t.bytes;if(this.processedAppend_=!0,u==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([t,a]),this.logger_("delayed audio append of "+l.length+" until video append");return}var c=a;if(Xt({type:u,sourceUpdater:this,action:Kt.appendBuffer(l,o||{mediaIndex:-1},c),doneFn:a,name:"appendBuffer"}),u==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var d=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+d.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,d.forEach(function(f){s.appendBuffer.apply(s,f)})}},r.audioBuffered=function(){return Cr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:U.createTimeRange()},r.videoBuffered=function(){return Cr(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:U.createTimeRange()},r.buffered=function(){var t=Cr(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=Cr(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!t?this.audioBuffered():t&&!a?this.videoBuffered():UO(this.audioBuffered(),this.videoBuffered())},r.setDuration=function(t,a){a===void 0&&(a=Yr),Xt({type:"mediaSource",sourceUpdater:this,action:Kt.duration(t),name:"duration",doneFn:a})},r.endOfStream=function(t,a){t===void 0&&(t=null),a===void 0&&(a=Yr),typeof t!="string"&&(t=void 0),Xt({type:"mediaSource",sourceUpdater:this,action:Kt.endOfStream(t),name:"endOfStream",doneFn:a})},r.removeAudio=function(t,a,s){if(s===void 0&&(s=Yr),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}Xt({type:"audio",sourceUpdater:this,action:Kt.remove(t,a),doneFn:s,name:"remove"})},r.removeVideo=function(t,a,s){if(s===void 0&&(s=Yr),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}Xt({type:"video",sourceUpdater:this,action:Kt.remove(t,a),doneFn:s,name:"remove"})},r.updating=function(){return!!(Qd("audio",this)||Qd("video",this))},r.audioTimestampOffset=function(t){return typeof t<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Xt({type:"audio",sourceUpdater:this,action:Kt.timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},r.videoTimestampOffset=function(t){return typeof t<"u"&&this.videoBuffer&&this.videoTimestampOffset!==t&&(Xt({type:"video",sourceUpdater:this,action:Kt.timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},r.audioQueueCallback=function(t){this.audioBuffer&&Xt({type:"audio",sourceUpdater:this,action:Kt.callback(t),name:"callback"})},r.videoQueueCallback=function(t){this.videoBuffer&&Xt({type:"video",sourceUpdater:this,action:Kt.callback(t),name:"callback"})},r.dispose=function(){var t=this;this.trigger("dispose"),TR.forEach(function(a){t.abort(a),t.canRemoveSourceBuffer()?t.removeSourceBuffer(a):t[a+"QueueCallback"](function(){return bb(a,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(U.EventTarget),mv=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},gv=new Uint8Array(`

`.split("").map(function(n){return n.charCodeAt(0)})),SR=function(n){Y(e,n);function e(){return n.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e}(Od(Error)),xR=function(n){Y(e,n);function e(i,t){var a;return t===void 0&&(t={}),a=n.call(this,i,t)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=i.featuresNativeTextTracks,a.loadVttJs=i.loadVttJs,a.shouldSaveSegmentTimingInfo_=!1,a}var r=e.prototype;return r.createTransmuxer_=function(){return null},r.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return U.createTimeRanges();var t=this.subtitlesTrack_.cues,a=t[0].startTime,s=t[t.length-1].startTime;return U.createTimeRanges([[a,s]])},r.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=ou(t),o=this.initSegments_[s];if(a&&!o&&t.bytes){var u=gv.byteLength+t.bytes.byteLength,l=new Uint8Array(u);l.set(t.bytes),l.set(gv,t.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:l}}return o||t},r.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.track=function(t){return typeof t>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},r.remove=function(t,a){Ua(t,a,this.subtitlesTrack_)},r.fillBuffer_=function(){var t=this,a=this.chooseNextRequest_();if(a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){t.state="READY",t.paused()||t.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},r.timestampOffsetForSegment_=function(){return null},r.chooseNextRequest_=function(){return this.skipEmptySegments_(n.prototype.chooseNextRequest_.call(this))},r.skipEmptySegments_=function(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t},r.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},r.segmentRequestFinished_=function(t,a,s){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(t){t.code===Pr.TIMEOUT&&this.handleTimeout_(),t.code===Pr.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(t);return}var u=this.pendingSegment_;this.saveBandwidthRelatedStats_(u.duration,a.stats),a.key&&this.segmentKey(a.key,!0),this.state="APPENDING",this.trigger("appending");var l=u.segment;if(l.map&&(l.map.bytes=a.map.bytes),u.bytes=a.bytes,typeof P.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return o.segmentRequestFinished_(t,a,s)},function(){return o.stopForError({message:"Error loading vtt.js"})});return}l.requested=!0;try{this.parseVTTCues_(u)}catch(c){this.stopForError({message:c.message});return}if(this.updateTimeMapping_(u,this.syncController_.timelines[u.timeline],this.playlist_),u.cues.length?u.timingInfo={start:u.cues[0].startTime,end:u.cues[u.cues.length-1].endTime}:u.timingInfo={start:u.startOfSegment,end:u.startOfSegment+u.duration},u.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}u.byteLength=u.bytes.byteLength,this.mediaSecondsLoaded+=l.duration,u.cues.forEach(function(c){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new P.VTTCue(c.startTime,c.endTime,c.text):c)}),uR(this.subtitlesTrack_),this.handleAppendsDone_()},r.handleData_=function(){},r.updateTimingInfoEnd_=function(){},r.parseVTTCues_=function(t){var a,s=!1;if(typeof P.WebVTT!="function")throw new SR;typeof P.TextDecoder=="function"?a=new P.TextDecoder("utf8"):(a=P.WebVTT.StringDecoder(),s=!0);var o=new P.WebVTT.Parser(P,P.vttjs,a);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=t.cues.push.bind(t.cues),o.ontimestampmap=function(c){t.timestampmap=c},o.onparsingerror=function(c){U.log.warn("Error encountered when parsing cues: "+c.message)},t.segment.map){var u=t.segment.map.bytes;s&&(u=mv(u)),o.parse(u)}var l=t.bytes;s&&(l=mv(l)),o.parse(l),o.flush()},r.updateTimeMapping_=function(t,a,s){var o=t.segment;if(a){if(!t.cues.length){o.empty=!0;return}var u=t.timestampmap,l=u.MPEGTS/Xo.ONE_SECOND_IN_TS-u.LOCAL+a.mapping;if(t.cues.forEach(function(f){f.startTime+=l,f.endTime+=l}),!s.syncInfo){var c=t.cues[0].startTime,d=t.cues[t.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+t.mediaIndex,time:Math.min(c,d-o.duration)}}}},e}(Yd),ER=function(e,r){for(var i=e.cues,t=0;t<i.length;t++){var a=i[t];if(r>=a.adStartTime&&r<=a.adEndTime)return a}return null},CR=function(e,r,i){if(i===void 0&&(i=0),!!e.segments)for(var t=i,a,s=0;s<e.segments.length;s++){var o=e.segments[s];if(a||(a=ER(r,t+o.duration/2)),a){if("cueIn"in o){a.endTime=t,a.adEndTime=t,t+=o.duration,a=null;continue}if(t<a.endTime){t+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&(a=new P.VTTCue(t,t+o.duration,o.cueOut),a.adStartTime=t,a.adEndTime=t+parseFloat(o.cueOut),r.addCue(a)),"cueOutCont"in o){var u=o.cueOutCont.split("/").map(parseFloat),l=u[0],c=u[1];a=new P.VTTCue(t,t+o.duration,""),a.adStartTime=t-l,a.adEndTime=a.adStartTime+c,r.addCue(a)}t+=o.duration}},wR=86400,vv=[{name:"VOD",run:function(e,r,i,t,a){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,r,i,t,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,o=null,u=Hd(r);a=a||0;for(var l=0;l<u.length;l++){var c=r.endList||a===0?l:u.length-(l+1),d=u[c],f=d.segment,p=e.timelineToDatetimeMappings[f.timeline];if(!(!p||!f.dateTimeObject)){var y=f.dateTimeObject.getTime()/1e3,_=y+p;if(f.parts&&typeof d.partIndex=="number")for(var T=0;T<d.partIndex;T++)_+=f.parts[T].duration;var E=Math.abs(a-_);if(o!==null&&(E===0||o<E))break;o=E,s={time:_,segmentIndex:d.segmentIndex,partIndex:d.partIndex}}}return s}},{name:"Segment",run:function(e,r,i,t,a){var s=null,o=null;a=a||0;for(var u=Hd(r),l=0;l<u.length;l++){var c=r.endList||a===0?l:u.length-(l+1),d=u[c],f=d.segment,p=d.part&&d.part.start||f&&f.start;if(f.timeline===t&&typeof p<"u"){var y=Math.abs(a-p);if(o!==null&&o<y)break;(!s||o===null||o>=y)&&(o=y,s={time:p,segmentIndex:d.segmentIndex,partIndex:d.partIndex})}}return s}},{name:"Discontinuity",run:function(e,r,i,t,a){var s=null;if(a=a||0,r.discontinuityStarts&&r.discontinuityStarts.length)for(var o=null,u=0;u<r.discontinuityStarts.length;u++){var l=r.discontinuityStarts[u],c=r.discontinuitySequence+u+1,d=e.discontinuities[c];if(d){var f=Math.abs(a-d.time);if(o!==null&&o<f)break;(!s||o===null||o>=f)&&(o=f,s={time:d.time,segmentIndex:l,partIndex:null})}}return s}},{name:"Playlist",run:function(e,r,i,t,a){if(r.syncInfo){var s={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence,partIndex:null};return s}return null}}],AR=function(n){Y(e,n);function e(i){var t;return t=n.call(this)||this,t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=Tr("SyncController"),t}var r=e.prototype;return r.getSyncPoint=function(t,a,s,o){var u=this.runStrategies_(t,a,s,o);return u.length?this.selectSyncPoint_(u,{key:"time",value:o}):null},r.getExpiredTime=function(t,a){if(!t||!t.segments)return null;var s=this.runStrategies_(t,a,t.discontinuitySequence,0);if(!s.length)return null;var o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+Xa({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:o.segmentIndex,endIndex:0}))},r.runStrategies_=function(t,a,s,o){for(var u=[],l=0;l<vv.length;l++){var c=vv[l],d=c.run(this,t,a,s,o);d&&(d.strategy=c.name,u.push({strategy:c.name,syncPoint:d}))}return u},r.selectSyncPoint_=function(t,a){for(var s=t[0].syncPoint,o=Math.abs(t[0].syncPoint[a.key]-a.value),u=t[0].strategy,l=1;l<t.length;l++){var c=Math.abs(t[l].syncPoint[a.key]-a.value);c<o&&(o=c,s=t[l].syncPoint,u=t[l].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+u+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},r.saveExpiredSegmentInfo=function(t,a){var s=a.mediaSequence-t.mediaSequence;if(s>wR){U.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var o=s-1;o>=0;o--){var u=t.segments[o];if(u&&typeof u.start<"u"){a.syncInfo={mediaSequence:t.mediaSequence+o,time:u.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},r.setDateTimeMappingForStart=function(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var a=t.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},r.saveSegmentTimingInfo=function(t){var a=t.segmentInfo,s=t.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),u=a.segment;o&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:u.start}));var l=u.dateTimeObject;u.discontinuity&&s&&l&&(this.timelineToDatetimeMappings[u.timeline]=-(l.getTime()/1e3))},r.timestampOffsetForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].time},r.mappingForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].mapping},r.calculateSegmentTimeMapping_=function(t,a,s){var o=t.segment,u=t.part,l=this.timelines[t.timeline],c,d;if(typeof t.timestampOffset=="number")l={time:t.startOfSegment,mapping:t.startOfSegment-a.start},s&&(this.timelines[t.timeline]=l,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": "+("[time: "+l.time+"] [mapping: "+l.mapping+"]"))),c=t.startOfSegment,d=a.end+l.mapping;else if(l)c=a.start+l.mapping,d=a.end+l.mapping;else return!1;return u&&(u.start=c,u.end=d),(!o.start||c<o.start)&&(o.start=c),o.end=d,!0},r.saveDiscontinuitySyncInfo_=function(t){var a=t.playlist,s=t.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var o=0;o<a.discontinuityStarts.length;o++){var u=a.discontinuityStarts[o],l=a.discontinuitySequence+o+1,c=u-t.mediaIndex,d=Math.abs(c);if(!this.discontinuities[l]||this.discontinuities[l].accuracy>d){var f=void 0;c<0?f=s.start-Xa({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex,endIndex:u}):f=s.end+Xa({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex+1,endIndex:u}),this.discontinuities[l]={time:f,accuracy:d}}}},r.dispose=function(){this.trigger("dispose"),this.off()},e}(U.EventTarget),DR=function(n){Y(e,n);function e(){var i;return i=n.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var r=e.prototype;return r.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},r.pendingTimelineChange=function(t){var a=t.type,s=t.from,o=t.to;return typeof s=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},r.lastTimelineChange=function(t){var a=t.type,s=t.from,o=t.to;return typeof s=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:o},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},r.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(U.EventTarget),kR=ub(lb(function(){var n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(k,D,N){return N={path:D,exports:{},require:function(L,O){return r(L,O??N.path)}},k(N,N.exports),N.exports}function r(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=e(function(k){function D(M,L){for(var O=0;O<L.length;O++){var j=L[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}function N(M,L,O){return L&&D(M.prototype,L),O&&D(M,O),M}k.exports=N,k.exports.default=k.exports,k.exports.__esModule=!0}),t=e(function(k){function D(N,M){return k.exports=D=Object.setPrototypeOf||function(O,j){return O.__proto__=j,O},k.exports.default=k.exports,k.exports.__esModule=!0,D(N,M)}k.exports=D,k.exports.default=k.exports,k.exports.__esModule=!0}),a=e(function(k){function D(N,M){N.prototype=Object.create(M.prototype),N.prototype.constructor=N,t(N,M)}k.exports=D,k.exports.default=k.exports,k.exports.__esModule=!0}),s=function(){function k(){this.listeners={}}var D=k.prototype;return D.on=function(M,L){this.listeners[M]||(this.listeners[M]=[]),this.listeners[M].push(L)},D.off=function(M,L){if(!this.listeners[M])return!1;var O=this.listeners[M].indexOf(L);return this.listeners[M]=this.listeners[M].slice(0),this.listeners[M].splice(O,1),O>-1},D.trigger=function(M){var L=this.listeners[M];if(L)if(arguments.length===2)for(var O=L.length,j=0;j<O;++j)L[j].call(this,arguments[1]);else for(var q=Array.prototype.slice.call(arguments,1),H=L.length,G=0;G<H;++G)L[G].apply(this,q)},D.dispose=function(){this.listeners={}},D.pipe=function(M){this.on("data",function(L){M.push(L)})},k}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function o(k){return k.subarray(0,k.byteLength-k[k.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var u=function(){var D=[[[],[],[],[],[]],[[],[],[],[],[]]],N=D[0],M=D[1],L=N[4],O=M[4],j,q,H,G=[],re=[],ie,X,ne,de,Ne,pe;for(j=0;j<256;j++)re[(G[j]=j<<1^(j>>7)*283)^j]=j;for(q=H=0;!L[q];q^=ie||1,H=re[H]||1)for(de=H^H<<1^H<<2^H<<3^H<<4,de=de>>8^de&255^99,L[q]=de,O[de]=q,ne=G[X=G[ie=G[q]]],pe=ne*16843009^X*65537^ie*257^q*16843008,Ne=G[de]*257^de*16843008,j=0;j<4;j++)N[j][q]=Ne=Ne<<24^Ne>>>8,M[j][de]=pe=pe<<24^pe>>>8;for(j=0;j<5;j++)N[j]=N[j].slice(0),M[j]=M[j].slice(0);return D},l=null,c=function(){function k(N){l||(l=u()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var M,L,O,j=this._tables[0][4],q=this._tables[1],H=N.length,G=1;if(H!==4&&H!==6&&H!==8)throw new Error("Invalid aes key size");var re=N.slice(0),ie=[];for(this._key=[re,ie],M=H;M<4*H+28;M++)O=re[M-1],(M%H===0||H===8&&M%H===4)&&(O=j[O>>>24]<<24^j[O>>16&255]<<16^j[O>>8&255]<<8^j[O&255],M%H===0&&(O=O<<8^O>>>24^G<<24,G=G<<1^(G>>7)*283)),re[M]=re[M-H]^O;for(L=0;M;L++,M--)O=re[L&3?M:M-4],M<=4||L<4?ie[L]=O:ie[L]=q[0][j[O>>>24]]^q[1][j[O>>16&255]]^q[2][j[O>>8&255]]^q[3][j[O&255]]}var D=k.prototype;return D.decrypt=function(M,L,O,j,q,H){var G=this._key[1],re=M^G[0],ie=j^G[1],X=O^G[2],ne=L^G[3],de,Ne,pe,qt=G.length/4-2,Le,pt=4,Be=this._tables[1],rt=Be[0],lt=Be[1],W=Be[2],te=Be[3],J=Be[4];for(Le=0;Le<qt;Le++)de=rt[re>>>24]^lt[ie>>16&255]^W[X>>8&255]^te[ne&255]^G[pt],Ne=rt[ie>>>24]^lt[X>>16&255]^W[ne>>8&255]^te[re&255]^G[pt+1],pe=rt[X>>>24]^lt[ne>>16&255]^W[re>>8&255]^te[ie&255]^G[pt+2],ne=rt[ne>>>24]^lt[re>>16&255]^W[ie>>8&255]^te[X&255]^G[pt+3],pt+=4,re=de,ie=Ne,X=pe;for(Le=0;Le<4;Le++)q[(3&-Le)+H]=J[re>>>24]<<24^J[ie>>16&255]<<16^J[X>>8&255]<<8^J[ne&255]^G[pt++],de=re,re=ie,ie=X,X=ne,ne=de},k}(),d=function(k){a(D,k);function D(){var M;return M=k.call(this,s)||this,M.jobs=[],M.delay=1,M.timeout_=null,M}var N=D.prototype;return N.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},N.push=function(L){this.jobs.push(L),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},D}(s),f=function(D){return D<<24|(D&65280)<<8|(D&16711680)>>8|D>>>24},p=function(D,N,M){var L=new Int32Array(D.buffer,D.byteOffset,D.byteLength>>2),O=new c(Array.prototype.slice.call(N)),j=new Uint8Array(D.byteLength),q=new Int32Array(j.buffer),H,G,re,ie,X,ne,de,Ne,pe;for(H=M[0],G=M[1],re=M[2],ie=M[3],pe=0;pe<L.length;pe+=4)X=f(L[pe]),ne=f(L[pe+1]),de=f(L[pe+2]),Ne=f(L[pe+3]),O.decrypt(X,ne,de,Ne,q,pe),q[pe]=f(q[pe]^H),q[pe+1]=f(q[pe+1]^G),q[pe+2]=f(q[pe+2]^re),q[pe+3]=f(q[pe+3]^ie),H=X,G=ne,re=de,ie=Ne;return j},y=function(){function k(N,M,L,O){var j=k.STEP,q=new Int32Array(N.buffer),H=new Uint8Array(N.byteLength),G=0;for(this.asyncStream_=new d,this.asyncStream_.push(this.decryptChunk_(q.subarray(G,G+j),M,L,H)),G=j;G<q.length;G+=j)L=new Uint32Array([f(q[G-4]),f(q[G-3]),f(q[G-2]),f(q[G-1])]),this.asyncStream_.push(this.decryptChunk_(q.subarray(G,G+j),M,L,H));this.asyncStream_.push(function(){O(null,o(H))})}var D=k.prototype;return D.decryptChunk_=function(M,L,O,j){return function(){var q=p(M,L,O);j.set(q,M.byteOffset)}},i(k,null,[{key:"STEP",get:function(){return 32e3}}]),k}(),_;typeof window<"u"?_=window:typeof n<"u"?_=n:typeof self<"u"?_=self:_={};var T=_,E=function(D){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(D):D&&D.buffer instanceof ArrayBuffer},C=T.BigInt||Number;C("0x1"),C("0x100"),C("0x10000"),C("0x1000000"),C("0x100000000"),C("0x10000000000"),C("0x1000000000000"),C("0x100000000000000"),C("0x10000000000000000");var I=function(D){var N={};return Object.keys(D).forEach(function(M){var L=D[M];E(L)?N[M]={bytes:L.buffer,byteOffset:L.byteOffset,byteLength:L.byteLength}:N[M]=L}),N};self.onmessage=function(k){var D=k.data,N=new Uint8Array(D.encrypted.bytes,D.encrypted.byteOffset,D.encrypted.byteLength),M=new Uint32Array(D.key.bytes,D.key.byteOffset,D.key.byteLength/4),L=new Uint32Array(D.iv.bytes,D.iv.byteOffset,D.iv.byteLength/4);new y(N,M,L,function(O,j){self.postMessage(I({source:D.source,decrypted:j}),[j.buffer])})}})),PR=ob(kR),IR=function(e){var r=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(r="main-desc"),r},du=function(e,r){e.abort(),e.pause(),r&&r.activePlaylistLoader&&(r.activePlaylistLoader.pause(),r.activePlaylistLoader=null)},Jd=function(e,r){r.activePlaylistLoader=e,e.load()},OR=function(e,r){return function(){var i=r.segmentLoaders,t=i[e],a=i.main,s=r.mediaTypes[e],o=s.activeTrack(),u=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastGroup_;if(!(u&&c&&u.id===c.id)&&(s.lastGroup_=u,s.lastTrack_=o,du(t,s),!(!u||u.isMasterPlaylist))){if(!u.playlistLoader){l&&a.resetEverything();return}t.resyncLoader(),Jd(u.playlistLoader,s)}}},LR=function(e,r){return function(){var i=r.segmentLoaders[e],t=r.mediaTypes[e];t.lastGroup_=null,i.abort(),i.pause()}},RR=function(e,r){return function(){var i=r.masterPlaylistLoader,t=r.segmentLoaders,a=t[e],s=t.main,o=r.mediaTypes[e],u=o.activeTrack(),l=o.getActiveGroup(),c=o.activePlaylistLoader,d=o.lastTrack_;if(!(d&&u&&d.id===u.id)&&(o.lastGroup_=l,o.lastTrack_=u,du(a,o),!!l)){if(l.isMasterPlaylist){if(!u||!d||u.id===d.id)return;var f=r.vhs.masterPlaylistController_,p=f.selectPlaylist();if(f.media()===p)return;o.logger_("track change. Switching master audio from "+d.id+" to "+u.id),i.pause(),s.resetEverything(),f.fastQualityChange_(p);return}if(e==="AUDIO"){if(!l.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(c===l.playlistLoader){Jd(l.playlistLoader,o);return}a.track&&a.track(u),a.resetEverything(),Jd(l.playlistLoader,o)}}},fu={AUDIO:function(e,r){return function(){var i=r.segmentLoaders[e],t=r.mediaTypes[e],a=r.blacklistCurrentPlaylist;du(i,t);var s=t.activeTrack(),o=t.activeGroup(),u=(o.filter(function(d){return d.default})[0]||o[0]).id,l=t.tracks[u];if(s===l){a({message:"Problem encountered loading the default audio track."});return}U.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in t.tracks)t.tracks[c].enabled=t.tracks[c]===l;t.onTrackChanged()}},SUBTITLES:function(e,r){return function(){var i=r.segmentLoaders[e],t=r.mediaTypes[e];U.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),du(i,t);var a=t.activeTrack();a&&(a.mode="disabled"),t.onTrackChanged()}}},_v={AUDIO:function(e,r,i){if(r){var t=i.tech,a=i.requestOptions,s=i.segmentLoaders[e];r.on("loadedmetadata",function(){var o=r.media();s.playlist(o,a),(!t.paused()||o.endList&&t.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),a),t.paused()||s.load()}),r.on("error",fu[e](e,i))}},SUBTITLES:function(e,r,i){var t=i.tech,a=i.requestOptions,s=i.segmentLoaders[e],o=i.mediaTypes[e];r.on("loadedmetadata",function(){var u=r.media();s.playlist(u,a),s.track(o.activeTrack()),(!t.paused()||u.endList&&t.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),a),t.paused()||s.load()}),r.on("error",fu[e](e,i))}},MR={AUDIO:function(e,r){var i=r.vhs,t=r.sourceType,a=r.segmentLoaders[e],s=r.requestOptions,o=r.master.mediaGroups,u=r.mediaTypes[e],l=u.groups,c=u.tracks,d=u.logger_,f=r.masterPlaylistLoader,p=Os(f.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},p&&(o[e].main.default.playlists=f.master.playlists));for(var y in o[e]){l[y]||(l[y]=[]);for(var _ in o[e][y]){var T=o[e][y][_],E=void 0;if(p?(d("AUDIO group '"+y+"' label '"+_+"' is a master playlist"),T.isMasterPlaylist=!0,E=null):t==="vhs-json"&&T.playlists?E=new Rn(T.playlists[0],i,s):T.resolvedUri?E=new Rn(T.resolvedUri,i,s):T.playlists&&t==="dash"?E=new Kd(T.playlists[0],i,s,f):E=null,T=U.mergeOptions({id:_,playlistLoader:E},T),_v[e](e,T.playlistLoader,r),l[y].push(T),typeof c[_]>"u"){var C=new U.AudioTrack({id:_,kind:IR(T),enabled:!1,language:T.language,default:T.default,label:_});c[_]=C}}}a.on("error",fu[e](e,r))},SUBTITLES:function(e,r){var i=r.tech,t=r.vhs,a=r.sourceType,s=r.segmentLoaders[e],o=r.requestOptions,u=r.master.mediaGroups,l=r.mediaTypes[e],c=l.groups,d=l.tracks,f=r.masterPlaylistLoader;for(var p in u[e]){c[p]||(c[p]=[]);for(var y in u[e][p])if(!u[e][p][y].forced){var _=u[e][p][y],T=void 0;if(a==="hls")T=new Rn(_.resolvedUri,t,o);else if(a==="dash"){var E=_.playlists.filter(function(I){return I.excludeUntil!==1/0});if(!E.length)return;T=new Kd(_.playlists[0],t,o,f)}else a==="vhs-json"&&(T=new Rn(_.playlists?_.playlists[0]:_.resolvedUri,t,o));if(_=U.mergeOptions({id:y,playlistLoader:T},_),_v[e](e,_.playlistLoader,r),c[p].push(_),typeof d[y]>"u"){var C=i.addRemoteTextTrack({id:y,kind:"subtitles",default:_.default&&_.autoselect,language:_.language,label:y},!1).track;d[y]=C}}}s.on("error",fu[e](e,r))},"CLOSED-CAPTIONS":function(e,r){var i=r.tech,t=r.master.mediaGroups,a=r.mediaTypes[e],s=a.groups,o=a.tracks;for(var u in t[e]){s[u]||(s[u]=[]);for(var l in t[e][u]){var c=t[e][u][l];if(/^(?:CC|SERVICE)/.test(c.instreamId)){var d=i.options_.vhs&&i.options_.vhs.captionServices||{},f={label:l,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(d[f.instreamId]&&(f=U.mergeOptions(f,d[f.instreamId])),f.default===void 0&&delete f.default,s[u].push(U.mergeOptions({id:l},c)),typeof o[l]>"u"){var p=i.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[l]=p}}}}}},FR=function n(e,r){for(var i=0;i<e.length;i++)if(Bh(r,e[i])||e[i].playlists&&n(e[i].playlists,r))return!0;return!1},NR=function(e,r){return function(i){var t=r.masterPlaylistLoader,a=r.mediaTypes[e].groups,s=t.media();if(!s)return null;var o=null;s.attributes[e]&&(o=a[s.attributes[e]]);var u=Object.keys(a);if(!o)if(e==="AUDIO"&&u.length>1&&Os(r.master))for(var l=0;l<u.length;l++){var c=a[u[l]];if(FR(c,s)){o=c;break}}else a.main?o=a.main:u.length===1&&(o=a[u[0]]);return typeof i>"u"?o:i===null||!o?null:o.filter(function(d){return d.id===i.id})[0]||null}},BR={AUDIO:function(e,r){return function(){var i=r.mediaTypes[e].tracks;for(var t in i)if(i[t].enabled)return i[t];return null}},SUBTITLES:function(e,r){return function(){var i=r.mediaTypes[e].tracks;for(var t in i)if(i[t].mode==="showing"||i[t].mode==="hidden")return i[t];return null}}},UR=function(e,r){var i=r.mediaTypes;return function(){var t=i[e].activeTrack();return t?i[e].activeGroup(t):null}},jR=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(y){MR[y](y,e)});var r=e.mediaTypes,i=e.masterPlaylistLoader,t=e.tech,a=e.vhs,s=e.segmentLoaders,o=s.AUDIO,u=s.main;["AUDIO","SUBTITLES"].forEach(function(y){r[y].activeGroup=NR(y,e),r[y].activeTrack=BR[y](y,e),r[y].onGroupChanged=OR(y,e),r[y].onGroupChanging=LR(y,e),r[y].onTrackChanged=RR(y,e),r[y].getActiveGroup=UR(y,e)});var l=r.AUDIO.activeGroup();if(l){var c=(l.filter(function(y){return y.default})[0]||l[0]).id;r.AUDIO.tracks[c].enabled=!0,r.AUDIO.onGroupChanged(),r.AUDIO.onTrackChanged();var d=r.AUDIO.getActiveGroup();d.playlistLoader?(u.setAudio(!1),o.setAudio(!0)):u.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(y){return r[y].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(y){return r[y].onGroupChanging()})});var f=function(){r.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"vhs-audio-change"}),t.trigger({type:"usage",name:"hls-audio-change"})};t.audioTracks().addEventListener("change",f),t.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged),a.on("dispose",function(){t.audioTracks().removeEventListener("change",f),t.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)}),t.clearTracks("audio");for(var p in r.AUDIO.tracks)t.audioTracks().addTrack(r.AUDIO.tracks[p])},VR=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(r){e[r]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Yr,activeTrack:Yr,getActiveGroup:Yr,onGroupChanged:Yr,onTrackChanged:Yr,lastTrack_:null,logger_:Tr("MediaGroups["+r+"]")}}),e},HR=60*2,qr,qR=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],WR=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},zR=function(e){var r=e.currentPlaylist,i=e.buffered,t=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,o=e.bufferHighWaterLine,u=e.duration,l=e.experimentalBufferBasedABR,c=e.log;if(!a)return U.log.warn("We received no playlist to switch to. Please check your stream."),!1;var d="allowing switch "+(r&&r.id||"null")+" -> "+a.id;if(!r)return c(d+" as current playlist is not set"),!0;if(a.id===r.id)return!1;var f=!!Ln(i,t).length;if(!r.endList)return!f&&typeof r.partTargetDuration=="number"?(c("not "+d+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(c(d+" as current playlist is live"),!0);var p=Mh(i,t),y=l?it.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:it.MAX_BUFFER_LOW_WATER_LINE;if(u<y)return c(d+" as duration < max low water line ("+u+" < "+y+")"),!0;var _=a.attributes.BANDWIDTH,T=r.attributes.BANDWIDTH;if(_<T&&(!l||p<o)){var E=d+" as next bandwidth < current bandwidth ("+_+" < "+T+")";return l&&(E+=" and forwardBuffer < bufferHighWaterLine ("+p+" < "+o+")"),c(E),!0}if((!l||_>T)&&p>=s){var C=d+" as forwardBuffer >= bufferLowWaterLine ("+p+" >= "+s+")";return l&&(C+=" and next bandwidth > current bandwidth ("+_+" > "+T+")"),c(C),!0}return c("not "+d+" as no switching criteria met"),!1},GR=function(n){Y(e,n);function e(i){var t;t=n.call(this)||this;var a=i.src,s=i.handleManifestRedirects,o=i.withCredentials,u=i.tech,l=i.bandwidth,c=i.externVhs,d=i.useCueTags,f=i.blacklistDuration,p=i.enableLowInitialPlaylist,y=i.sourceType,_=i.cacheEncryptionKeys,T=i.experimentalBufferBasedABR,E=i.experimentalLeastPixelDiffSelector,C=i.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var I=i.maxPlaylistRetries;(I===null||typeof I>"u")&&(I=1/0),qr=c,t.experimentalBufferBasedABR=!!T,t.experimentalLeastPixelDiffSelector=!!E,t.withCredentials=o,t.tech_=u,t.vhs_=u.vhs,t.sourceType_=y,t.useCueTags_=d,t.blacklistDuration=f,t.maxPlaylistRetries=I,t.enableLowInitialPlaylist=p,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:I,timeout:null},t.on("error",t.pauseLoading),t.mediaTypes_=VR(),t.mediaSource=new P.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(le(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(le(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(le(t)),t.mediaSource.addEventListener("durationchange",t.handleDurationChange_),t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_),t.mediaSource.addEventListener("sourceended",t.handleSourceEnded_),t.seekable_=U.createTimeRanges(),t.hasPlayed_=!1,t.syncController_=new AR(i),t.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new PR,t.sourceUpdater_=new Sb(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=new DR;var k={vhs:t.vhs_,parse708captions:i.parse708captions,useDtsForTimestampOffset:i.useDtsForTimestampOffset,captionServices:C,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.duration()},hasPlayed:function(){return t.hasPlayed_},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:l,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:_,sourceUpdater:t.sourceUpdater_,timelineChangeController:t.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};t.masterPlaylistLoader_=t.sourceType_==="dash"?new Kd(a,t.vhs_,t.requestOptions_):new Rn(a,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new Yd(U.mergeOptions(k,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),i),t.audioSegmentLoader_=new Yd(U.mergeOptions(k,{loaderType:"audio"}),i),t.subtitleSegmentLoader_=new xR(U.mergeOptions(k,{loaderType:"vtt",featuresNativeTextTracks:t.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(M,L){function O(){u.off("vttjserror",j),M()}function j(){u.off("vttjsloaded",O),L()}u.one("vttjsloaded",O),u.one("vttjserror",j),u.addWebVttScript_()})}}),i),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&&(t.masterPlaylistLoader_.one("loadedplaylist",function(){return t.startABRTimer_()}),t.tech_.on("pause",function(){return t.stopABRTimer_()}),t.tech_.on("play",function(){return t.startABRTimer_()})),qR.forEach(function(N){t[N+"_"]=WR.bind(le(t),N)}),t.logger_=Tr("MPC"),t.triggeredFmp4Usage=!1,t.tech_.preload()==="none"?(t.loadOnPlay_=function(){t.loadOnPlay_=null,t.masterPlaylistLoader_.load()},t.tech_.one("play",t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=-1,t.mainAppendsToLoadedData__=-1,t.audioAppendsToLoadedData__=-1;var D=t.tech_.preload()==="none"?"play":"loadstart";return t.tech_.one(D,function(){var N=Date.now();t.tech_.one("loadeddata",function(){t.timeToLoadedData__=Date.now()-N,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}var r=e.prototype;return r.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},r.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},r.appendsToLoadedData_=function(){var t=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return t===-1||a===-1?-1:t+a},r.timeToLoadedData_=function(){return this.timeToLoadedData__},r.checkABR_=function(t){t===void 0&&(t="abr");var a=this.selectPlaylist();a&&this.shouldSwitchToMedia_(a)&&this.switchMedia_(a,t)},r.switchMedia_=function(t,a,s){var o=this.media(),u=o&&(o.id||o.uri),l=t.id||t.uri;u&&u!==l&&(this.logger_("switch media "+u+" -> "+l+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(t,s)},r.startABRTimer_=function(){var t=this;this.stopABRTimer_(),this.abrTimer_=P.setInterval(function(){return t.checkABR_()},250)},r.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(P.clearInterval(this.abrTimer_),this.abrTimer_=null)},r.getAudioTrackPlaylists_=function(){var t=this.master(),a=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return a;var s=t.mediaGroups.AUDIO,o=Object.keys(s),u;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)u=this.mediaTypes_.AUDIO.activeTrack();else{var l=s.main||o.length&&s[o[0]];for(var c in l)if(l[c].default){u={label:c};break}}if(!u)return a;var d=[];for(var f in s)if(s[f][u.label]){var p=s[f][u.label];if(p.playlists&&p.playlists.length)d.push.apply(d,p.playlists);else if(p.uri)d.push(p);else if(t.playlists.length)for(var y=0;y<t.playlists.length;y++){var _=t.playlists[y];_.attributes&&_.attributes.AUDIO&&_.attributes.AUDIO===f&&d.push(_)}}return d.length?d:a},r.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;qd(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,a.endList&&t.tech_.preload()!=="none"&&(t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load()),jR({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),a),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){t.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){t.loadOnPlay_&&t.tech_.off("play",t.loadOnPlay_);var a=t.masterPlaylistLoader_.media();if(!a){t.excludeUnsupportedVariants_();var s;if(t.enableLowInitialPlaylist&&(s=t.selectInitialPlaylist()),s||(s=t.selectPlaylist()),!s||!t.shouldSwitchToMedia_(s))return;t.initialMedia_=s,t.switchMedia_(t.initialMedia_,"initial");var o=t.sourceType_==="vhs-json"&&t.initialMedia_.segments;if(!o)return;a=t.initialMedia_}t.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;qd(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,t.masterPlaylistLoader_.load(),t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=t.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=t.stuckAtPlaylistEnd_(a);s&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),t.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},r.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},r.triggerPresenceUsage_=function(t,a){var s=t.mediaGroups||{},o=!0,u=Object.keys(s.AUDIO);for(var l in s.AUDIO)for(var c in s.AUDIO[l]){var d=s.AUDIO[l][c];d.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),qr.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),u.length&&Object.keys(s.AUDIO[u[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},r.shouldSwitchToMedia_=function(t){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),u=this.bufferHighWaterLine(),l=this.tech_.buffered();return zR({buffered:l,currentTime:s,currentPlaylist:a,nextPlaylist:t,bufferLowWaterLine:o,bufferHighWaterLine:u,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},r.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){t.checkABR_("bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){t.experimentalBufferBasedABR&&t.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},HR))});var a=function(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var o=t.getCodecsOrExclude_();o&&t.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},r.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},r.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},r.smoothQualityChange_=function(t){t===void 0&&(t=this.selectPlaylist()),this.fastQualityChange_(t)},r.fastQualityChange_=function(t){var a=this;if(t===void 0&&(t=this.selectPlaylist()),t===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){U.browser.IE_VERSION||U.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},r.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0))return this.tech_.setCurrentTime(t.end(t.length-1))}},r.setupFirstPlay=function(){var t=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(U.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(s.end(0)),t.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},r.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();typeof t<"u"&&typeof t.then=="function"&&t.then(null,function(a){})}this.trigger("sourceopen")},r.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(!(!t||!t.length)){var a=this.duration();t[t.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},r.handleDurationChange_=function(){this.tech_.trigger("durationchange")},r.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?t=t&&this.audioSegmentLoader_.ended_:t=this.audioSegmentLoader_.ended_}t&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},r.stuckAtPlaylistEnd_=function(t){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(t,this.duration());if(s===null)return!1;var o=qr.Playlist.playlistEnd(t,s),u=this.tech_.currentTime(),l=this.tech_.buffered();if(!l.length)return o-u<=kr;var c=l.end(l.length-1);return c-u<=kr&&o-c<=kr},r.blacklistCurrentPlaylist=function(t,a){t===void 0&&(t={});var s=t.playlist||this.masterPlaylistLoader_.media();if(a=a||t.blacklistDuration||this.blacklistDuration,!s){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,u=o.filter(zu),l=u.length===1&&u[0]===s;if(o.length===1&&a!==1/0)return U.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(l);if(l){var c=!1;o.forEach(function(E){if(E!==s){var C=E.excludeUntil;typeof C<"u"&&C!==1/0&&(c=!0,delete E.excludeUntil)}}),c&&(U.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var d;s.playlistErrors_>this.maxPlaylistRetries?d=1/0:d=Date.now()+a*1e3,s.excludeUntil=d,t.reason&&(s.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var f=this.selectPlaylist();if(!f){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var p=t.internal?this.logger_:U.log.warn,y=t.message?" "+t.message:"";p((t.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(y+" Switching to playlist "+f.id+".")),f.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),f.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var _=f.targetDuration/2*1e3||5*1e3,T=typeof f.lastRequest=="number"&&Date.now()-f.lastRequest<=_;return this.switchMedia_(f,"exclude",l||T)},r.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},r.delegateLoaders_=function(t,a){var s=this,o=[],u=t==="all";(u||t==="main")&&o.push(this.masterPlaylistLoader_);var l=[];(u||t==="audio")&&l.push("AUDIO"),(u||t==="subtitle")&&(l.push("CLOSED-CAPTIONS"),l.push("SUBTITLES")),l.forEach(function(c){var d=s.mediaTypes_[c]&&s.mediaTypes_[c].activePlaylistLoader;d&&o.push(d)}),["main","audio","subtitle"].forEach(function(c){var d=s[c+"SegmentLoader_"];d&&(t===c||t==="all")&&o.push(d)}),o.forEach(function(c){return a.forEach(function(d){typeof c[d]=="function"&&c[d]()})})},r.setCurrentTime=function(t){var a=Ln(this.tech_.buffered(),t);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return t;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},r.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:qr.Playlist.duration(t):1/0:0},r.seekable=function(){return this.seekable_},r.onSyncInfoUpdate_=function(){var t;if(this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var o=this.masterPlaylistLoader_.master,u=qr.Playlist.seekable(a,s,qr.Playlist.liveEdgeDelay(o,a));if(u.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(t=qr.Playlist.seekable(a,s,qr.Playlist.liveEdgeDelay(o,a)),t.length===0)))){var l,c;this.seekable_&&this.seekable_.length&&(l=this.seekable_.end(0),c=this.seekable_.start(0)),t?t.start(0)>u.end(0)||u.start(0)>t.end(0)?this.seekable_=u:this.seekable_=U.createTimeRanges([[t.start(0)>u.start(0)?t.start(0):u.start(0),t.end(0)<u.end(0)?t.end(0):u.end(0)]]):this.seekable_=u,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===l&&this.seekable_.start(0)===c)&&(this.logger_("seekable updated ["+UT(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},r.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,t),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(t){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),o=qr.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(o=Math.max(o,s.end(s.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},r.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=t.mediaTypes_[a].groups;for(var o in s)s[o].forEach(function(u){u.playlistLoader&&u.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},r.master=function(){return this.masterPlaylistLoader_.master},r.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},r.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=t?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},r.getCodecsOrExclude_=function(){var t=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},s=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();a.video=a.main;var o=Ya(this.master(),s),u={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(u.video=o.video||a.main.videoCodec||hk),a.main.isMuxed&&(u.video+=","+(o.audio||a.main.audioCodec||tg)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||l)&&(u.audio=o.audio||a.main.audioCodec||a.audio.audioCodec||tg,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!u.audio&&!u.video){this.blacklistCurrentPlaylist({playlist:s,message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var c=function(E,C){return E?So(C):yc(C)},d={},f;if(["video","audio"].forEach(function(T){if(u.hasOwnProperty(T)&&!c(a[T].isFmp4,u[T])){var E=a[T].isFmp4?"browser":"muxer";d[E]=d[E]||[],d[E].push(u[T]),T==="audio"&&(f=E)}}),l&&f&&s.attributes.AUDIO){var p=s.attributes.AUDIO;this.master().playlists.forEach(function(T){var E=T.attributes&&T.attributes.AUDIO;E===p&&T!==s&&(T.excludeUntil=1/0)}),this.logger_("excluding audio group "+p+" as "+f+' does not support codec(s): "'+u.audio+'"')}if(Object.keys(d).length){var y=Object.keys(d).reduce(function(T,E){return T&&(T+=", "),T+=E+' does not support codec(s): "'+d[E].join(",")+'"',T},"")+".";this.blacklistCurrentPlaylist({playlist:s,internal:!0,message:y,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var _=[];if(["video","audio"].forEach(function(T){var E=(Er(t.sourceUpdater_.codecs[T]||"")[0]||{}).type,C=(Er(u[T]||"")[0]||{}).type;E&&C&&E.toLowerCase()!==C.toLowerCase()&&_.push('"'+t.sourceUpdater_.codecs[T]+'" -> "'+u[T]+'"')}),_.length){this.blacklistCurrentPlaylist({playlist:s,message:"Codec switching not supported: "+_.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return u},r.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(t){this.sourceUpdater_.createSourceBuffers(t);var a=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},r.excludeUnsupportedVariants_=function(){var t=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(o){var u=a[o];if(s.indexOf(u.id)===-1){s.push(u.id);var l=Ya(t.master,u),c=[];l.audio&&!yc(l.audio)&&!So(l.audio)&&c.push("audio codec "+l.audio),l.video&&!yc(l.video)&&!So(l.video)&&c.push("video codec "+l.video),l.text&&l.text==="stpp.ttml.im1t"&&c.push("text codec "+l.text),c.length&&(u.excludeUntil=1/0,t.logger_("excluding "+u.id+" for unsupported: "+c.join(", ")))}})},r.excludeIncompatibleVariants_=function(t){var a=this,s=[],o=this.master().playlists,u=lu(Er(t)),l=ov(u),c=u.video&&Er(u.video)[0]||null,d=u.audio&&Er(u.audio)[0]||null;Object.keys(o).forEach(function(f){var p=o[f];if(!(s.indexOf(p.id)!==-1||p.excludeUntil===1/0)){s.push(p.id);var y=[],_=Ya(a.masterPlaylistLoader_.master,p),T=ov(_);if(!(!_.audio&&!_.video)){if(T!==l&&y.push('codec count "'+T+'" !== "'+l+'"'),!a.sourceUpdater_.canChangeType()){var E=_.video&&Er(_.video)[0]||null,C=_.audio&&Er(_.audio)[0]||null;E&&c&&E.type.toLowerCase()!==c.type.toLowerCase()&&y.push('video codec "'+E.type+'" !== "'+c.type+'"'),C&&d&&C.type.toLowerCase()!==d.type.toLowerCase()&&y.push('audio codec "'+C.type+'" !== "'+d.type+'"')}y.length&&(p.excludeUntil=1/0,a.logger_("blacklisting "+p.id+": "+y.join(" && ")))}}})},r.updateAdCues_=function(t){var a=0,s=this.seekable();s.length&&(a=s.start(0)),CR(t,this.cueTagsTrack_,a)},r.goalBufferLength=function(){var t=this.tech_.currentTime(),a=it.GOAL_BUFFER_LENGTH,s=it.GOAL_BUFFER_LENGTH_RATE,o=Math.max(a,it.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+t*s,o)},r.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),a=it.BUFFER_LOW_WATER_LINE,s=it.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(a,it.MAX_BUFFER_LOW_WATER_LINE),u=Math.max(a,it.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+t*s,this.experimentalBufferBasedABR?u:o)},r.bufferHighWaterLine=function(){return it.BUFFER_HIGH_WATER_LINE},e}(U.EventTarget),$R=function(e,r,i){return function(t){var a=e.master.playlists[r],s=Nh(a),o=zu(a);return typeof t>"u"?o:(t?delete a.disabled:a.disabled=!0,t!==o&&!s&&(i(),t?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),t)}},KR=function(e,r,i){var t=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",o=t[s+"QualityChange_"].bind(t);if(r.attributes){var u=r.attributes.RESOLUTION;this.width=u&&u.width,this.height=u&&u.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=Ya(t.master(),r),this.playlist=r,this.id=i,this.enabled=$R(e.playlists,r.id,o)},XR=function(e){e.representations=function(){var r=e.masterPlaylistController_.master(),i=Os(r)?e.masterPlaylistController_.getAudioTrackPlaylists_():r.playlists;return i?i.filter(function(t){return!Nh(t)}).map(function(t,a){return new KR(e,t,t.id)}):[]}},yv=["seeking","seeked","pause","playing","error"],YR=function(){function n(r){var i=this;this.masterPlaylistController_=r.masterPlaylistController,this.tech_=r.tech,this.seekable=r.seekable,this.allowSeeksWithinUnsafeLiveWindow=r.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=r.liveRangeSafeTimeDelta,this.media=r.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Tr("PlaybackWatcher"),this.logger_("initialize");var t=function(){return i.monitorCurrentTime_()},a=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},u=this.masterPlaylistController_,l=["main","subtitle","audio"],c={};l.forEach(function(f){c[f]={reset:function(){return i.resetSegmentDownloads_(f)},updateend:function(){return i.checkSegmentDownloads_(f)}},u[f+"SegmentLoader_"].on("appendsdone",c[f].updateend),u[f+"SegmentLoader_"].on("playlistupdate",c[f].reset),i.tech_.on(["seeked","seeking"],c[f].reset)});var d=function(p){["main","audio"].forEach(function(y){u[y+"SegmentLoader_"][p]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),d("off"))},this.clearSeekingAppendCheck_=function(){return d("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),d("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(yv,o),this.tech_.on("canplay",a),this.tech_.one("play",t),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(yv,o),i.tech_.off("canplay",a),i.tech_.off("play",t),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),l.forEach(function(f){u[f+"SegmentLoader_"].off("appendsdone",c[f].updateend),u[f+"SegmentLoader_"].off("playlistupdate",c[f].reset),i.tech_.off(["seeked","seeking"],c[f].reset)}),i.checkCurrentTimeTimeout_&&P.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=n.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&P.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=P.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var t=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=t.buffered_()},e.checkSegmentDownloads_=function(i){var t=this.masterPlaylistController_,a=t[i+"SegmentLoader_"],s=a.buffered_(),o=VO(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,o){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:Xi(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&t.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===i&&(!t.length||i+kr>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var t=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(t,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(s){var u=t.end(t.length-1);o=u}if(this.beforeSeekableWindow_(t,a)){var l=t.start(0);o=l+(l===t.end(0)?0:kr)}if(typeof o<"u")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+UT(t)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var c=this.masterPlaylistController_.sourceUpdater_,d=this.tech_.buffered(),f=c.audioBuffer?c.audioBuffered():null,p=c.videoBuffer?c.videoBuffered():null,y=this.media(),_=y.partTargetDuration?y.partTargetDuration:(y.targetDuration-ki)*2,T=[f,p],E=0;E<T.length;E++)if(T[E]){var C=Mh(T[E],a);if(C<_)return!1}var I=ho(d,a);return I.length===0?!1:(o=I.start(0)+kr,this.logger_("Buffered region starts ("+I.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),t=this.tech_.buffered(),a=Ln(t,i);if(a.length&&i+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,t)){var a=i.end(i.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),u=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:t});if(u)return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var l=ho(o,t);if(l.length>0){var c=l.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+c+", seeking "+("to "+l.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),c*1e3,t),!0}return!1},e.afterSeekableWindow_=function(i,t,a,s){if(s===void 0&&(s=!1),!i.length)return!1;var o=i.end(i.length-1)+kr,u=!a.endList;return u&&s&&(o=i.end(i.length-1)+a.targetDuration*3),t>o},e.beforeSeekableWindow_=function(i,t){return!!(i.length&&i.start(0)>0&&t<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var t=i.videoBuffered,a=i.audioBuffered,s=i.currentTime;if(t){var o;if(t.length&&a.length){var u=Ln(t,s-3),l=Ln(t,s),c=Ln(a,s);c.length&&!l.length&&u.length&&(o={start:u.end(0),end:c.end(0)})}else{var d=ho(t,s);d.length||(o=this.gapFromVideoUnderflow_(t,s))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(i){var t=this.tech_.buffered(),a=this.tech_.currentTime(),s=ho(t,a);this.cancelTimer_(),!(s.length===0||a!==i)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+ki),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,t){for(var a=BO(i),s=0;s<a.length;s++){var o=a.start(s),u=a.end(s);if(t-o<4&&t-o>2)return{start:o,end:u}}return null},n}(),QR={errorInterval:30,getSource:function(e){var r=this.tech({IWillNotUseThisInPlugins:!0}),i=r.currentSource_||this.currentSource();return e(i)}},JR=function n(e,r){var i=0,t=0,a=U.mergeOptions(QR,r);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){t&&e.currentTime(t)},o=function(f){f!=null&&(t=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(f),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){if(Date.now()-i<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){U.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(e,o)},l=function d(){e.off("loadedmetadata",s),e.off("error",u),e.off("dispose",d)},c=function(f){l(),n(e,f)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=c},ZR=function(e){JR(this,e)},xb="2.16.2",eM="6.0.1",tM="0.22.1",rM="4.8.0",iM="3.1.3",ft={PlaylistLoader:Rn,Playlist:Rt,utils:fL,STANDARD_PLAYLIST_SELECTOR:lv,INITIAL_PLAYLIST_SELECTOR:tR,lastBandwidthSelector:lv,movingAverageBandwidthSelector:ZL,comparePlaylistBandwidth:Vh,comparePlaylistResolution:JL,xhr:eb()};Object.keys(it).forEach(function(n){Object.defineProperty(ft,n,{get:function(){return U.log.warn("using Vhs."+n+" is UNSAFE be sure you know what you are doing"),it[n]},set:function(r){if(U.log.warn("using Vhs."+n+" is UNSAFE be sure you know what you are doing"),typeof r!="number"||r<0){U.log.warn("value of Vhs."+n+" must be greater than or equal to 0");return}it[n]=r}})});var Eb="videojs-vhs",Cb=function(e,r){for(var i=r.media(),t=-1,a=0;a<e.length;a++)if(e[a].id===i.id){t=a;break}e.selectedIndex_=t,e.trigger({selectedIndex:t,type:"change"})},nM=function(e,r){r.representations().forEach(function(i){e.addQualityLevel(i)}),Cb(e,r.playlists)};ft.canPlaySource=function(){return U.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var aM=function(e,r,i){if(!e)return e;var t={};r&&r.attributes&&r.attributes.CODECS&&(t=lu(Er(r.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(t.audio=i.attributes.CODECS);var a=us(t.video),s=us(t.audio),o={};for(var u in e)o[u]={},s&&(o[u].audioContentType=s),a&&(o[u].videoContentType=a),r.contentProtection&&r.contentProtection[u]&&r.contentProtection[u].pssh&&(o[u].pssh=r.contentProtection[u].pssh),typeof e[u]=="string"&&(o[u].url=e[u]);return U.mergeOptions(e,o)},sM=function(e,r){return e.reduce(function(i,t){if(!t.contentProtection)return i;var a=r.reduce(function(s,o){var u=t.contentProtection[o];return u&&u.pssh&&(s[o]={pssh:u.pssh}),s},{});return Object.keys(a).length&&i.push(a),i},[])},oM=function(e){var r=e.player,i=e.sourceKeySystems,t=e.audioMedia,a=e.mainPlaylists;if(!r.eme.initializeMediaKeys)return Promise.resolve();var s=t?a.concat([t]):a,o=sM(s,Object.keys(i)),u=[],l=[];return o.forEach(function(c){l.push(new Promise(function(d,f){r.tech_.one("keysessioncreated",d)})),u.push(new Promise(function(d,f){r.eme.initializeMediaKeys({keySystems:c},function(p){if(p){f(p);return}d()})}))}),Promise.race([Promise.all(u),Promise.race(l)])},uM=function(e){var r=e.player,i=e.sourceKeySystems,t=e.media,a=e.audioMedia,s=aM(i,t,a);return s?(r.currentSource().keySystems=s,s&&!r.eme?(U.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},wb=function(){if(!P.localStorage)return null;var e=P.localStorage.getItem(Eb);if(!e)return null;try{return JSON.parse(e)}catch{return null}},lM=function(e){if(!P.localStorage)return!1;var r=wb();r=r?U.mergeOptions(r,e):e;try{P.localStorage.setItem(Eb,JSON.stringify(r))}catch{return!1}return r},cM=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};ft.supportsNativeHls=function(){if(!K||!K.createElement)return!1;var n=K.createElement("video");if(!U.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(r){return/maybe|probably/i.test(n.canPlayType(r))})}();ft.supportsNativeDash=function(){return!K||!K.createElement||!U.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(K.createElement("video").canPlayType("application/dash+xml"))}();ft.supportsTypeNatively=function(n){return n==="hls"?ft.supportsNativeHls:n==="dash"?ft.supportsNativeDash:!1};ft.isSupported=function(){return U.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var dM=U.getComponent("Component"),qh=function(n){Y(e,n);function e(i,t,a){var s;if(s=n.call(this,t,U.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&U.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=Tr("VhsHandler"),t.options_&&t.options_.playerId){var o=U(t.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return U.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),le(s)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return U.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),le(s)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return U.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),le(s)},configurable:!0}),s.player_=o}if(s.tech_=t,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(K,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(u){var l=K.fullscreenElement||K.webkitFullscreenElement||K.mozFullScreenElement||K.msFullscreenElement;l&&l.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var r=e.prototype;return r.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=wb();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=it.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===it.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof t.source_[s]<"u"&&(t.options_[s]=t.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(t,a){var s=this;if(t){this.setOptions_(),this.options_.src=cM(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=ft,this.options_.sourceType=U_(a),this.options_.seekTo=function(l){s.tech_.setCurrentTime(l)},this.options_.smoothQualityChange&&U.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new GR(this.options_);var o=U.mergeOptions({liveRangeSafeTimeDelta:kr},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new YR(o),this.masterPlaylistController_.on("error",function(){var l=U.players[s.tech_.options_.playerId],c=s.masterPlaylistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),l.error(c)});var u=this.options_.experimentalBufferBasedABR?ft.movingAverageBandwidthSelector(.55):ft.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):u.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ft.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var c=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,d=P.navigator.connection||P.navigator.mozConnection||P.navigator.webkitConnection,f=1e7;if(this.options_.useNetworkInformationApi&&d){var p=d.downlink*1e3*1e3;p>=f&&c>=f?c=Math.max(c,p):c=p}return c},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),d;this.throughput>0?d=1/this.throughput:d=0;var f=Math.floor(1/(c+d));return f},set:function(){U.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Xi(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Xi(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&lM({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){XR(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=P.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},r.createKeySessions_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),oM({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){t.logger_("error while creating EME key session",s),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},r.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},r.setupEme_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=uM({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(o){if(o.status==="output-restricted"){var u=t.masterPlaylistController_.master();if(!(!u||!u.playlists)){var l=[];if(u.playlists.forEach(function(d){d&&d.attributes&&d.attributes.RESOLUTION&&d.attributes.RESOLUTION.height>=720&&(!d.excludeUntil||d.excludeUntil<1/0)&&(d.excludeUntil=1/0,l.push(d))}),l.length){var c;(c=U.log).warn.apply(c,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(l)),t.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),U.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},r.setupQualityLevels_=function(){var t=this,a=U.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){nM(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){Cb(t.qualityLevels_,t.playlists)}))},e.version=function(){return{"@videojs/http-streaming":xb,"mux.js":eM,"mpd-parser":tM,"m3u8-parser":rM,"aes-decrypter":iM}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return Sb.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&P.URL.revokeObjectURL&&(P.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),n.prototype.dispose.call(this)},r.convertToProgramTime=function(t,a){return yL({playlist:this.masterPlaylistController_.media(),time:t,callback:a})},r.seekToProgramTime=function(t,a,s,o){return s===void 0&&(s=!0),o===void 0&&(o=2),TL({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(dM),vs={name:"videojs-http-streaming",VERSION:xb,canHandleSource:function(e,r){r===void 0&&(r={});var i=U.mergeOptions(U.options,r);return vs.canPlayType(e.type,i)},handleSource:function(e,r,i){i===void 0&&(i={});var t=U.mergeOptions(U.options,i);return r.vhs=new qh(e,r,t),U.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return U.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),r.vhs},configurable:!0}),r.vhs.xhr=eb(),r.vhs.src(e.src,e.type),r.vhs},canPlayType:function(e,r){var i=U_(e);if(!i)return"";var t=vs.getOverrideNative(r),a=ft.supportsTypeNatively(i),s=!a||t;return s?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var r=e,i=r.vhs,t=i===void 0?{}:i,a=r.hls,s=a===void 0?{}:a,o=!(U.browser.IS_ANY_SAFARI||U.browser.IS_IOS),u=t.overrideNative,l=u===void 0?o:u,c=s.overrideNative,d=c===void 0?!1:c;return d||l}},fM=function(){return So("avc1.4d400d,mp4a.40.2")};fM()&&U.getTech("Html5").registerSourceHandler(vs,0);U.VhsHandler=qh;Object.defineProperty(U,"HlsHandler",{get:function(){return U.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),qh},configurable:!0});U.VhsSourceHandler=vs;Object.defineProperty(U,"HlsSourceHandler",{get:function(){return U.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),vs},configurable:!0});U.Vhs=ft;Object.defineProperty(U,"Hls",{get:function(){return U.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),ft},configurable:!0});U.use||(U.registerComponent("Hls",ft),U.registerComponent("Vhs",ft));U.options.vhs=U.options.vhs||{};U.options.hls=U.options.hls||{};if(!U.getPlugin||!U.getPlugin("reloadSourceOnError")){var hM=U.registerPlugin||U.plugin;hM("reloadSourceOnError",ZR)}function Bc(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var t=0;for(i=Object.getOwnPropertySymbols(n);t<i.length;t++)e.indexOf(i[t])<0&&Object.prototype.propertyIsEnumerable.call(n,i[t])&&(r[i[t]]=n[i[t]])}return r}var pM={src:{type:String,onChange:function(n,e){return n.src(e)}},width:{type:Number,onChange:function(n,e){return n.width(e)},onEvent:function(n,e){n.on(["playerresize","resize"],function(){return e(n.width())})}},height:{type:Number,onChange:function(n,e){return n.height(e)},onEvent:function(n,e){n.on(["playerresize","resize"],function(){return e(n.height())})}},preload:{type:String,onChange:function(n,e){return n.preload(e)}},loop:{type:Boolean,onChange:function(n,e){return n.loop(e)}},muted:{type:Boolean,onChange:function(n,e){return n.muted(e)},onEvent:function(n,e){return n.on("volumechange",function(){return e(n.muted())})}},poster:{type:String,onChange:function(n,e){return n.poster(e)},onEvent:function(n,e){return n.on("posterchange",function(){return e(n.poster())})}},controls:{type:Boolean,onChange:function(n,e){return n.controls(e)},onEvent:function(n,e){n.on("controlsenabled",function(){return e(!0)}),n.on("controlsdisabled",function(){return e(!1)})}},autoplay:{type:[Boolean,String],onChange:function(n,e){return n.autoplay(e)}},crossorigin:{type:String,onChange:function(n,e){return n.crossOrigin(e)}},crossOrigin:{type:String,onChange:function(n,e){return n.crossOrigin(e)}},playsinline:{type:Boolean,onChange:function(n,e){return n.playsinline(e)}},playsInline:{type:Boolean,onChange:function(n,e){return n.playsinline(e)}}},mM={id:{type:String},sources:{type:Array,onChange:function(n,e){return n.src(e)}},tracks:{type:Array,onChange:function(n,e){for(var r=n.remoteTextTracks(),i=(r==null?void 0:r.length)||0;i--;)n.removeRemoteTextTrack(r[i]);n.ready(function(){e.forEach(function(t){return n.addRemoteTextTrack(t,!1)})})}},textTrackSettings:{type:Object,onChange:function(n,e){return n.textTrackSettings.options(e)}},language:{type:String,onChange:function(n,e){return n.language(e)},onEvent:function(n,e){return n.on("languagechange",function(){return e(n.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(n,e){return n.playbackRates(e??[])},onEvent:function(n,e){n.on("playbackrateschange",function(){return e(n.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(n,e){return n.audioOnlyMode(e)}},audioPosterMode:{type:Boolean,onChange:function(n,e){return n.audioPosterMode(e)}},responsive:{type:Boolean,onChange:function(n,e){return n.responsive(e)}},breakpoints:{type:Object,onChange:function(n,e){return n.breakpoints(e)}},fluid:{type:Boolean,onChange:function(n,e){return n.fluid(e)}},fill:{type:Boolean,onChange:function(n,e){return n.fill(e)}},aspectRatio:{type:String,onChange:function(n,e){return n.aspectRatio(e)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(n,e){return n.disablePictureInPicture(e)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},gM={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(n,e){return n.controlBar.options(e)}}},vM={html5:{type:Object}},_M={volume:{type:Number,onChange:function(n,e){return n.volume(e)},onEvent:function(n,e){return n.on("volumechange",function(){return e(n.volume())})}},playbackRate:{type:Number,onChange:function(n,e){n.playbackRate(e),n.defaultPlaybackRate(e)},onEvent:function(n,e){n.on("ratechange",function(){e(n.playbackRate())})}},options:{type:Object}},_s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pM),mM),gM),vM),_M),Wh=Object.keys(_s),Ab=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),Db=Object.keys(Ab);Object.values(Ab);var Uc=function(n){var e,r=n==null?void 0:n.trim().replace(/\s+/g," ");return r&&(e=r.split(" "))!==null&&e!==void 0?e:[]},jc={src:{getter:function(n){return n.src()}},currentSrc:{getter:function(n){return n.currentSrc()}},currentSource:{getter:function(n){return n.currentSource()}},width:{events:["resize","playerresize"],getter:function(n){return n.width()}},height:{events:["resize","playerresize"],getter:function(n){return n.height()}},currentWidth:{events:["resize","playerresize"],getter:function(n){return n.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(n){return n.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(n){return n.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(n){return n.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(n){return n.controls()}},volume:{events:["volumechange"],getter:function(n){return n.volume()}},muted:{events:["volumechange"],getter:function(n){return n.muted()}},poster:{events:["posterchange"],getter:function(n){return n.poster()}},seeking:{events:["seeking"],getter:function(n){return n.seeking()}},paused:{events:["pause","play","playing"],getter:function(n){return n.paused()}},ended:{events:["ended","play"],getter:function(n){return n.ended()}},currentTime:{events:["timeupdate"],getter:function(n){return n.currentTime()}},duration:{events:["durationchange"],getter:function(n){return n.duration()}},playbackRate:{events:["ratechange"],getter:function(n){return n.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(n){return n.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(n){return n.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(n){return n.isInPictureInPicture()}},isLive:{getter:function(n){var e;return(e=n.liveTracker)===null||e===void 0?void 0:e.isLive()}},language:{events:["languagechange"],getter:function(n){return n.language()}},userActive:{events:["useractive","userinactive"],getter:function(n){return n.userActive()}},readyState:{events:["loadeddata"],getter:function(n){return n.readyState()}},networkState:{events:["loadeddata","error"],getter:function(n){return n.networkState()}},error:{events:["loadeddata","error"],getter:function(n){return n.error()}},buffered:{events:["progress"],getter:function(n){return n.buffered()}},bufferedPercent:{events:["progress"],getter:function(n){return n.bufferedPercent()}},played:{events:["timeupdate"],getter:function(n){return n.played()}},seekable:{events:["progress","seeked"],getter:function(n){return n.seekable()}},audioTracks:{getter:function(n){var e;return(e=n.audioTracks)===null||e===void 0?void 0:e.call(n)}},videoTracks:{getter:function(n){var e;return(e=n.videoTracks)===null||e===void 0?void 0:e.call(n)}},textTracks:{getter:function(n){var e;return(e=n.textTracks)===null||e===void 0?void 0:e.call(n)}}},kb=Wh.filter(function(n){return!!_s[n].onEvent}),Pb=function(n){return"update:"+n},yM=Db.concat(kb.map(Pb)),TM=Wh.reduce(function(n,e){var r,i=_s[e],t=Array.isArray(i.type)?i.type:[i.type],a=Object.assign({},i);return t.includes(Boolean)&&(a.default=void 0),Object.assign(Object.assign({},n),((r={})[e]=a,r))},{}),bM=Br({name:"VueVideoPlayer",props:Object.assign(Object.assign({},TM),{class:[String,Object,Array]}),emits:yM.concat(["mounted"],["unmounted"]),setup:function(n,e){var r=Ev(n),i=r.class,t=Bc(r,["class"]),a=Qr(!1),s=Qr(null),o=Qr(null),u=Fe(function(){return o.value?o.value.player:null}),l=Je(null),c=Fe(function(){return l.value?tf(l.value):null});return Cv(function(){var d,f=function(p){var y,_=p.props,T=p.element,E=p.className,C=p.onEvent,I=_.options;I===void 0&&(I={});var k=Bc(_,["options"]),D={};Object.keys(k).forEach(function(G){var re=k[G];re!==void 0&&(D[G]=re)});var N=Object.assign(Object.assign({},D),I),M=N.volume,L=N.playbackRate,O=Bc(N,["volume","playbackRate"]),j=Object.assign(Object.assign({},O),{playsinline:(y=O.playsinline)!==null&&y!==void 0?y:O.playsInline}),q=U(T,j,function(){var G=this;Db.forEach(function(re){G.on(re,function(ie){C(re,ie)})}),O.src&&!O.sources&&this.src(O.src),M&&Number.isFinite(M)&&this.volume(M),L&&Number.isFinite(L)&&(this.defaultPlaybackRate(L),setTimeout(function(){G.playbackRate(L)},0))});E&&Uc(E).map(function(G){return q.addClass(G)});var H=function(G){var re;(re=q.options)===null||re===void 0||re.call(q,G??{})};return{player:q,dispose:function(){return q.dispose()},updateClassNames:function(G,re){Uc(G).map(function(ie){return q.removeClass(ie)}),Uc(re).map(function(ie){return q.addClass(ie)})},updateOptions:H,updatePropOption:function(G,re){var ie,X,ne;H(((ie={})[G]=re,ie)),(ne=(X=_s[G])===null||X===void 0?void 0:X.onChange)===null||ne===void 0||ne.call(X,q,re)}}}({element:s.value,props:t,onEvent:e.emit});d={player:f.player,onEvent:e.emit},kb.forEach(function(p){var y,_;(_=(y=_s[p])===null||y===void 0?void 0:y.onEvent)===null||_===void 0||_.call(y,d.player,function(T){d.onEvent(Pb(p),T)})}),Jr(function(){return n.class},function(p,y){var _=ul(y),T=ul(p);f.updateClassNames(_,T)},{immediate:!0}),Jr(function(){return n.options},function(p){return f.updateOptions(p??{})},{deep:!0}),Wh.filter(function(p){return p!=="options"}).forEach(function(p){Jr(function(){return n[p]},function(y){return f.updatePropOption(p,y)},{deep:!0})}),function(p,y){var _=Object.keys(jc),T=_.reduce(function(C,I){var k;return Object.assign(Object.assign({},C),((k={})[I]=jc[I].getter(p),k))},{playing:!1,waiting:!1}),E=function(C,I){T[C]=I,y.onUpdate(C,I,Object.assign({},T))};p.on(["pause","ended"],function(){E("playing",!1)}),p.on(["play","playing"],function(){E("playing",!0)}),p.on("waiting",function(){E("waiting",!0);var C=p.currentTime(),I=function(){C!==p.currentTime()&&(E("waiting",!1),p.off("timeupdate",I))};p.on("timeupdate",I)}),_.forEach(function(C){var I,k=jc[C];p.on(["loadstart","loadedmetadata"].concat((I=k.events)!==null&&I!==void 0?I:[]),function(){E(C,k.getter(p))})}),y.onInit(Object.assign({},T))}(f.player,{onInit:function(p){l.value=p},onUpdate:function(p,y){l.value&&(l.value[p]=y)}}),o.value=f,a.value=!0,e.emit("mounted",{video:s.value,player:u.value,state:c.value})}),px(function(){o.value&&(o.value.dispose(),o.value=null,l.value=null,e.emit("unmounted"))}),function(){var d,f;return Mt("div",{"data-vjs-player":"",class:ul(i)},[Mt("video",{class:["video-js","v-video-player"],ref:s}),a.value&&((f=(d=e.slots).default)===null||f===void 0?void 0:f.call(d,{video:s.value,player:u.value,state:c.value}))])}}}),SM=bM;const xM={class:"bg-black relative"},EM={key:1,class:"fixed inset-0 w-full h-full z-9999 !bg-black"},CM=Br({__name:"app",setup(n){const e=Je(!0);Yi("reload",()=>{e.value=!1,Nr(()=>{e.value=!0})}),navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&(window.location.href="https://starscollective.com/h5/");const t=E0(),a=Je(!0),s=()=>{t.setPageLoading(!0)},o=()=>{a.value=!1,s()};return(u,l)=>{const c=Pw,d=tD,f=iD;return mr(),Kr(f,null,{default:af(()=>[Gr("div",xM,[ge(e)?(mr(),Kr(c,{key:0})):Vc("",!0),kp(d),!ge(t).getPageLoading&&ge(a)?(mr(),wv("div",EM,[kp(ge(SM),{src:"https://www.starscollective.com/assets/videos/pc//sc_index3s.webm",muted:"",autoplay:"",playsinline:"",class:"w-full h-full loading-video",onEnded:o}),Gr("div",{class:"fixed bottom-10 right-20 cursor-pointer text-xl",onClick:o},"Skip")])):Vc("",!0)])]),_:1})}}}),wM={__name:"nuxt-error-page",props:{error:Object},setup(n){const r=n.error;r.stack&&r.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const i=Number(r.statusCode||500),t=i===404,a=r.statusMessage??(t?"Page Not Found":"Internal Server Error"),s=r.message||r.toString(),o=void 0,u=Ei(()=>ae(()=>import("./CMb2dCDj.js"),__vite__mapDeps([146,71,2,3,94,27,147]),import.meta.url).then(d=>d.default||d)),l=Ei(()=>ae(()=>import("./WF4RdjBm.js"),__vite__mapDeps([148,94,2,3,27,149]),import.meta.url).then(d=>d.default||d)),c=t?u:l;return(d,f)=>(mr(),Kr(ge(c),mx(gx({statusCode:ge(i),statusMessage:ge(a),description:ge(s),stack:ge(o)})),null,16))}},Tv={__name:"nuxt-root",setup(n){const e=()=>null,r=ke(),i=r.deferHydration();if(r.isHydrating){const o=r.hooks.hookOnce("app:error",i);Ur().beforeEach(o)}const t=!1;Yi(ys,df()),r.hooks.callHookWith(o=>o.map(u=>u()),"vue:setup");const a=_u();vx((o,u,l)=>{if(r.hooks.callHook("vue:error",o,u,l).catch(c=>{}),n2(o)&&(o.fatal||o.unhandled))return r.runWithContext(()=>Dn(o)),!1});const s=!1;return(o,u)=>(mr(),Kr(rf,{onResolve:ge(i)},{default:af(()=>[ge(a)?(mr(),Kr(ge(wM),{key:0,error:ge(a)},null,8,["error"])):ge(s)?(mr(),Kr(ge(e),{key:1,context:ge(s)},null,8,["context"])):ge(t)?(mr(),Kr(_x(ge(t)),{key:2})):(mr(),Kr(ge(CM),{key:3}))]),_:1},8,["onResolve"]))}};let bv;{let n;bv=async function(){var s,o;if(n)return n;const i=!!((s=window.__NUXT__)!=null&&s.serverRendered||((o=document.getElementById("__NUXT_DATA__"))==null?void 0:o.dataset.ssr)==="true")?yx(Tv):Tx(Tv),t=CE({vueApp:i});async function a(u){await t.callHook("app:error",u),t.payload.error=t.payload.error||yu(u)}i.config.errorHandler=a;try{await AE(t,Dw)}catch(u){a(u)}try{await t.hooks.callHook("app:created",i),await t.hooks.callHook("app:beforeMount",i),i.mount(Q2),await t.hooks.callHook("app:mounted",i),await Nr()}catch(u){a(u)}return i.config.errorHandler===a&&(i.config.errorHandler=void 0),i},n=bv().catch(e=>{throw e})}export{NM as $,gu as A,Fx as B,IM as C,vu as D,ke as E,Wc as F,of as G,uw as H,VM as I,XM as J,OM as K,yu as L,DM as M,LM as N,hw as O,dw as P,pw as Q,SM as R,$M as S,E0 as T,sw as U,Lo as V,BM as W,Oo as X,qM as Y,jM as Z,iD as _,df as a,FM as a0,UM as a1,Qv as a2,HM as a3,S0 as a4,fw as a5,ys as a6,ae as a7,MM as a8,kM as a9,Pw as b,Ro as c,y0 as d,YM as e,lw as f,E_ as g,zM as h,_f as i,GM as j,JM as k,QM as l,ac as m,r2 as n,WM as o,Ov as p,PM as q,Jc as r,KM as s,Ur as t,Rw as u,cn as v,p0 as w,mm as x,RM as y,uf as z};
